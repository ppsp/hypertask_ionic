"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-tab_2_entry_js"],{

/***/ 86185:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_tab": () => (/* binding */ Tab),
/* harmony export */   "ion_tabs": () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 40320);
/* harmony import */ var _framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./framework-delegate-c3305a28.js */ 74293);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 97140);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const tabCss = ":host(.tab-hidden){display:none !important}";
const Tab = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.loaded = false;
    /** @internal */

    this.active = false;
  }

  componentWillLoad() {
    var _this = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.active) {
        yield _this.setActive();
      }
    })();
  }
  /** Set the active component for the tab */


  setActive() {
    var _this2 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this2.prepareLazyLoaded();
      _this2.active = true;
    })();
  }

  changeActive(isActive) {
    if (isActive) {
      this.prepareLazyLoaded();
    }
  }

  prepareLazyLoaded() {
    if (!this.loaded && this.component != null) {
      this.loaded = true;

      try {
        return (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.delegate, this.el, this.component, ['ion-page']);
      } catch (e) {
        console.error(e);
      }
    }

    return Promise.resolve(undefined);
  }

  render() {
    const {
      tab,
      active,
      component
    } = this;
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      role: "tabpanel",
      "aria-hidden": !active ? 'true' : null,
      "aria-labelledby": `tab-button-${tab}`,
      class: {
        'ion-page': component === undefined,
        'tab-hidden': !active
      }
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "active": ["changeActive"]
    };
  }

};
Tab.style = tabCss;
const tabsCss = ":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}";
const Tabs = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionNavWillLoad = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionNavWillLoad", 7);
    this.ionTabsWillChange = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionTabsWillChange", 3);
    this.ionTabsDidChange = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionTabsDidChange", 3);
    this.transitioning = false;
    /** @internal */

    this.useRouter = false;

    this.onTabClicked = ev => {
      const {
        href,
        tab
      } = ev.detail;

      if (this.useRouter && href !== undefined) {
        const router = document.querySelector('ion-router');

        if (router) {
          router.push(href);
        }
      } else {
        this.select(tab);
      }
    };
  }

  componentWillLoad() {
    var _this3 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this3.useRouter) {
        _this3.useRouter = !!document.querySelector('ion-router') && !_this3.el.closest('[no-router]');
      }

      if (!_this3.useRouter) {
        const tabs = _this3.tabs;

        if (tabs.length > 0) {
          yield _this3.select(tabs[0]);
        }
      }

      _this3.ionNavWillLoad.emit();
    })();
  }

  componentWillRender() {
    const tabBar = this.el.querySelector('ion-tab-bar');

    if (tabBar) {
      const tab = this.selectedTab ? this.selectedTab.tab : undefined;
      tabBar.selectedTab = tab;
    }
  }
  /**
   * Select a tab by the value of its `tab` property or an element reference.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */


  select(tab) {
    var _this4 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this4.tabs, tab);

      if (!_this4.shouldSwitch(selectedTab)) {
        return false;
      }

      yield _this4.setActive(selectedTab);
      yield _this4.notifyRouter();

      _this4.tabSwitch();

      return true;
    })();
  }
  /**
   * Get a specific tab by the value of its `tab` property or an element reference.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */


  getTab(tab) {
    var _this5 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return getTab(_this5.tabs, tab);
    })();
  }
  /**
   * Get the currently selected tab.
   */


  getSelected() {
    return Promise.resolve(this.selectedTab ? this.selectedTab.tab : undefined);
  }
  /** @internal */


  setRouteId(id) {
    var _this6 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this6.tabs, id);

      if (!_this6.shouldSwitch(selectedTab)) {
        return {
          changed: false,
          element: _this6.selectedTab
        };
      }

      yield _this6.setActive(selectedTab);
      return {
        changed: true,
        element: _this6.selectedTab,
        markVisible: () => _this6.tabSwitch()
      };
    })();
  }
  /** @internal */


  getRouteId() {
    var _this7 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a;

      const tabId = (_a = _this7.selectedTab) === null || _a === void 0 ? void 0 : _a.tab;
      return tabId !== undefined ? {
        id: tabId,
        element: _this7.selectedTab
      } : undefined;
    })();
  }

  setActive(selectedTab) {
    if (this.transitioning) {
      return Promise.reject('transitioning already happening');
    }

    this.transitioning = true;
    this.leavingTab = this.selectedTab;
    this.selectedTab = selectedTab;
    this.ionTabsWillChange.emit({
      tab: selectedTab.tab
    });
    selectedTab.active = true;
    return Promise.resolve();
  }

  tabSwitch() {
    const selectedTab = this.selectedTab;
    const leavingTab = this.leavingTab;
    this.leavingTab = undefined;
    this.transitioning = false;

    if (!selectedTab) {
      return;
    }

    if (leavingTab !== selectedTab) {
      if (leavingTab) {
        leavingTab.active = false;
      }

      this.ionTabsDidChange.emit({
        tab: selectedTab.tab
      });
    }
  }

  notifyRouter() {
    if (this.useRouter) {
      const router = document.querySelector('ion-router');

      if (router) {
        return router.navChanged('forward');
      }
    }

    return Promise.resolve(false);
  }

  shouldSwitch(selectedTab) {
    const leavingTab = this.selectedTab;
    return selectedTab !== undefined && selectedTab !== leavingTab && !this.transitioning;
  }

  get tabs() {
    return Array.from(this.el.querySelectorAll('ion-tab'));
  }

  render() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      onIonTabButtonClick: this.onTabClicked
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "top"
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "tabs-inner"
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null)), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "bottom"
    }));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

};

const getTab = (tabs, tab) => {
  const tabEl = typeof tab === 'string' ? tabs.find(t => t.tab === tab) : tab;

  if (!tabEl) {
    console.error(`tab with id: "${tabEl}" does not exist`);
  }

  return tabEl;
};

Tabs.style = tabsCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXRhYl8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTVcsTUFBTSxHQUFHLDZDQUFmO0FBRUEsTUFBTUMsR0FBRyxHQUFHLE1BQU07QUFDaEJDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0FBQ25CYixJQUFBQSxxREFBZ0IsQ0FBQyxJQUFELEVBQU9hLE9BQVAsQ0FBaEI7QUFDQSxTQUFLQyxNQUFMLEdBQWMsS0FBZDtBQUNBOztBQUNBLFNBQUtDLE1BQUwsR0FBYyxLQUFkO0FBQ0Q7O0FBQ0tDLEVBQUFBLGlCQUFpQixHQUFHO0FBQUE7O0FBQUE7QUFDeEIsVUFBSSxLQUFJLENBQUNELE1BQVQsRUFBaUI7QUFDZixjQUFNLEtBQUksQ0FBQ0UsU0FBTCxFQUFOO0FBQ0Q7QUFIdUI7QUFJekI7QUFDRDs7O0FBQ01BLEVBQUFBLFNBQVMsR0FBRztBQUFBOztBQUFBO0FBQ2hCLFlBQU0sTUFBSSxDQUFDQyxpQkFBTCxFQUFOO0FBQ0EsWUFBSSxDQUFDSCxNQUFMLEdBQWMsSUFBZDtBQUZnQjtBQUdqQjs7QUFDREksRUFBQUEsWUFBWSxDQUFDQyxRQUFELEVBQVc7QUFDckIsUUFBSUEsUUFBSixFQUFjO0FBQ1osV0FBS0YsaUJBQUw7QUFDRDtBQUNGOztBQUNEQSxFQUFBQSxpQkFBaUIsR0FBRztBQUNsQixRQUFJLENBQUMsS0FBS0osTUFBTixJQUFnQixLQUFLTyxTQUFMLElBQWtCLElBQXRDLEVBQTRDO0FBQzFDLFdBQUtQLE1BQUwsR0FBYyxJQUFkOztBQUNBLFVBQUk7QUFDRixlQUFPTCxrRUFBZSxDQUFDLEtBQUthLFFBQU4sRUFBZ0IsS0FBS0MsRUFBckIsRUFBeUIsS0FBS0YsU0FBOUIsRUFBeUMsQ0FBQyxVQUFELENBQXpDLENBQXRCO0FBQ0QsT0FGRCxDQUdBLE9BQU9mLENBQVAs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Q2lELEtBQUwsRUFBWTtBQUNWdkQsSUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWUsaUJBQWdCc0QsS0FBTSxrQkFBckM7QUFDRDs7QUFDRCxTQUFPQSxLQUFQO0FBQ0QsQ0FORDs7QUFPQTNDLElBQUksQ0FBQ0YsS0FBTCxHQUFhQyxPQUFiIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tdGFiXzIuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQsIGUgYXMgY3JlYXRlRXZlbnQgfSBmcm9tICcuL2luZGV4LThlNjkyNDQ1LmpzJztcbmltcG9ydCB7IGEgYXMgYXR0YWNoQ29tcG9uZW50IH0gZnJvbSAnLi9mcmFtZXdvcmstZGVsZWdhdGUtYzMzMDVhMjguanMnO1xuaW1wb3J0ICcuL2hlbHBlcnMtM2IzOTBlNDguanMnO1xuXG5jb25zdCB0YWJDc3MgPSBcIjpob3N0KC50YWItaGlkZGVuKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH1cIjtcblxuY29uc3QgVGFiID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgYXdhaXQgdGhpcy5zZXRBY3RpdmUoKTtcbiAgICB9XG4gIH1cbiAgLyoqIFNldCB0aGUgYWN0aXZlIGNvbXBvbmVudCBmb3IgdGhlIHRhYiAqL1xuICBhc3luYyBzZXRBY3RpdmUoKSB7XG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlTGF6eUxvYWRlZCgpO1xuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgfVxuICBjaGFuZ2VBY3RpdmUoaXNBY3RpdmUpIHtcbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMucHJlcGFyZUxhenlMb2FkZWQoKTtcbiAgICB9XG4gIH1cbiAgcHJlcGFyZUxhenlMb2FkZWQoKSB7XG4gICAgaWYgKCF0aGlzLmxvYWRlZCAmJiB0aGlzLmNvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXR0YWNoQ29tcG9uZW50KHRoaXMuZGVsZWdhdGUsIHRoaXMuZWwsIHRoaXMuY29tcG9uZW50LCBbJ2lvbi1wYWdlJ10pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRhYiwgYWN0aXZlLCBjb21wb25lbnQgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgcm9sZTogXCJ0YWJwYW5lbFwiLCBcImFyaWEtaGlkZGVuXCI6ICFhY3RpdmUgPyAndHJ1ZScgOiBudWxsLCBcImFyaWEtbGFiZWxsZWRieVwiOiBgdGFiLWJ1dHRvbi0ke3RhYn1gLCBjbGFzczoge1xuICAgICAgICAnaW9uLXBhZ2UnOiBjb21wb25lbnQgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ3RhYi1oaWRkZW4nOiAhYWN0aXZlLFxuICAgICAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImFjdGl2ZVwiOiBbXCJjaGFuZ2VBY3RpdmVcIl1cbiAgfTsgfVxufTtcblRhYi5zdHlsZSA9IHRhYkNzcztcblxuY29uc3QgdGFic0NzcyA9IFwiOmhvc3R7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtjb250YWluOmxheW91dCBzaXplIHN0eWxlO3otaW5kZXg6MH0udGFicy1pbm5lcntwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleDoxO2ZsZXg6MTtjb250YWluOmxheW91dCBzaXplIHN0eWxlfVwiO1xuXG5jb25zdCBUYWJzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmlvbk5hdldpbGxMb2FkID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25OYXZXaWxsTG9hZFwiLCA3KTtcbiAgICB0aGlzLmlvblRhYnNXaWxsQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25UYWJzV2lsbENoYW5nZVwiLCAzKTtcbiAgICB0aGlzLmlvblRhYnNEaWRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblRhYnNEaWRDaGFuZ2VcIiwgMyk7XG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMudXNlUm91dGVyID0gZmFsc2U7XG4gICAgdGhpcy5vblRhYkNsaWNrZWQgPSAoZXYpID0+IHtcbiAgICAgIGNvbnN0IHsgaHJlZiwgdGFiIH0gPSBldi5kZXRhaWw7XG4gICAgICBpZiAodGhpcy51c2VSb3V0ZXIgJiYgaHJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICAgICAgaWYgKHJvdXRlcikge1xuICAgICAgICAgIHJvdXRlci5wdXNoKGhyZWYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWxlY3QodGFiKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGlmICghdGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgIHRoaXMudXNlUm91dGVyID0gISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyJykgJiYgIXRoaXMuZWwuY2xvc2VzdCgnW25vLXJvdXRlcl0nKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnVzZVJvdXRlcikge1xuICAgICAgY29uc3QgdGFicyA9IHRoaXMudGFicztcbiAgICAgIGlmICh0YWJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZWxlY3QodGFic1swXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaW9uTmF2V2lsbExvYWQuZW1pdCgpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxSZW5kZXIoKSB7XG4gICAgY29uc3QgdGFiQmFyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpb24tdGFiLWJhcicpO1xuICAgIGlmICh0YWJCYXIpIHtcbiAgICAgIGNvbnN0IHRhYiA9IHRoaXMuc2VsZWN0ZWRUYWIgPyB0aGlzLnNlbGVjdGVkVGFiLnRhYiA6IHVuZGVmaW5lZDtcbiAgICAgIHRhYkJhci5zZWxlY3RlZFRhYiA9IHRhYjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBhIHRhYiBieSB0aGUgdmFsdWUgb2YgaXRzIGB0YWJgIHByb3BlcnR5IG9yIGFuIGVsZW1lbnQgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gdGFiIFRoZSB0YWIgaW5zdGFuY2UgdG8gc2VsZWN0LiBJZiBwYXNzZWQgYSBzdHJpbmcsIGl0IHNob3VsZCBiZSB0aGUgdmFsdWUgb2YgdGhlIHRhYidzIGB0YWJgIHByb3BlcnR5LlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KHRhYikge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gZ2V0VGFiKHRoaXMudGFicywgdGFiKTtcbiAgICBpZiAoIXRoaXMuc2hvdWxkU3dpdGNoKHNlbGVjdGVkVGFiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZShzZWxlY3RlZFRhYik7XG4gICAgYXdhaXQgdGhpcy5ub3RpZnlSb3V0ZXIoKTtcbiAgICB0aGlzLnRhYlN3aXRjaCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzcGVjaWZpYyB0YWIgYnkgdGhlIHZhbHVlIG9mIGl0cyBgdGFiYCBwcm9wZXJ0eSBvciBhbiBlbGVtZW50IHJlZmVyZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHRhYiBUaGUgdGFiIGluc3RhbmNlIHRvIHNlbGVjdC4gSWYgcGFzc2VkIGEgc3RyaW5nLCBpdCBzaG91bGQgYmUgdGhlIHZhbHVlIG9mIHRoZSB0YWIncyBgdGFiYCBwcm9wZXJ0eS5cbiAgICovXG4gIGFzeW5jIGdldFRhYih0YWIpIHtcbiAgICByZXR1cm4gZ2V0VGFiKHRoaXMudGFicywgdGFiKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGFiLlxuICAgKi9cbiAgZ2V0U2VsZWN0ZWQoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnNlbGVjdGVkVGFiID8gdGhpcy5zZWxlY3RlZFRhYi50YWIgOiB1bmRlZmluZWQpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXN5bmMgc2V0Um91dGVJZChpZCkge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gZ2V0VGFiKHRoaXMudGFicywgaWQpO1xuICAgIGlmICghdGhpcy5zaG91bGRTd2l0Y2goc2VsZWN0ZWRUYWIpKSB7XG4gICAgICByZXR1cm4geyBjaGFuZ2VkOiBmYWxzZSwgZWxlbWVudDogdGhpcy5zZWxlY3RlZFRhYiB9O1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZShzZWxlY3RlZFRhYik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoYW5nZWQ6IHRydWUsXG4gICAgICBlbGVtZW50OiB0aGlzLnNlbGVjdGVkVGFiLFxuICAgICAgbWFya1Zpc2libGU6ICgpID0+IHRoaXMudGFiU3dpdGNoKCksXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIGdldFJvdXRlSWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHRhYklkID0gKF9hID0gdGhpcy5zZWxlY3RlZFRhYikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhYjtcbiAgICByZXR1cm4gdGFiSWQgIT09IHVuZGVmaW5lZCA/IHsgaWQ6IHRhYklkLCBlbGVtZW50OiB0aGlzLnNlbGVjdGVkVGFiIH0gOiB1bmRlZmluZWQ7XG4gIH1cbiAgc2V0QWN0aXZlKHNlbGVjdGVkVGFiKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCd0cmFuc2l0aW9uaW5nIGFscmVhZHkgaGFwcGVuaW5nJyk7XG4gICAgfVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgdGhpcy5sZWF2aW5nVGFiID0gdGhpcy5zZWxlY3RlZFRhYjtcbiAgICB0aGlzLnNlbGVjdGVkVGFiID0gc2VsZWN0ZWRUYWI7XG4gICAgdGhpcy5pb25UYWJzV2lsbENoYW5nZS5lbWl0KHsgdGFiOiBzZWxlY3RlZFRhYi50YWIgfSk7XG4gICAgc2VsZWN0ZWRUYWIuYWN0aXZlID0gdHJ1ZTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgdGFiU3dpdGNoKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gdGhpcy5zZWxlY3RlZFRhYjtcbiAgICBjb25zdCBsZWF2aW5nVGFiID0gdGhpcy5sZWF2aW5nVGFiO1xuICAgIHRoaXMubGVhdmluZ1RhYiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICBpZiAoIXNlbGVjdGVkVGFiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChsZWF2aW5nVGFiICE9PSBzZWxlY3RlZFRhYikge1xuICAgICAgaWYgKGxlYXZpbmdUYWIpIHtcbiAgICAgICAgbGVhdmluZ1RhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW9uVGFic0RpZENoYW5nZS5lbWl0KHsgdGFiOiBzZWxlY3RlZFRhYi50YWIgfSk7XG4gICAgfVxuICB9XG4gIG5vdGlmeVJvdXRlcigpIHtcbiAgICBpZiAodGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgIGNvbnN0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHJvdXRlci5uYXZDaGFuZ2VkKCdmb3J3YXJkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICB9XG4gIHNob3VsZFN3aXRjaChzZWxlY3RlZFRhYikge1xuICAgIGNvbnN0IGxlYXZpbmdUYWIgPSB0aGlzLnNlbGVjdGVkVGFiO1xuICAgIHJldHVybiBzZWxlY3RlZFRhYiAhPT0gdW5kZWZpbmVkICYmIHNlbGVjdGVkVGFiICE9PSBsZWF2aW5nVGFiICYmICF0aGlzLnRyYW5zaXRpb25pbmc7XG4gIH1cbiAgZ2V0IHRhYnMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tdGFiJykpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBvbklvblRhYkJ1dHRvbkNsaWNrOiB0aGlzLm9uVGFiQ2xpY2tlZCB9LCBoKFwic2xvdFwiLCB7IG5hbWU6IFwidG9wXCIgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0YWJzLWlubmVyXCIgfSwgaChcInNsb3RcIiwgbnVsbCkpLCBoKFwic2xvdFwiLCB7IG5hbWU6IFwiYm90dG9tXCIgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuY29uc3QgZ2V0VGFiID0gKHRhYnMsIHRhYikgPT4ge1xuICBjb25zdCB0YWJFbCA9IHR5cGVvZiB0YWIgPT09ICdzdHJpbmcnID8gdGFicy5maW5kKCh0KSA9PiB0LnRhYiA9PT0gdGFiKSA6IHRhYjtcbiAgaWYgKCF0YWJFbCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYHRhYiB3aXRoIGlkOiBcIiR7dGFiRWx9XCIgZG9lcyBub3QgZXhpc3RgKTtcbiAgfVxuICByZXR1cm4gdGFiRWw7XG59O1xuVGFicy5zdHlsZSA9IHRhYnNDc3M7XG5cbmV4cG9ydCB7IFRhYiBhcyBpb25fdGFiLCBUYWJzIGFzIGlvbl90YWJzIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJoIiwiSCIsIkhvc3QiLCJpIiwiZ2V0RWxlbWVudCIsImUiLCJjcmVhdGVFdmVudCIsImEiLCJhdHRhY2hDb21wb25lbnQiLCJ0YWJDc3MiLCJUYWIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJsb2FkZWQiLCJhY3RpdmUiLCJjb21wb25lbnRXaWxsTG9hZCIsInNldEFjdGl2ZSIsInByZXBhcmVMYXp5TG9hZGVkIiwiY2hhbmdlQWN0aXZlIiwiaXNBY3RpdmUiLCJjb21wb25lbnQiLCJkZWxlZ2F0ZSIsImVsIiwiY29uc29sZSIsImVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1bmRlZmluZWQiLCJyZW5kZXIiLCJ0YWIiLCJyb2xlIiwiY2xhc3MiLCJ3YXRjaGVycyIsInN0eWxlIiwidGFic0NzcyIsIlRhYnMiLCJpb25OYXZXaWxsTG9hZCIsImlvblRhYnNXaWxsQ2hhbmdlIiwiaW9uVGFic0RpZENoYW5nZSIsInRyYW5zaXRpb25pbmciLCJ1c2VSb3V0ZXIiLCJvblRhYkNsaWNrZWQiLCJldiIsImhyZWYiLCJkZXRhaWwiLCJyb3V0ZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwdXNoIiwic2VsZWN0IiwiY2xvc2VzdCIsInRhYnMiLCJsZW5ndGgiLCJlbWl0IiwiY29tcG9uZW50V2lsbFJlbmRlciIsInRhYkJhciIsInNlbGVjdGVkVGFiIiwiZ2V0VGFiIiwic2hvdWxkU3dpdGNoIiwibm90aWZ5Um91dGVyIiwidGFiU3dpdGNoIiwiZ2V0U2VsZWN0ZWQiLCJzZXRSb3V0ZUlkIiwiaWQiLCJjaGFuZ2VkIiwiZWxlbWVudCIsIm1hcmtWaXNpYmxlIiwiZ2V0Um91dGVJZCIsIl9hIiwidGFiSWQiLCJyZWplY3QiLCJsZWF2aW5nVGFiIiwibmF2Q2hhbmdlZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvbklvblRhYkJ1dHRvbkNsaWNrIiwibmFtZSIsInRhYkVsIiwiZmluZCIsInQiLCJpb25fdGFiIiwiaW9uX3RhYnMiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIn0=