"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-virtual-scroll_entry_js"],{

/***/ 87463:
/*!***********************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_virtual_scroll": () => (/* binding */ VirtualScroll)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 40320);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 97140);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const CELL_TYPE_ITEM = 'item';
const CELL_TYPE_HEADER = 'header';
const CELL_TYPE_FOOTER = 'footer';
const NODE_CHANGE_NONE = 0;
const NODE_CHANGE_POSITION = 1;
const NODE_CHANGE_CELL = 2;
const MIN_READS = 2;

const updateVDom = (dom, heightIndex, cells, range) => {
  // reset dom
  for (const node of dom) {
    node.change = NODE_CHANGE_NONE;
    node.d = true;
  } // try to match into exisiting dom


  const toMutate = [];
  const end = range.offset + range.length;

  for (let i = range.offset; i < end; i++) {
    const cell = cells[i];
    const node = dom.find(n => n.d && n.cell === cell);

    if (node) {
      const top = heightIndex[i];

      if (top !== node.top) {
        node.top = top;
        node.change = NODE_CHANGE_POSITION;
      }

      node.d = false;
    } else {
      toMutate.push(cell);
    }
  } // needs to append


  const pool = dom.filter(n => n.d);

  for (const cell of toMutate) {
    const node = pool.find(n => n.d && n.cell.type === cell.type);
    const index = cell.i;

    if (node) {
      node.d = false;
      node.change = NODE_CHANGE_CELL;
      node.cell = cell;
      node.top = heightIndex[index];
    } else {
      dom.push({
        d: false,
        cell,
        visible: true,
        change: NODE_CHANGE_CELL,
        top: heightIndex[index]
      });
    }
  }

  dom.filter(n => n.d && n.top !== -9999).forEach(n => {
    n.change = NODE_CHANGE_POSITION;
    n.top = -9999;
  });
};

const doRender = (el, nodeRender, dom, updateCellHeight) => {
  var _a;

  const children = Array.from(el.children).filter(n => n.tagName !== 'TEMPLATE');
  const childrenNu = children.length;
  let child;

  for (let i = 0; i < dom.length; i++) {
    const node = dom[i];
    const cell = node.cell; // the cell change, the content must be updated

    if (node.change === NODE_CHANGE_CELL) {
      if (i < childrenNu) {
        child = children[i];
        nodeRender(child, cell, i);
      } else {
        const newChild = createNode(el, cell.type);
        child = (_a = nodeRender(newChild, cell, i)) !== null && _a !== void 0 ? _a : newChild;
        child.classList.add('virtual-item');
        el.appendChild(child);
      }

      child['$ionCell'] = cell;
    } else {
      child = children[i];
    } // only update position when it changes


    if (node.change !== NODE_CHANGE_NONE) {
      child.style.transform = `translate3d(0,${node.top}px,0)`;
    } // update visibility


    const visible = cell.visible;

    if (node.visible !== visible) {
      if (visible) {
        child.classList.remove('virtual-loading');
      } else {
        child.classList.add('virtual-loading');
      }

      node.visible = visible;
    } // dynamic height


    if (cell.reads > 0) {
      updateCellHeight(cell, child);
      cell.reads--;
    }
  }
};

const createNode = (el, type) => {
  const template = getTemplate(el, type);

  if (template && el.ownerDocument !== null) {
    return el.ownerDocument.importNode(template.content, true).children[0];
  }

  return null;
};

const getTemplate = (el, type) => {
  switch (type) {
    case CELL_TYPE_ITEM:
      return el.querySelector('template:not([name])');

    case CELL_TYPE_HEADER:
      return el.querySelector('template[name=header]');

    case CELL_TYPE_FOOTER:
      return el.querySelector('template[name=footer]');
  }
};

const getViewport = (scrollTop, vierportHeight, margin) => {
  return {
    top: Math.max(scrollTop - margin, 0),
    bottom: scrollTop + vierportHeight + margin
  };
};

const getRange = (heightIndex, viewport, buffer) => {
  const topPos = viewport.top;
  const bottomPos = viewport.bottom; // find top index

  let i = 0;

  for (; i < heightIndex.length; i++) {
    if (heightIndex[i] > topPos) {
      break;
    }
  }

  const offset = Math.max(i - buffer - 1, 0); // find bottom index

  for (; i < heightIndex.length; i++) {
    if (heightIndex[i] >= bottomPos) {
      break;
    }
  }

  const end = Math.min(i + buffer, heightIndex.length);
  const length = end - offset;
  return {
    offset,
    length
  };
};

const getShouldUpdate = (dirtyIndex, currentRange, range) => {
  const end = range.offset + range.length;
  return dirtyIndex <= end || currentRange.offset !== range.offset || currentRange.length !== range.length;
};

const findCellIndex = (cells, index) => {
  const max = cells.length > 0 ? cells[cells.length - 1].index : 0;

  if (index === 0) {
    return 0;
  } else if (index === max + 1) {
    return cells.length;
  } else {
    return cells.findIndex(c => c.index === index);
  }
};

const inplaceUpdate = (dst, src, offset) => {
  if (offset === 0 && src.length >= dst.length) {
    return src;
  }

  for (let i = 0; i < src.length; i++) {
    dst[i + offset] = src[i];
  }

  return dst;
};

const calcCells = (items, itemHeight, headerHeight, footerHeight, headerFn, footerFn, approxHeaderHeight, approxFooterHeight, approxItemHeight, j, offset, len) => {
  const cells = [];
  const end = len + offset;

  for (let i = offset; i < end; i++) {
    const item = items[i];

    if (headerFn) {
      const value = headerFn(item, i, items);

      if (value != null) {
        cells.push({
          i: j++,
          type: CELL_TYPE_HEADER,
          value,
          index: i,
          height: headerHeight ? headerHeight(value, i) : approxHeaderHeight,
          reads: headerHeight ? 0 : MIN_READS,
          visible: !!headerHeight
        });
      }
    }

    cells.push({
      i: j++,
      type: CELL_TYPE_ITEM,
      value: item,
      index: i,
      height: itemHeight ? itemHeight(item, i) : approxItemHeight,
      reads: itemHeight ? 0 : MIN_READS,
      visible: !!itemHeight
    });

    if (footerFn) {
      const value = footerFn(item, i, items);

      if (value != null) {
        cells.push({
          i: j++,
          type: CELL_TYPE_FOOTER,
          value,
          index: i,
          height: footerHeight ? footerHeight(value, i) : approxFooterHeight,
          reads: footerHeight ? 0 : MIN_READS,
          visible: !!footerHeight
        });
      }
    }
  }

  return cells;
};

const calcHeightIndex = (buf, cells, index) => {
  let acum = buf[index];

  for (let i = index; i < buf.length; i++) {
    buf[i] = acum;
    acum += cells[i].height;
  }

  return acum;
};

const resizeBuffer = (buf, len) => {
  if (!buf) {
    return new Uint32Array(len);
  }

  if (buf.length === len) {
    return buf;
  } else if (len > buf.length) {
    const newBuf = new Uint32Array(len);
    newBuf.set(buf);
    return newBuf;
  } else {
    return buf.subarray(0, len);
  }
};

const positionForIndex = (index, cells, heightIndex) => {
  const cell = cells.find(c => c.type === CELL_TYPE_ITEM && c.index === index);

  if (cell) {
    return heightIndex[cell.i];
  }

  return -1;
};

const virtualScrollCss = "ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;-webkit-transition-duration:0ms;transition-duration:0ms;will-change:transform}";
const VirtualScroll = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.range = {
      offset: 0,
      length: 0
    };
    this.viewportHeight = 0;
    this.cells = [];
    this.virtualDom = [];
    this.isEnabled = false;
    this.viewportOffset = 0;
    this.currentScrollTop = 0;
    this.indexDirty = 0;
    this.lastItemLen = 0;
    this.totalHeight = 0;
    /**
     * It is important to provide this
     * if virtual item height will be significantly larger than the default
     * The approximate height of each virtual item template's cell.
     * This dimension is used to help determine how many cells should
     * be created when initialized, and to help calculate the height of
     * the scrollable area. This height value can only use `px` units.
     * Note that the actual rendered size of each cell comes from the
     * app's CSS, whereas this approximation is used to help calculate
     * initial dimensions before the item has been rendered.
     */

    this.approxItemHeight = 45;
    /**
     * The approximate height of each header template's cell.
     * This dimension is used to help determine how many cells should
     * be created when initialized, and to help calculate the height of
     * the scrollable area. This height value can only use `px` units.
     * Note that the actual rendered size of each cell comes from the
     * app's CSS, whereas this approximation is used to help calculate
     * initial dimensions before the item has been rendered.
     */

    this.approxHeaderHeight = 30;
    /**
     * The approximate width of each footer template's cell.
     * This dimension is used to help determine how many cells should
     * be created when initialized, and to help calculate the height of
     * the scrollable area. This height value can only use `px` units.
     * Note that the actual rendered size of each cell comes from the
     * app's CSS, whereas this approximation is used to help calculate
     * initial dimensions before the item has been rendered.
     */

    this.approxFooterHeight = 30;

    this.onScroll = () => {
      this.updateVirtualScroll();
    };
  }

  itemsChanged() {
    this.calcCells();
    this.updateVirtualScroll();
  }

  componentWillLoad() {
    console.warn(`[Deprecation Warning]: ion-virtual-scroll has been deprecated and will be removed in Ionic Framework v7.0. See https://ionicframework.com/docs/angular/virtual-scroll for migration steps.`);
  }

  connectedCallback() {
    var _this = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const contentEl = _this.el.closest('ion-content');

      if (!contentEl) {
        console.error('<ion-virtual-scroll> must be used inside an <ion-content>');
        return;
      }

      _this.scrollEl = yield contentEl.getScrollElement();
      _this.contentEl = contentEl;

      _this.calcCells();

      _this.updateState();
    })();
  }

  componentDidUpdate() {
    this.updateState();
  }

  disconnectedCallback() {
    this.scrollEl = undefined;
  }

  onResize() {
    this.calcCells();
    this.updateVirtualScroll();
  }
  /**
   * Returns the position of the virtual item at the given index.
   */


  positionForItem(index) {
    return Promise.resolve(positionForIndex(index, this.cells, this.getHeightIndex()));
  }
  /**
   * This method marks a subset of items as dirty, so they can be re-rendered. Items should be marked as
   * dirty any time the content or their style changes.
   *
   * The subset of items to be updated can are specifying by an offset and a length.
   */


  checkRange(offset, len = -1) {
    var _this2 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      // TODO: kind of hacky how we do in-place updated of the cells
      // array. this part needs a complete refactor
      if (!_this2.items) {
        return;
      }

      const length = len === -1 ? _this2.items.length - offset : len;
      const cellIndex = findCellIndex(_this2.cells, offset);
      const cells = calcCells(_this2.items, _this2.itemHeight, _this2.headerHeight, _this2.footerHeight, _this2.headerFn, _this2.footerFn, _this2.approxHeaderHeight, _this2.approxFooterHeight, _this2.approxItemHeight, cellIndex, offset, length);
      _this2.cells = inplaceUpdate(_this2.cells, cells, cellIndex);
      _this2.lastItemLen = _this2.items.length;
      _this2.indexDirty = Math.max(offset - 1, 0);

      _this2.scheduleUpdate();
    })();
  }
  /**
   * This method marks the tail the items array as dirty, so they can be re-rendered.
   *
   * It's equivalent to calling:
   *
   * ```js
   * virtualScroll.checkRange(lastItemLen);
   * ```
   */


  checkEnd() {
    var _this3 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this3.items) {
        _this3.checkRange(_this3.lastItemLen);
      }
    })();
  }

  updateVirtualScroll() {
    // do nothing if virtual-scroll is disabled
    if (!this.isEnabled || !this.scrollEl) {
      return;
    } // unschedule future updates


    if (this.timerUpdate) {
      clearTimeout(this.timerUpdate);
      this.timerUpdate = undefined;
    } // schedule DOM operations into the stencil queue


    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.readVS.bind(this));
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.c)(this.writeVS.bind(this));
  }

  readVS() {
    const {
      contentEl,
      scrollEl,
      el
    } = this;
    let topOffset = 0;
    let node = el;

    while (node !== null && node !== contentEl) {
      topOffset += node.offsetTop;
      node = node.offsetParent;
    }

    this.viewportOffset = topOffset;

    if (scrollEl) {
      this.viewportHeight = scrollEl.offsetHeight;
      this.currentScrollTop = scrollEl.scrollTop;
    }
  }

  writeVS() {
    const dirtyIndex = this.indexDirty; // get visible viewport

    const scrollTop = this.currentScrollTop - this.viewportOffset;
    const viewport = getViewport(scrollTop, this.viewportHeight, 100); // compute lazily the height index

    const heightIndex = this.getHeightIndex(); // get array bounds of visible cells base in the viewport

    const range = getRange(heightIndex, viewport, 2); // fast path, do nothing

    const shouldUpdate = getShouldUpdate(dirtyIndex, this.range, range);

    if (!shouldUpdate) {
      return;
    }

    this.range = range; // in place mutation of the virtual DOM

    updateVDom(this.virtualDom, heightIndex, this.cells, range); // Write DOM
    // Different code paths taken depending of the render API used

    if (this.nodeRender) {
      doRender(this.el, this.nodeRender, this.virtualDom, this.updateCellHeight.bind(this));
    } else if (this.domRender) {
      this.domRender(this.virtualDom);
    } else if (this.renderItem) {
      (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.j)(this);
    }
  }

  updateCellHeight(cell, node) {
    const update = () => {
      if (node['$ionCell'] === cell) {
        const style = window.getComputedStyle(node);
        const height = node.offsetHeight + parseFloat(style.getPropertyValue('margin-bottom'));
        this.setCellHeight(cell, height);
      }
    };

    if (node) {
      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_2__.c)(node, update);
    } else {
      update();
    }
  }

  setCellHeight(cell, height) {
    const index = cell.i; // the cell might changed since the height update was scheduled

    if (cell !== this.cells[index]) {
      return;
    }

    if (cell.height !== height || cell.visible !== true) {
      cell.visible = true;
      cell.height = height;
      this.indexDirty = Math.min(this.indexDirty, index);
      this.scheduleUpdate();
    }
  }

  scheduleUpdate() {
    clearTimeout(this.timerUpdate);
    this.timerUpdate = setTimeout(() => this.updateVirtualScroll(), 100);
  }

  updateState() {
    const shouldEnable = !!(this.scrollEl && this.cells.length > 0);

    if (shouldEnable !== this.isEnabled) {
      this.enableScrollEvents(shouldEnable);

      if (shouldEnable) {
        this.updateVirtualScroll();
      }
    }
  }

  calcCells() {
    if (!this.items) {
      return;
    }

    this.lastItemLen = this.items.length;
    this.cells = calcCells(this.items, this.itemHeight, this.headerHeight, this.footerHeight, this.headerFn, this.footerFn, this.approxHeaderHeight, this.approxFooterHeight, this.approxItemHeight, 0, 0, this.lastItemLen);
    this.indexDirty = 0;
  }

  getHeightIndex() {
    if (this.indexDirty !== Infinity) {
      this.calcHeightIndex(this.indexDirty);
    }

    return this.heightIndex;
  }

  calcHeightIndex(index = 0) {
    // TODO: optimize, we don't need to calculate all the cells
    this.heightIndex = resizeBuffer(this.heightIndex, this.cells.length);
    this.totalHeight = calcHeightIndex(this.heightIndex, this.cells, index);
    this.indexDirty = Infinity;
  }

  enableScrollEvents(shouldListen) {
    if (this.rmEvent) {
      this.rmEvent();
      this.rmEvent = undefined;
    }

    const scrollEl = this.scrollEl;

    if (scrollEl) {
      this.isEnabled = shouldListen;
      scrollEl.addEventListener('scroll', this.onScroll);

      this.rmEvent = () => {
        scrollEl.removeEventListener('scroll', this.onScroll);
      };
    }
  }

  renderVirtualNode(node) {
    const {
      type,
      value,
      index
    } = node.cell;

    switch (type) {
      case CELL_TYPE_ITEM:
        return this.renderItem(value, index);

      case CELL_TYPE_HEADER:
        return this.renderHeader(value, index);

      case CELL_TYPE_FOOTER:
        return this.renderFooter(value, index);
    }
  }

  render() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      style: {
        height: `${this.totalHeight}px`
      }
    }, this.renderItem && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(VirtualProxy, {
      dom: this.virtualDom
    }, this.virtualDom.map(node => this.renderVirtualNode(node))));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "itemHeight": ["itemsChanged"],
      "headerHeight": ["itemsChanged"],
      "footerHeight": ["itemsChanged"],
      "items": ["itemsChanged"]
    };
  }

};

const VirtualProxy = ({
  dom
}, children, utils) => {
  return utils.map(children, (child, i) => {
    const node = dom[i];
    const vattrs = child.vattrs || {};
    let classes = vattrs.class || '';
    classes += 'virtual-item ';

    if (!node.visible) {
      classes += 'virtual-loading';
    }

    return Object.assign(Object.assign({}, child), {
      vattrs: Object.assign(Object.assign({}, vattrs), {
        class: classes,
        style: Object.assign(Object.assign({}, vattrs.style), {
          transform: `translate3d(0,${node.top}px,0)`
        })
      })
    });
  });
};

VirtualScroll.style = virtualScrollCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXZpcnR1YWwtc2Nyb2xsX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNYyxjQUFjLEdBQUcsTUFBdkI7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBRyxRQUF6QjtBQUNBLE1BQU1DLGdCQUFnQixHQUFHLFFBQXpCO0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsQ0FBekI7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxDQUE3QjtBQUNBLE1BQU1DLGdCQUFnQixHQUFHLENBQXpCO0FBRUEsTUFBTUMsU0FBUyxHQUFHLENBQWxCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLFdBQU4sRUFBbUJDLEtBQW5CLEVBQTBCQyxLQUExQixLQUFvQztBQUNyRDtBQUNBLE9BQUssTUFBTUMsSUFBWCxJQUFtQkosR0FBbkIsRUFBd0I7QUFDdEJJLElBQUFBLElBQUksQ0FBQ0MsTUFBTCxHQUFjVixnQkFBZDtBQUNBUyxJQUFBQSxJQUFJLENBQUNFLENBQUwsR0FBUyxJQUFUO0FBQ0QsR0FMb0QsQ0FNckQ7OztBQUNBLFFBQU1DLFFBQVEsR0FBRyxFQUFqQjtBQUNBLFFBQU1DLEdBQUcsR0FBR0wsS0FBSyxDQUFDTSxNQUFOLEdBQWVOLEtBQUssQ0FBQ08sTUFBakM7O0FBQ0EsT0FBSyxJQUFJckIsQ0FBQyxHQUFHYyxLQUFLLENBQUNNLE1BQW5CLEVBQTJCcEIsQ0FBQyxHQUFHbUIsR0FBL0IsRUFBb0NuQixDQUFDLEVBQXJDLEVBQXlDO0FBQ3ZDLFVBQU1zQixJQUFJLEdBQUdULEtBQUssQ0FBQ2IsQ0FBRCxDQUFsQjtBQUNBLFVBQU1lLElBQUksR0FBR0osR0FBRyxDQUFDWSxJQUFKLENBQVVDLENBQUQsSUFBT0EsQ0FBQyxDQUFDUCxDQUFGLElBQU9PLENBQUMsQ0FBQ0YsSUFBRixLQUFXQSxJQUFsQyxDQUFi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LENBQVVySSxRQUFWLEVBQW9CLENBQUNLLEtBQUQsRUFBUTNDLENBQVIsS0FBYztBQUN2QyxVQUFNZSxJQUFJLEdBQUdKLEdBQUcsQ0FBQ1gsQ0FBRCxDQUFoQjtBQUNBLFVBQU04SyxNQUFNLEdBQUduSSxLQUFLLENBQUNtSSxNQUFOLElBQWdCLEVBQS9CO0FBQ0EsUUFBSUMsT0FBTyxHQUFHRCxNQUFNLENBQUNFLEtBQVAsSUFBZ0IsRUFBOUI7QUFDQUQsSUFBQUEsT0FBTyxJQUFJLGVBQVg7O0FBQ0EsUUFBSSxDQUFDaEssSUFBSSxDQUFDZ0IsT0FBVixFQUFtQjtBQUNqQmdKLE1BQUFBLE9BQU8sSUFBSSxpQkFBWDtBQUNEOztBQUNELFdBQU9FLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjRCxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCdkksS0FBbEIsQ0FBZCxFQUF3QztBQUFFbUksTUFBQUEsTUFBTSxFQUFFRyxNQUFNLENBQUNDLE1BQVAsQ0FBY0QsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQkosTUFBbEIsQ0FBZCxFQUF5QztBQUFFRSxRQUFBQSxLQUFLLEVBQUVELE9BQVQ7QUFBa0I5SCxRQUFBQSxLQUFLLEVBQUVnSSxNQUFNLENBQUNDLE1BQVAsQ0FBY0QsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFrQkosTUFBTSxDQUFDN0gsS0FBekIsQ0FBZCxFQUErQztBQUFFQyxVQUFBQSxTQUFTLEVBQUcsaUJBQWdCbkMsSUFBSSxDQUFDVSxHQUFJO0FBQXZDLFNBQS9DO0FBQXpCLE9BQXpDO0FBQVYsS0FBeEMsQ0FBUDtBQUNELEdBVE0sQ0FBUDtBQVVELENBWEQ7O0FBWUErRSxhQUFhLENBQUN2RCxLQUFkLEdBQXNCc0QsZ0JBQXRCIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tdmlydHVhbC1zY3JvbGwuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZiBhcyByZWFkVGFzaywgYyBhcyB3cml0ZVRhc2ssIGogYXMgZm9yY2VVcGRhdGUsIGgsIEggYXMgSG9zdCwgaSBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC04ZTY5MjQ0NS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbXBvbmVudE9uUmVhZHkgfSBmcm9tICcuL2hlbHBlcnMtM2IzOTBlNDguanMnO1xuXG5jb25zdCBDRUxMX1RZUEVfSVRFTSA9ICdpdGVtJztcbmNvbnN0IENFTExfVFlQRV9IRUFERVIgPSAnaGVhZGVyJztcbmNvbnN0IENFTExfVFlQRV9GT09URVIgPSAnZm9vdGVyJztcbmNvbnN0IE5PREVfQ0hBTkdFX05PTkUgPSAwO1xuY29uc3QgTk9ERV9DSEFOR0VfUE9TSVRJT04gPSAxO1xuY29uc3QgTk9ERV9DSEFOR0VfQ0VMTCA9IDI7XG5cbmNvbnN0IE1JTl9SRUFEUyA9IDI7XG5jb25zdCB1cGRhdGVWRG9tID0gKGRvbSwgaGVpZ2h0SW5kZXgsIGNlbGxzLCByYW5nZSkgPT4ge1xuICAvLyByZXNldCBkb21cbiAgZm9yIChjb25zdCBub2RlIG9mIGRvbSkge1xuICAgIG5vZGUuY2hhbmdlID0gTk9ERV9DSEFOR0VfTk9ORTtcbiAgICBub2RlLmQgPSB0cnVlO1xuICB9XG4gIC8vIHRyeSB0byBtYXRjaCBpbnRvIGV4aXNpdGluZyBkb21cbiAgY29uc3QgdG9NdXRhdGUgPSBbXTtcbiAgY29uc3QgZW5kID0gcmFuZ2Uub2Zmc2V0ICsgcmFuZ2UubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gcmFuZ2Uub2Zmc2V0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBjb25zdCBjZWxsID0gY2VsbHNbaV07XG4gICAgY29uc3Qgbm9kZSA9IGRvbS5maW5kKChuKSA9PiBuLmQgJiYgbi5jZWxsID09PSBjZWxsKTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgY29uc3QgdG9wID0gaGVpZ2h0SW5kZXhbaV07XG4gICAgICBpZiAodG9wICE9PSBub2RlLnRvcCkge1xuICAgICAgICBub2RlLnRvcCA9IHRvcDtcbiAgICAgICAgbm9kZS5jaGFuZ2UgPSBOT0RFX0NIQU5HRV9QT1NJVElPTjtcbiAgICAgIH1cbiAgICAgIG5vZGUuZCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRvTXV0YXRlLnB1c2goY2VsbCk7XG4gICAgfVxuICB9XG4gIC8vIG5lZWRzIHRvIGFwcGVuZFxuICBjb25zdCBwb29sID0gZG9tLmZpbHRlcigobikgPT4gbi5kKTtcbiAgZm9yIChjb25zdCBjZWxsIG9mIHRvTXV0YXRlKSB7XG4gICAgY29uc3Qgbm9kZSA9IHBvb2wuZmluZCgobikgPT4gbi5kICYmIG4uY2VsbC50eXBlID09PSBjZWxsLnR5cGUpO1xuICAgIGNvbnN0IGluZGV4ID0gY2VsbC5pO1xuICAgIGlmIChub2RlKSB7XG4gICAgICBub2RlLmQgPSBmYWxzZTtcbiAgICAgIG5vZGUuY2hhbmdlID0gTk9ERV9DSEFOR0VfQ0VMTDtcbiAgICAgIG5vZGUuY2VsbCA9IGNlbGw7XG4gICAgICBub2RlLnRvcCA9IGhlaWdodEluZGV4W2luZGV4XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkb20ucHVzaCh7XG4gICAgICAgIGQ6IGZhbHNlLFxuICAgICAgICBjZWxsLFxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBjaGFuZ2U6IE5PREVfQ0hBTkdFX0NFTEwsXG4gICAgICAgIHRvcDogaGVpZ2h0SW5kZXhbaW5kZXhdLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGRvbVxuICAgIC5maWx0ZXIoKG4pID0+IG4uZCAmJiBuLnRvcCAhPT0gLTk5OTkpXG4gICAgLmZvckVhY2goKG4pID0+IHtcbiAgICBuLmNoYW5nZSA9IE5PREVfQ0hBTkdFX1BPU0lUSU9OO1xuICAgIG4udG9wID0gLTk5OTk7XG4gIH0pO1xufTtcbmNvbnN0IGRvUmVuZGVyID0gKGVsLCBub2RlUmVuZGVyLCBkb20sIHVwZGF0ZUNlbGxIZWlnaHQpID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pLmZpbHRlcigobikgPT4gbi50YWdOYW1lICE9PSAnVEVNUExBVEUnKTtcbiAgY29uc3QgY2hpbGRyZW5OdSA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgbGV0IGNoaWxkO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvbS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG5vZGUgPSBkb21baV07XG4gICAgY29uc3QgY2VsbCA9IG5vZGUuY2VsbDtcbiAgICAvLyB0aGUgY2VsbCBjaGFuZ2UsIHRoZSBjb250ZW50IG11c3QgYmUgdXBkYXRlZFxuICAgIGlmIChub2RlLmNoYW5nZSA9PT0gTk9ERV9DSEFOR0VfQ0VMTCkge1xuICAgICAgaWYgKGkgPCBjaGlsZHJlbk51KSB7XG4gICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIG5vZGVSZW5kZXIoY2hpbGQsIGNlbGwsIGkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld0NoaWxkID0gY3JlYXRlTm9kZShlbCwgY2VsbC50eXBlKTtcbiAgICAgICAgY2hpbGQgPSAoX2EgPSBub2RlUmVuZGVyKG5ld0NoaWxkLCBjZWxsLCBpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3Q2hpbGQ7XG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ3ZpcnR1YWwtaXRlbScpO1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgICBjaGlsZFsnJGlvbkNlbGwnXSA9IGNlbGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICB9XG4gICAgLy8gb25seSB1cGRhdGUgcG9zaXRpb24gd2hlbiBpdCBjaGFuZ2VzXG4gICAgaWYgKG5vZGUuY2hhbmdlICE9PSBOT0RFX0NIQU5HRV9OT05FKSB7XG4gICAgICBjaGlsZC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMCwke25vZGUudG9wfXB4LDApYDtcbiAgICB9XG4gICAgLy8gdXBkYXRlIHZpc2liaWxpdHlcbiAgICBjb25zdCB2aXNpYmxlID0gY2VsbC52aXNpYmxlO1xuICAgIGlmIChub2RlLnZpc2libGUgIT09IHZpc2libGUpIHtcbiAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ3ZpcnR1YWwtbG9hZGluZycpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ3ZpcnR1YWwtbG9hZGluZycpO1xuICAgICAgfVxuICAgICAgbm9kZS52aXNpYmxlID0gdmlzaWJsZTtcbiAgICB9XG4gICAgLy8gZHluYW1pYyBoZWlnaHRcbiAgICBpZiAoY2VsbC5yZWFkcyA+IDApIHtcbiAgICAgIHVwZGF0ZUNlbGxIZWlnaHQoY2VsbCwgY2hpbGQpO1xuICAgICAgY2VsbC5yZWFkcy0tO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGNyZWF0ZU5vZGUgPSAoZWwsIHR5cGUpID0+IHtcbiAgY29uc3QgdGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShlbCwgdHlwZSk7XG4gIGlmICh0ZW1wbGF0ZSAmJiBlbC5vd25lckRvY3VtZW50ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsLm93bmVyRG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKS5jaGlsZHJlblswXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBnZXRUZW1wbGF0ZSA9IChlbCwgdHlwZSkgPT4ge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIENFTExfVFlQRV9JVEVNOlxuICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlOm5vdChbbmFtZV0pJyk7XG4gICAgY2FzZSBDRUxMX1RZUEVfSEVBREVSOlxuICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlW25hbWU9aGVhZGVyXScpO1xuICAgIGNhc2UgQ0VMTF9UWVBFX0ZPT1RFUjpcbiAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZVtuYW1lPWZvb3Rlcl0nKTtcbiAgfVxufTtcbmNvbnN0IGdldFZpZXdwb3J0ID0gKHNjcm9sbFRvcCwgdmllcnBvcnRIZWlnaHQsIG1hcmdpbikgPT4ge1xuICByZXR1cm4ge1xuICAgIHRvcDogTWF0aC5tYXgoc2Nyb2xsVG9wIC0gbWFyZ2luLCAwKSxcbiAgICBib3R0b206IHNjcm9sbFRvcCArIHZpZXJwb3J0SGVpZ2h0ICsgbWFyZ2luLFxuICB9O1xufTtcbmNvbnN0IGdldFJhbmdlID0gKGhlaWdodEluZGV4LCB2aWV3cG9ydCwgYnVmZmVyKSA9PiB7XG4gIGNvbnN0IHRvcFBvcyA9IHZpZXdwb3J0LnRvcDtcbiAgY29uc3QgYm90dG9tUG9zID0gdmlld3BvcnQuYm90dG9tO1xuICAvLyBmaW5kIHRvcCBpbmRleFxuICBsZXQgaSA9IDA7XG4gIGZvciAoOyBpIDwgaGVpZ2h0SW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGVpZ2h0SW5kZXhbaV0gPiB0b3BQb3MpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChpIC0gYnVmZmVyIC0gMSwgMCk7XG4gIC8vIGZpbmQgYm90dG9tIGluZGV4XG4gIGZvciAoOyBpIDwgaGVpZ2h0SW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGVpZ2h0SW5kZXhbaV0gPj0gYm90dG9tUG9zKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgY29uc3QgZW5kID0gTWF0aC5taW4oaSArIGJ1ZmZlciwgaGVpZ2h0SW5kZXgubGVuZ3RoKTtcbiAgY29uc3QgbGVuZ3RoID0gZW5kIC0gb2Zmc2V0O1xuICByZXR1cm4geyBvZmZzZXQsIGxlbmd0aCB9O1xufTtcbmNvbnN0IGdldFNob3VsZFVwZGF0ZSA9IChkaXJ0eUluZGV4LCBjdXJyZW50UmFuZ2UsIHJhbmdlKSA9PiB7XG4gIGNvbnN0IGVuZCA9IHJhbmdlLm9mZnNldCArIHJhbmdlLmxlbmd0aDtcbiAgcmV0dXJuIGRpcnR5SW5kZXggPD0gZW5kIHx8IGN1cnJlbnRSYW5nZS5vZmZzZXQgIT09IHJhbmdlLm9mZnNldCB8fCBjdXJyZW50UmFuZ2UubGVuZ3RoICE9PSByYW5nZS5sZW5ndGg7XG59O1xuY29uc3QgZmluZENlbGxJbmRleCA9IChjZWxscywgaW5kZXgpID0+IHtcbiAgY29uc3QgbWF4ID0gY2VsbHMubGVuZ3RoID4gMCA/IGNlbGxzW2NlbGxzLmxlbmd0aCAtIDFdLmluZGV4IDogMDtcbiAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZWxzZSBpZiAoaW5kZXggPT09IG1heCArIDEpIHtcbiAgICByZXR1cm4gY2VsbHMubGVuZ3RoO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBjZWxscy5maW5kSW5kZXgoKGMpID0+IGMuaW5kZXggPT09IGluZGV4KTtcbiAgfVxufTtcbmNvbnN0IGlucGxhY2VVcGRhdGUgPSAoZHN0LCBzcmMsIG9mZnNldCkgPT4ge1xuICBpZiAob2Zmc2V0ID09PSAwICYmIHNyYy5sZW5ndGggPj0gZHN0Lmxlbmd0aCkge1xuICAgIHJldHVybiBzcmM7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmMubGVuZ3RoOyBpKyspIHtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV07XG4gIH1cbiAgcmV0dXJuIGRzdDtcbn07XG5jb25zdCBjYWxjQ2VsbHMgPSAoaXRlbXMsIGl0ZW1IZWlnaHQsIGhlYWRlckhlaWdodCwgZm9vdGVySGVpZ2h0LCBoZWFkZXJGbiwgZm9vdGVyRm4sIGFwcHJveEhlYWRlckhlaWdodCwgYXBwcm94Rm9vdGVySGVpZ2h0LCBhcHByb3hJdGVtSGVpZ2h0LCBqLCBvZmZzZXQsIGxlbikgPT4ge1xuICBjb25zdCBjZWxscyA9IFtdO1xuICBjb25zdCBlbmQgPSBsZW4gKyBvZmZzZXQ7XG4gIGZvciAobGV0IGkgPSBvZmZzZXQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICBpZiAoaGVhZGVyRm4pIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVyRm4oaXRlbSwgaSwgaXRlbXMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY2VsbHMucHVzaCh7XG4gICAgICAgICAgaTogaisrLFxuICAgICAgICAgIHR5cGU6IENFTExfVFlQRV9IRUFERVIsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgaGVpZ2h0OiBoZWFkZXJIZWlnaHQgPyBoZWFkZXJIZWlnaHQodmFsdWUsIGkpIDogYXBwcm94SGVhZGVySGVpZ2h0LFxuICAgICAgICAgIHJlYWRzOiBoZWFkZXJIZWlnaHQgPyAwIDogTUlOX1JFQURTLFxuICAgICAgICAgIHZpc2libGU6ICEhaGVhZGVySGVpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2VsbHMucHVzaCh7XG4gICAgICBpOiBqKyssXG4gICAgICB0eXBlOiBDRUxMX1RZUEVfSVRFTSxcbiAgICAgIHZhbHVlOiBpdGVtLFxuICAgICAgaW5kZXg6IGksXG4gICAgICBoZWlnaHQ6IGl0ZW1IZWlnaHQgPyBpdGVtSGVpZ2h0KGl0ZW0sIGkpIDogYXBwcm94SXRlbUhlaWdodCxcbiAgICAgIHJlYWRzOiBpdGVtSGVpZ2h0ID8gMCA6IE1JTl9SRUFEUyxcbiAgICAgIHZpc2libGU6ICEhaXRlbUhlaWdodCxcbiAgICB9KTtcbiAgICBpZiAoZm9vdGVyRm4pIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZm9vdGVyRm4oaXRlbSwgaSwgaXRlbXMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY2VsbHMucHVzaCh7XG4gICAgICAgICAgaTogaisrLFxuICAgICAgICAgIHR5cGU6IENFTExfVFlQRV9GT09URVIsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgaGVpZ2h0OiBmb290ZXJIZWlnaHQgPyBmb290ZXJIZWlnaHQodmFsdWUsIGkpIDogYXBwcm94Rm9vdGVySGVpZ2h0LFxuICAgICAgICAgIHJlYWRzOiBmb290ZXJIZWlnaHQgPyAwIDogTUlOX1JFQURTLFxuICAgICAgICAgIHZpc2libGU6ICEhZm9vdGVySGVpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNlbGxzO1xufTtcbmNvbnN0IGNhbGNIZWlnaHRJbmRleCA9IChidWYsIGNlbGxzLCBpbmRleCkgPT4ge1xuICBsZXQgYWN1bSA9IGJ1ZltpbmRleF07XG4gIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGJ1Zi5sZW5ndGg7IGkrKykge1xuICAgIGJ1ZltpXSA9IGFjdW07XG4gICAgYWN1bSArPSBjZWxsc1tpXS5oZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIGFjdW07XG59O1xuY29uc3QgcmVzaXplQnVmZmVyID0gKGJ1ZiwgbGVuKSA9PiB7XG4gIGlmICghYnVmKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheShsZW4pO1xuICB9XG4gIGlmIChidWYubGVuZ3RoID09PSBsZW4pIHtcbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIGVsc2UgaWYgKGxlbiA+IGJ1Zi5sZW5ndGgpIHtcbiAgICBjb25zdCBuZXdCdWYgPSBuZXcgVWludDMyQXJyYXkobGVuKTtcbiAgICBuZXdCdWYuc2V0KGJ1Zik7XG4gICAgcmV0dXJuIG5ld0J1ZjtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gYnVmLnN1YmFycmF5KDAsIGxlbik7XG4gIH1cbn07XG5jb25zdCBwb3NpdGlvbkZvckluZGV4ID0gKGluZGV4LCBjZWxscywgaGVpZ2h0SW5kZXgpID0+IHtcbiAgY29uc3QgY2VsbCA9IGNlbGxzLmZpbmQoKGMpID0+IGMudHlwZSA9PT0gQ0VMTF9UWVBFX0lURU0gJiYgYy5pbmRleCA9PT0gaW5kZXgpO1xuICBpZiAoY2VsbCkge1xuICAgIHJldHVybiBoZWlnaHRJbmRleFtjZWxsLmldO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IHZpcnR1YWxTY3JvbGxDc3MgPSBcImlvbi12aXJ0dWFsLXNjcm9sbHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7Y29udGFpbjpzdHJpY3Q7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfWlvbi12aXJ0dWFsLXNjcm9sbD4udmlydHVhbC1sb2FkaW5ne29wYWNpdHk6MH1pb24tdmlydHVhbC1zY3JvbGw+LnZpcnR1YWwtaXRlbXtwb3NpdGlvbjphYnNvbHV0ZSAhaW1wb3J0YW50O3RvcDowICFpbXBvcnRhbnQ7cmlnaHQ6MCAhaW1wb3J0YW50O2xlZnQ6MCAhaW1wb3J0YW50Oy13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjowbXM7dHJhbnNpdGlvbi1kdXJhdGlvbjowbXM7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfVwiO1xuXG5jb25zdCBWaXJ0dWFsU2Nyb2xsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLnJhbmdlID0geyBvZmZzZXQ6IDAsIGxlbmd0aDogMCB9O1xuICAgIHRoaXMudmlld3BvcnRIZWlnaHQgPSAwO1xuICAgIHRoaXMuY2VsbHMgPSBbXTtcbiAgICB0aGlzLnZpcnR1YWxEb20gPSBbXTtcbiAgICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMudmlld3BvcnRPZmZzZXQgPSAwO1xuICAgIHRoaXMuY3VycmVudFNjcm9sbFRvcCA9IDA7XG4gICAgdGhpcy5pbmRleERpcnR5ID0gMDtcbiAgICB0aGlzLmxhc3RJdGVtTGVuID0gMDtcbiAgICB0aGlzLnRvdGFsSGVpZ2h0ID0gMDtcbiAgICAvKipcbiAgICAgKiBJdCBpcyBpbXBvcnRhbnQgdG8gcHJvdmlkZSB0aGlzXG4gICAgICogaWYgdmlydHVhbCBpdGVtIGhlaWdodCB3aWxsIGJlIHNpZ25pZmljYW50bHkgbGFyZ2VyIHRoYW4gdGhlIGRlZmF1bHRcbiAgICAgKiBUaGUgYXBwcm94aW1hdGUgaGVpZ2h0IG9mIGVhY2ggdmlydHVhbCBpdGVtIHRlbXBsYXRlJ3MgY2VsbC5cbiAgICAgKiBUaGlzIGRpbWVuc2lvbiBpcyB1c2VkIHRvIGhlbHAgZGV0ZXJtaW5lIGhvdyBtYW55IGNlbGxzIHNob3VsZFxuICAgICAqIGJlIGNyZWF0ZWQgd2hlbiBpbml0aWFsaXplZCwgYW5kIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgb2ZcbiAgICAgKiB0aGUgc2Nyb2xsYWJsZSBhcmVhLiBUaGlzIGhlaWdodCB2YWx1ZSBjYW4gb25seSB1c2UgYHB4YCB1bml0cy5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIGFjdHVhbCByZW5kZXJlZCBzaXplIG9mIGVhY2ggY2VsbCBjb21lcyBmcm9tIHRoZVxuICAgICAqIGFwcCdzIENTUywgd2hlcmVhcyB0aGlzIGFwcHJveGltYXRpb24gaXMgdXNlZCB0byBoZWxwIGNhbGN1bGF0ZVxuICAgICAqIGluaXRpYWwgZGltZW5zaW9ucyBiZWZvcmUgdGhlIGl0ZW0gaGFzIGJlZW4gcmVuZGVyZWQuXG4gICAgICovXG4gICAgdGhpcy5hcHByb3hJdGVtSGVpZ2h0ID0gNDU7XG4gICAgLyoqXG4gICAgICogVGhlIGFwcHJveGltYXRlIGhlaWdodCBvZiBlYWNoIGhlYWRlciB0ZW1wbGF0ZSdzIGNlbGwuXG4gICAgICogVGhpcyBkaW1lbnNpb24gaXMgdXNlZCB0byBoZWxwIGRldGVybWluZSBob3cgbWFueSBjZWxscyBzaG91bGRcbiAgICAgKiBiZSBjcmVhdGVkIHdoZW4gaW5pdGlhbGl6ZWQsIGFuZCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mXG4gICAgICogdGhlIHNjcm9sbGFibGUgYXJlYS4gVGhpcyBoZWlnaHQgdmFsdWUgY2FuIG9ubHkgdXNlIGBweGAgdW5pdHMuXG4gICAgICogTm90ZSB0aGF0IHRoZSBhY3R1YWwgcmVuZGVyZWQgc2l6ZSBvZiBlYWNoIGNlbGwgY29tZXMgZnJvbSB0aGVcbiAgICAgKiBhcHAncyBDU1MsIHdoZXJlYXMgdGhpcyBhcHByb3hpbWF0aW9uIGlzIHVzZWQgdG8gaGVscCBjYWxjdWxhdGVcbiAgICAgKiBpbml0aWFsIGRpbWVuc2lvbnMgYmVmb3JlIHRoZSBpdGVtIGhhcyBiZWVuIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHRoaXMuYXBwcm94SGVhZGVySGVpZ2h0ID0gMzA7XG4gICAgLyoqXG4gICAgICogVGhlIGFwcHJveGltYXRlIHdpZHRoIG9mIGVhY2ggZm9vdGVyIHRlbXBsYXRlJ3MgY2VsbC5cbiAgICAgKiBUaGlzIGRpbWVuc2lvbiBpcyB1c2VkIHRvIGhlbHAgZGV0ZXJtaW5lIGhvdyBtYW55IGNlbGxzIHNob3VsZFxuICAgICAqIGJlIGNyZWF0ZWQgd2hlbiBpbml0aWFsaXplZCwgYW5kIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgb2ZcbiAgICAgKiB0aGUgc2Nyb2xsYWJsZSBhcmVhLiBUaGlzIGhlaWdodCB2YWx1ZSBjYW4gb25seSB1c2UgYHB4YCB1bml0cy5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIGFjdHVhbCByZW5kZXJlZCBzaXplIG9mIGVhY2ggY2VsbCBjb21lcyBmcm9tIHRoZVxuICAgICAqIGFwcCdzIENTUywgd2hlcmVhcyB0aGlzIGFwcHJveGltYXRpb24gaXMgdXNlZCB0byBoZWxwIGNhbGN1bGF0ZVxuICAgICAqIGluaXRpYWwgZGltZW5zaW9ucyBiZWZvcmUgdGhlIGl0ZW0gaGFzIGJlZW4gcmVuZGVyZWQuXG4gICAgICovXG4gICAgdGhpcy5hcHByb3hGb290ZXJIZWlnaHQgPSAzMDtcbiAgICB0aGlzLm9uU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVWaXJ0dWFsU2Nyb2xsKCk7XG4gICAgfTtcbiAgfVxuICBpdGVtc0NoYW5nZWQoKSB7XG4gICAgdGhpcy5jYWxjQ2VsbHMoKTtcbiAgICB0aGlzLnVwZGF0ZVZpcnR1YWxTY3JvbGwoKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICBjb25zb2xlLndhcm4oYFtEZXByZWNhdGlvbiBXYXJuaW5nXTogaW9uLXZpcnR1YWwtc2Nyb2xsIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBJb25pYyBGcmFtZXdvcmsgdjcuMC4gU2VlIGh0dHBzOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvYW5ndWxhci92aXJ0dWFsLXNjcm9sbCBmb3IgbWlncmF0aW9uIHN0ZXBzLmApO1xuICB9XG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbnN0IGNvbnRlbnRFbCA9IHRoaXMuZWwuY2xvc2VzdCgnaW9uLWNvbnRlbnQnKTtcbiAgICBpZiAoIWNvbnRlbnRFbCkge1xuICAgICAgY29uc29sZS5lcnJvcignPGlvbi12aXJ0dWFsLXNjcm9sbD4gbXVzdCBiZSB1c2VkIGluc2lkZSBhbiA8aW9uLWNvbnRlbnQ+Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2Nyb2xsRWwgPSBhd2FpdCBjb250ZW50RWwuZ2V0U2Nyb2xsRWxlbWVudCgpO1xuICAgIHRoaXMuY29udGVudEVsID0gY29udGVudEVsO1xuICAgIHRoaXMuY2FsY0NlbGxzKCk7XG4gICAgdGhpcy51cGRhdGVTdGF0ZSgpO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5zY3JvbGxFbCA9IHVuZGVmaW5lZDtcbiAgfVxuICBvblJlc2l6ZSgpIHtcbiAgICB0aGlzLmNhbGNDZWxscygpO1xuICAgIHRoaXMudXBkYXRlVmlydHVhbFNjcm9sbCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgdmlydHVhbCBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICovXG4gIHBvc2l0aW9uRm9ySXRlbShpbmRleCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocG9zaXRpb25Gb3JJbmRleChpbmRleCwgdGhpcy5jZWxscywgdGhpcy5nZXRIZWlnaHRJbmRleCgpKSk7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIG1hcmtzIGEgc3Vic2V0IG9mIGl0ZW1zIGFzIGRpcnR5LCBzbyB0aGV5IGNhbiBiZSByZS1yZW5kZXJlZC4gSXRlbXMgc2hvdWxkIGJlIG1hcmtlZCBhc1xuICAgKiBkaXJ0eSBhbnkgdGltZSB0aGUgY29udGVudCBvciB0aGVpciBzdHlsZSBjaGFuZ2VzLlxuICAgKlxuICAgKiBUaGUgc3Vic2V0IG9mIGl0ZW1zIHRvIGJlIHVwZGF0ZWQgY2FuIGFyZSBzcGVjaWZ5aW5nIGJ5IGFuIG9mZnNldCBhbmQgYSBsZW5ndGguXG4gICAqL1xuICBhc3luYyBjaGVja1JhbmdlKG9mZnNldCwgbGVuID0gLTEpIHtcbiAgICAvLyBUT0RPOiBraW5kIG9mIGhhY2t5IGhvdyB3ZSBkbyBpbi1wbGFjZSB1cGRhdGVkIG9mIHRoZSBjZWxsc1xuICAgIC8vIGFycmF5LiB0aGlzIHBhcnQgbmVlZHMgYSBjb21wbGV0ZSByZWZhY3RvclxuICAgIGlmICghdGhpcy5pdGVtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsZW5ndGggPSBsZW4gPT09IC0xID8gdGhpcy5pdGVtcy5sZW5ndGggLSBvZmZzZXQgOiBsZW47XG4gICAgY29uc3QgY2VsbEluZGV4ID0gZmluZENlbGxJbmRleCh0aGlzLmNlbGxzLCBvZmZzZXQpO1xuICAgIGNvbnN0IGNlbGxzID0gY2FsY0NlbGxzKHRoaXMuaXRlbXMsIHRoaXMuaXRlbUhlaWdodCwgdGhpcy5oZWFkZXJIZWlnaHQsIHRoaXMuZm9vdGVySGVpZ2h0LCB0aGlzLmhlYWRlckZuLCB0aGlzLmZvb3RlckZuLCB0aGlzLmFwcHJveEhlYWRlckhlaWdodCwgdGhpcy5hcHByb3hGb290ZXJIZWlnaHQsIHRoaXMuYXBwcm94SXRlbUhlaWdodCwgY2VsbEluZGV4LCBvZmZzZXQsIGxlbmd0aCk7XG4gICAgdGhpcy5jZWxscyA9IGlucGxhY2VVcGRhdGUodGhpcy5jZWxscywgY2VsbHMsIGNlbGxJbmRleCk7XG4gICAgdGhpcy5sYXN0SXRlbUxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgIHRoaXMuaW5kZXhEaXJ0eSA9IE1hdGgubWF4KG9mZnNldCAtIDEsIDApO1xuICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBtZXRob2QgbWFya3MgdGhlIHRhaWwgdGhlIGl0ZW1zIGFycmF5IGFzIGRpcnR5LCBzbyB0aGV5IGNhbiBiZSByZS1yZW5kZXJlZC5cbiAgICpcbiAgICogSXQncyBlcXVpdmFsZW50IHRvIGNhbGxpbmc6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIHZpcnR1YWxTY3JvbGwuY2hlY2tSYW5nZShsYXN0SXRlbUxlbik7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgY2hlY2tFbmQoKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMpIHtcbiAgICAgIHRoaXMuY2hlY2tSYW5nZSh0aGlzLmxhc3RJdGVtTGVuKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVmlydHVhbFNjcm9sbCgpIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIHZpcnR1YWwtc2Nyb2xsIGlzIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmlzRW5hYmxlZCB8fCAhdGhpcy5zY3JvbGxFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB1bnNjaGVkdWxlIGZ1dHVyZSB1cGRhdGVzXG4gICAgaWYgKHRoaXMudGltZXJVcGRhdGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyVXBkYXRlKTtcbiAgICAgIHRoaXMudGltZXJVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIHNjaGVkdWxlIERPTSBvcGVyYXRpb25zIGludG8gdGhlIHN0ZW5jaWwgcXVldWVcbiAgICByZWFkVGFzayh0aGlzLnJlYWRWUy5iaW5kKHRoaXMpKTtcbiAgICB3cml0ZVRhc2sodGhpcy53cml0ZVZTLmJpbmQodGhpcykpO1xuICB9XG4gIHJlYWRWUygpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCwgc2Nyb2xsRWwsIGVsIH0gPSB0aGlzO1xuICAgIGxldCB0b3BPZmZzZXQgPSAwO1xuICAgIGxldCBub2RlID0gZWw7XG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwgJiYgbm9kZSAhPT0gY29udGVudEVsKSB7XG4gICAgICB0b3BPZmZzZXQgKz0gbm9kZS5vZmZzZXRUb3A7XG4gICAgICBub2RlID0gbm9kZS5vZmZzZXRQYXJlbnQ7XG4gICAgfVxuICAgIHRoaXMudmlld3BvcnRPZmZzZXQgPSB0b3BPZmZzZXQ7XG4gICAgaWYgKHNjcm9sbEVsKSB7XG4gICAgICB0aGlzLnZpZXdwb3J0SGVpZ2h0ID0gc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgdGhpcy5jdXJyZW50U2Nyb2xsVG9wID0gc2Nyb2xsRWwuc2Nyb2xsVG9wO1xuICAgIH1cbiAgfVxuICB3cml0ZVZTKCkge1xuICAgIGNvbnN0IGRpcnR5SW5kZXggPSB0aGlzLmluZGV4RGlydHk7XG4gICAgLy8gZ2V0IHZpc2libGUgdmlld3BvcnRcbiAgICBjb25zdCBzY3JvbGxUb3AgPSB0aGlzLmN1cnJlbnRTY3JvbGxUb3AgLSB0aGlzLnZpZXdwb3J0T2Zmc2V0O1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gZ2V0Vmlld3BvcnQoc2Nyb2xsVG9wLCB0aGlzLnZpZXdwb3J0SGVpZ2h0LCAxMDApO1xuICAgIC8vIGNvbXB1dGUgbGF6aWx5IHRoZSBoZWlnaHQgaW5kZXhcbiAgICBjb25zdCBoZWlnaHRJbmRleCA9IHRoaXMuZ2V0SGVpZ2h0SW5kZXgoKTtcbiAgICAvLyBnZXQgYXJyYXkgYm91bmRzIG9mIHZpc2libGUgY2VsbHMgYmFzZSBpbiB0aGUgdmlld3BvcnRcbiAgICBjb25zdCByYW5nZSA9IGdldFJhbmdlKGhlaWdodEluZGV4LCB2aWV3cG9ydCwgMik7XG4gICAgLy8gZmFzdCBwYXRoLCBkbyBub3RoaW5nXG4gICAgY29uc3Qgc2hvdWxkVXBkYXRlID0gZ2V0U2hvdWxkVXBkYXRlKGRpcnR5SW5kZXgsIHRoaXMucmFuZ2UsIHJhbmdlKTtcbiAgICBpZiAoIXNob3VsZFVwZGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgLy8gaW4gcGxhY2UgbXV0YXRpb24gb2YgdGhlIHZpcnR1YWwgRE9NXG4gICAgdXBkYXRlVkRvbSh0aGlzLnZpcnR1YWxEb20sIGhlaWdodEluZGV4LCB0aGlzLmNlbGxzLCByYW5nZSk7XG4gICAgLy8gV3JpdGUgRE9NXG4gICAgLy8gRGlmZmVyZW50IGNvZGUgcGF0aHMgdGFrZW4gZGVwZW5kaW5nIG9mIHRoZSByZW5kZXIgQVBJIHVzZWRcbiAgICBpZiAodGhpcy5ub2RlUmVuZGVyKSB7XG4gICAgICBkb1JlbmRlcih0aGlzLmVsLCB0aGlzLm5vZGVSZW5kZXIsIHRoaXMudmlydHVhbERvbSwgdGhpcy51cGRhdGVDZWxsSGVpZ2h0LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmRvbVJlbmRlcikge1xuICAgICAgdGhpcy5kb21SZW5kZXIodGhpcy52aXJ0dWFsRG9tKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5yZW5kZXJJdGVtKSB7XG4gICAgICBmb3JjZVVwZGF0ZSh0aGlzKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlQ2VsbEhlaWdodChjZWxsLCBub2RlKSB7XG4gICAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKG5vZGVbJyRpb25DZWxsJ10gPT09IGNlbGwpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gbm9kZS5vZmZzZXRIZWlnaHQgKyBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1ib3R0b20nKSk7XG4gICAgICAgIHRoaXMuc2V0Q2VsbEhlaWdodChjZWxsLCBoZWlnaHQpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIGNvbXBvbmVudE9uUmVhZHkobm9kZSwgdXBkYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgc2V0Q2VsbEhlaWdodChjZWxsLCBoZWlnaHQpIHtcbiAgICBjb25zdCBpbmRleCA9IGNlbGwuaTtcbiAgICAvLyB0aGUgY2VsbCBtaWdodCBjaGFuZ2VkIHNpbmNlIHRoZSBoZWlnaHQgdXBkYXRlIHdhcyBzY2hlZHVsZWRcbiAgICBpZiAoY2VsbCAhPT0gdGhpcy5jZWxsc1tpbmRleF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNlbGwuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgY2VsbC52aXNpYmxlICE9PSB0cnVlKSB7XG4gICAgICBjZWxsLnZpc2libGUgPSB0cnVlO1xuICAgICAgY2VsbC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmluZGV4RGlydHkgPSBNYXRoLm1pbih0aGlzLmluZGV4RGlydHksIGluZGV4KTtcbiAgICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgc2NoZWR1bGVVcGRhdGUoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJVcGRhdGUpO1xuICAgIHRoaXMudGltZXJVcGRhdGUgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMudXBkYXRlVmlydHVhbFNjcm9sbCgpLCAxMDApO1xuICB9XG4gIHVwZGF0ZVN0YXRlKCkge1xuICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9ICEhKHRoaXMuc2Nyb2xsRWwgJiYgdGhpcy5jZWxscy5sZW5ndGggPiAwKTtcbiAgICBpZiAoc2hvdWxkRW5hYmxlICE9PSB0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgdGhpcy5lbmFibGVTY3JvbGxFdmVudHMoc2hvdWxkRW5hYmxlKTtcbiAgICAgIGlmIChzaG91bGRFbmFibGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVWaXJ0dWFsU2Nyb2xsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGNDZWxscygpIHtcbiAgICBpZiAoIXRoaXMuaXRlbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sYXN0SXRlbUxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgIHRoaXMuY2VsbHMgPSBjYWxjQ2VsbHModGhpcy5pdGVtcywgdGhpcy5pdGVtSGVpZ2h0LCB0aGlzLmhlYWRlckhlaWdodCwgdGhpcy5mb290ZXJIZWlnaHQsIHRoaXMuaGVhZGVyRm4sIHRoaXMuZm9vdGVyRm4sIHRoaXMuYXBwcm94SGVhZGVySGVpZ2h0LCB0aGlzLmFwcHJveEZvb3RlckhlaWdodCwgdGhpcy5hcHByb3hJdGVtSGVpZ2h0LCAwLCAwLCB0aGlzLmxhc3RJdGVtTGVuKTtcbiAgICB0aGlzLmluZGV4RGlydHkgPSAwO1xuICB9XG4gIGdldEhlaWdodEluZGV4KCkge1xuICAgIGlmICh0aGlzLmluZGV4RGlydHkgIT09IEluZmluaXR5KSB7XG4gICAgICB0aGlzLmNhbGNIZWlnaHRJbmRleCh0aGlzLmluZGV4RGlydHkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oZWlnaHRJbmRleDtcbiAgfVxuICBjYWxjSGVpZ2h0SW5kZXgoaW5kZXggPSAwKSB7XG4gICAgLy8gVE9ETzogb3B0aW1pemUsIHdlIGRvbid0IG5lZWQgdG8gY2FsY3VsYXRlIGFsbCB0aGUgY2VsbHNcbiAgICB0aGlzLmhlaWdodEluZGV4ID0gcmVzaXplQnVmZmVyKHRoaXMuaGVpZ2h0SW5kZXgsIHRoaXMuY2VsbHMubGVuZ3RoKTtcbiAgICB0aGlzLnRvdGFsSGVpZ2h0ID0gY2FsY0hlaWdodEluZGV4KHRoaXMuaGVpZ2h0SW5kZXgsIHRoaXMuY2VsbHMsIGluZGV4KTtcbiAgICB0aGlzLmluZGV4RGlydHkgPSBJbmZpbml0eTtcbiAgfVxuICBlbmFibGVTY3JvbGxFdmVudHMoc2hvdWxkTGlzdGVuKSB7XG4gICAgaWYgKHRoaXMucm1FdmVudCkge1xuICAgICAgdGhpcy5ybUV2ZW50KCk7XG4gICAgICB0aGlzLnJtRXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHNjcm9sbEVsID0gdGhpcy5zY3JvbGxFbDtcbiAgICBpZiAoc2Nyb2xsRWwpIHtcbiAgICAgIHRoaXMuaXNFbmFibGVkID0gc2hvdWxkTGlzdGVuO1xuICAgICAgc2Nyb2xsRWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgICB0aGlzLnJtRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgIHNjcm9sbEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyVmlydHVhbE5vZGUobm9kZSkge1xuICAgIGNvbnN0IHsgdHlwZSwgdmFsdWUsIGluZGV4IH0gPSBub2RlLmNlbGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIENFTExfVFlQRV9JVEVNOlxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJJdGVtKHZhbHVlLCBpbmRleCk7XG4gICAgICBjYXNlIENFTExfVFlQRV9IRUFERVI6XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckhlYWRlcih2YWx1ZSwgaW5kZXgpO1xuICAgICAgY2FzZSBDRUxMX1RZUEVfRk9PVEVSOlxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJGb290ZXIodmFsdWUsIGluZGV4KTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChIb3N0LCB7IHN0eWxlOiB7XG4gICAgICAgIGhlaWdodDogYCR7dGhpcy50b3RhbEhlaWdodH1weGAsXG4gICAgICB9IH0sIHRoaXMucmVuZGVySXRlbSAmJiAoaChWaXJ0dWFsUHJveHksIHsgZG9tOiB0aGlzLnZpcnR1YWxEb20gfSwgdGhpcy52aXJ0dWFsRG9tLm1hcCgobm9kZSkgPT4gdGhpcy5yZW5kZXJWaXJ0dWFsTm9kZShub2RlKSkpKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIml0ZW1IZWlnaHRcIjogW1wiaXRlbXNDaGFuZ2VkXCJdLFxuICAgIFwiaGVhZGVySGVpZ2h0XCI6IFtcIml0ZW1zQ2hhbmdlZFwiXSxcbiAgICBcImZvb3RlckhlaWdodFwiOiBbXCJpdGVtc0NoYW5nZWRcIl0sXG4gICAgXCJpdGVtc1wiOiBbXCJpdGVtc0NoYW5nZWRcIl1cbiAgfTsgfVxufTtcbmNvbnN0IFZpcnR1YWxQcm94eSA9ICh7IGRvbSB9LCBjaGlsZHJlbiwgdXRpbHMpID0+IHtcbiAgcmV0dXJuIHV0aWxzLm1hcChjaGlsZHJlbiwgKGNoaWxkLCBpKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGRvbVtpXTtcbiAgICBjb25zdCB2YXR0cnMgPSBjaGlsZC52YXR0cnMgfHwge307XG4gICAgbGV0IGNsYXNzZXMgPSB2YXR0cnMuY2xhc3MgfHwgJyc7XG4gICAgY2xhc3NlcyArPSAndmlydHVhbC1pdGVtICc7XG4gICAgaWYgKCFub2RlLnZpc2libGUpIHtcbiAgICAgIGNsYXNzZXMgKz0gJ3ZpcnR1YWwtbG9hZGluZyc7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNoaWxkKSwgeyB2YXR0cnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdmF0dHJzKSwgeyBjbGFzczogY2xhc3Nlcywgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdmF0dHJzLnN0eWxlKSwgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgwLCR7bm9kZS50b3B9cHgsMClgIH0pIH0pIH0pO1xuICB9KTtcbn07XG5WaXJ0dWFsU2Nyb2xsLnN0eWxlID0gdmlydHVhbFNjcm9sbENzcztcblxuZXhwb3J0IHsgVmlydHVhbFNjcm9sbCBhcyBpb25fdmlydHVhbF9zY3JvbGwgfTtcbiJdLCJuYW1lcyI6WyJyIiwicmVnaXN0ZXJJbnN0YW5jZSIsImYiLCJyZWFkVGFzayIsImMiLCJ3cml0ZVRhc2siLCJqIiwiZm9yY2VVcGRhdGUiLCJoIiwiSCIsIkhvc3QiLCJpIiwiZ2V0RWxlbWVudCIsImNvbXBvbmVudE9uUmVhZHkiLCJDRUxMX1RZUEVfSVRFTSIsIkNFTExfVFlQRV9IRUFERVIiLCJDRUxMX1RZUEVfRk9PVEVSIiwiTk9ERV9DSEFOR0VfTk9ORSIsIk5PREVfQ0hBTkdFX1BPU0lUSU9OIiwiTk9ERV9DSEFOR0VfQ0VMTCIsIk1JTl9SRUFEUyIsInVwZGF0ZVZEb20iLCJkb20iLCJoZWlnaHRJbmRleCIsImNlbGxzIiwicmFuZ2UiLCJub2RlIiwiY2hhbmdlIiwiZCIsInRvTXV0YXRlIiwiZW5kIiwib2Zmc2V0IiwibGVuZ3RoIiwiY2VsbCIsImZpbmQiLCJuIiwidG9wIiwicHVzaCIsInBvb2wiLCJmaWx0ZXIiLCJ0eXBlIiwiaW5kZXgiLCJ2aXNpYmxlIiwiZm9yRWFjaCIsImRvUmVuZGVyIiwiZWwiLCJub2RlUmVuZGVyIiwidXBkYXRlQ2VsbEhlaWdodCIsIl9hIiwiY2hpbGRyZW4iLCJBcnJheSIsImZyb20iLCJ0YWdOYW1lIiwiY2hpbGRyZW5OdSIsImNoaWxkIiwibmV3Q2hpbGQiLCJjcmVhdGVOb2RlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJzdHlsZSIsInRyYW5zZm9ybSIsInJlbW92ZSIsInJlYWRzIiwidGVtcGxhdGUiLCJnZXRUZW1wbGF0ZSIsIm93bmVyRG9jdW1lbnQiLCJpbXBvcnROb2RlIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRWaWV3cG9ydCIsInNjcm9sbFRvcCIsInZpZXJwb3J0SGVpZ2h0IiwibWFyZ2luIiwiTWF0aCIsIm1heCIsImJvdHRvbSIsImdldFJhbmdlIiwidmlld3BvcnQiLCJidWZmZXIiLCJ0b3BQb3MiLCJib3R0b21Qb3MiLCJtaW4iLCJnZXRTaG91bGRVcGRhdGUiLCJkaXJ0eUluZGV4IiwiY3VycmVudFJhbmdlIiwiZmluZENlbGxJbmRleCIsImZpbmRJbmRleCIsImlucGxhY2VVcGRhdGUiLCJkc3QiLCJzcmMiLCJjYWxjQ2VsbHMiLCJpdGVtcyIsIml0ZW1IZWlnaHQiLCJoZWFkZXJIZWlnaHQiLCJmb290ZXJIZWlnaHQiLCJoZWFkZXJGbiIsImZvb3RlckZuIiwiYXBwcm94SGVhZGVySGVpZ2h0IiwiYXBwcm94Rm9vdGVySGVpZ2h0IiwiYXBwcm94SXRlbUhlaWdodCIsImxlbiIsIml0ZW0iLCJ2YWx1ZSIsImhlaWdodCIsImNhbGNIZWlnaHRJbmRleCIsImJ1ZiIsImFjdW0iLCJyZXNpemVCdWZmZXIiLCJVaW50MzJBcnJheSIsIm5ld0J1ZiIsInNldCIsInN1YmFycmF5IiwicG9zaXRpb25Gb3JJbmRleCIsInZpcnR1YWxTY3JvbGxDc3MiLCJWaXJ0dWFsU2Nyb2xsIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwidmlld3BvcnRIZWlnaHQiLCJ2aXJ0dWFsRG9tIiwiaXNFbmFibGVkIiwidmlld3BvcnRPZmZzZXQiLCJjdXJyZW50U2Nyb2xsVG9wIiwiaW5kZXhEaXJ0eSIsImxhc3RJdGVtTGVuIiwidG90YWxIZWlnaHQiLCJvblNjcm9sbCIsInVwZGF0ZVZpcnR1YWxTY3JvbGwiLCJpdGVtc0NoYW5nZWQiLCJjb21wb25lbnRXaWxsTG9hZCIsImNvbnNvbGUiLCJ3YXJuIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJjb250ZW50RWwiLCJjbG9zZXN0IiwiZXJyb3IiLCJzY3JvbGxFbCIsImdldFNjcm9sbEVsZW1lbnQiLCJ1cGRhdGVTdGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwidW5kZWZpbmVkIiwib25SZXNpemUiLCJwb3NpdGlvbkZvckl0ZW0iLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldEhlaWdodEluZGV4IiwiY2hlY2tSYW5nZSIsImNlbGxJbmRleCIsInNjaGVkdWxlVXBkYXRlIiwiY2hlY2tFbmQiLCJ0aW1lclVwZGF0ZSIsImNsZWFyVGltZW91dCIsInJlYWRWUyIsImJpbmQiLCJ3cml0ZVZTIiwidG9wT2Zmc2V0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0UGFyZW50Iiwib2Zmc2V0SGVpZ2h0Iiwic2hvdWxkVXBkYXRlIiwiZG9tUmVuZGVyIiwicmVuZGVySXRlbSIsInVwZGF0ZSIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJwYXJzZUZsb2F0IiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNldENlbGxIZWlnaHQiLCJzZXRUaW1lb3V0Iiwic2hvdWxkRW5hYmxlIiwiZW5hYmxlU2Nyb2xsRXZlbnRzIiwiSW5maW5pdHkiLCJzaG91bGRMaXN0ZW4iLCJybUV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXJWaXJ0dWFsTm9kZSIsInJlbmRlckhlYWRlciIsInJlbmRlckZvb3RlciIsInJlbmRlciIsIlZpcnR1YWxQcm94eSIsIm1hcCIsIndhdGNoZXJzIiwidXRpbHMiLCJ2YXR0cnMiLCJjbGFzc2VzIiwiY2xhc3MiLCJPYmplY3QiLCJhc3NpZ24iLCJpb25fdmlydHVhbF9zY3JvbGwiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIn0=