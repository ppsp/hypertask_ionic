"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-modal_entry_js"],{

/***/ 75057:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/index-c4b11676.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ printRequiredElementError),
/* harmony export */   "b": () => (/* binding */ printIonError),
/* harmony export */   "p": () => (/* binding */ printIonWarning)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
/**
 * Logs a warning to the console with an Ionic prefix
 * to indicate the library that is warning the developer.
 *
 * @param message - The string message to be logged to the console.
 */
const printIonWarning = (message, ...params) => {
  return console.warn(`[Ionic Warning]: ${message}`, ...params);
};
/*
 * Logs an error to the console with an Ionic prefix
 * to indicate the library that is warning the developer.
 *
 * @param message - The string message to be logged to the console.
 * @param params - Additional arguments to supply to the console.error.
 */
const printIonError = (message, ...params) => {
  return console.error(`[Ionic Error]: ${message}`, ...params);
};
/**
 * Prints an error informing developers that an implementation requires an element to be used
 * within a specific selector.
 *
 * @param el The web component element this is requiring the element.
 * @param targetSelectors The selector or selectors that were not found.
 */
const printRequiredElementError = (el, ...targetSelectors) => {
  return console.error(`<${el.tagName.toLowerCase()}> must be used inside ${targetSelectors.join(' or ')}.`);
};




/***/ }),

/***/ 86991:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-modal.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_modal": () => (/* binding */ Modal)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 40320);
/* harmony import */ var _ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-c74e4951.js */ 9656);
/* harmony import */ var _index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-e6d1a8be.js */ 70139);
/* harmony import */ var _framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./framework-delegate-c3305a28.js */ 74293);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 97140);
/* harmony import */ var _keyboard_282b81b8_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./keyboard-282b81b8.js */ 69386);
/* harmony import */ var _index_c4b11676_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-c4b11676.js */ 75057);
/* harmony import */ var _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-33ffec25.js */ 51356);
/* harmony import */ var _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./overlays-58fa8e4d.js */ 31921);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./theme-7670341c.js */ 17548);
/* harmony import */ var _index_27c7e5c4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./index-27c7e5c4.js */ 94784);
/* harmony import */ var _animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./animation-4ff3f603.js */ 23449);
/* harmony import */ var _cubic_bezier_e78d1307_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cubic-bezier-e78d1307.js */ 69261);
/* harmony import */ var _index_422b6e83_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./index-422b6e83.js */ 49099);
/* harmony import */ var _hardware_back_button_490df115_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./hardware-back-button-490df115.js */ 79222);
/* harmony import */ var _gesture_controller_17060b7c_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./gesture-controller-17060b7c.js */ 24840);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
















var Style;

(function (Style) {
  Style["Dark"] = "DARK";
  Style["Light"] = "LIGHT";
  Style["Default"] = "DEFAULT";
})(Style || (Style = {}));

const StatusBar = {
  getEngine() {
    var _a;

    return ((_a = _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w === null || _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w === void 0 ? void 0 : _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w.Capacitor) === null || _a === void 0 ? void 0 : _a.isPluginAvailable('StatusBar')) && (_index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w === null || _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w === void 0 ? void 0 : _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w.Capacitor.Plugins.StatusBar);
  },

  supportsDefaultStatusBarStyle() {
    var _a;
    /**
     * The 'DEFAULT' status bar style was added
     * to the @capacitor/status-bar plugin in Capacitor 3.
     * PluginHeaders is only supported in Capacitor 3+,
     * so we can use this to detect Capacitor 3.
     */


    return !!((_a = _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w === null || _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w === void 0 ? void 0 : _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w.Capacitor) === null || _a === void 0 ? void 0 : _a.PluginHeaders);
  },

  setStyle(options) {
    const engine = this.getEngine();

    if (!engine) {
      return;
    }

    engine.setStyle(options);
  },

  getStyle: function () {
    var _ref = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const engine = this.getEngine();

      if (!engine) {
        return Style.Default;
      }

      const {
        style
      } = yield engine.getInfo();
      return style;
    });

    return function getStyle() {
      return _ref.apply(this, arguments);
    };
  }()
};
/**
 * Use y = mx + b to
 * figure out the backdrop value
 * at a particular x coordinate. This
 * is useful when the backdrop does
 * not begin to fade in until after
 * the 0 breakpoint.
 */

const getBackdropValueForSheet = (x, backdropBreakpoint) => {
  /**
   * We will use these points:
   * (backdropBreakpoint, 0)
   * (maxBreakpoint, 1)
   * We know that at the beginning breakpoint,
   * the backdrop will be hidden. We also
   * know that at the maxBreakpoint, the backdrop
   * must be fully visible. maxBreakpoint should
   * always be 1 even if the maximum value
   * of the breakpoints array is not 1 since
   * the animation runs from a progress of 0
   * to a progress of 1.
   * m = (y2 - y1) / (x2 - x1)
   *
   * This is simplified from:
   * m = (1 - 0) / (maxBreakpoint - backdropBreakpoint)
   *
   * If the backdropBreakpoint is 1, we return 0 as the
   * backdrop is completely hidden.
   *
   */
  if (backdropBreakpoint === 1) {
    return 0;
  }

  const slope = 1 / (1 - backdropBreakpoint);
  /**
   * From here, compute b which is
   * the backdrop opacity if the offset
   * is 0. If the backdrop does not
   * begin to fade in until after the
   * 0 breakpoint, this b value will be
   * negative. This is fine as we never pass
   * b directly into the animation keyframes.
   * b = y - mx
   * Use a known point: (backdropBreakpoint, 0)
   * This is simplified from:
   * b = 0 - (backdropBreakpoint * slope)
   */

  const b = -(backdropBreakpoint * slope);
  /**
   * Finally, we can now determine the
   * backdrop offset given an arbitrary
   * gesture offset.
   */

  return x * slope + b;
};
/**
 * The tablet/desktop card modal activates
 * when the window width is >= 768.
 * At that point, the presenting element
 * is not transformed, so we do not need to
 * adjust the status bar color.
 *
 * Note: We check supportsDefaultStatusBarStyle so that
 * Capacitor <= 2 users do not get their status bar
 * stuck in an inconsistent state due to a lack of
 * support for Style.Default.
 */


const setCardStatusBarDark = () => {
  if (!_index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w || _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w.innerWidth >= 768 || !StatusBar.supportsDefaultStatusBarStyle()) {
    return;
  }

  StatusBar.setStyle({
    style: Style.Dark
  });
};

const setCardStatusBarDefault = (defaultStyle = Style.Default) => {
  if (!_index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w || _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_8__.w.innerWidth >= 768 || !StatusBar.supportsDefaultStatusBarStyle()) {
    return;
  }

  StatusBar.setStyle({
    style: defaultStyle
  });
};

const handleCanDismiss = /*#__PURE__*/function () {
  var _ref2 = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (el, animation) {
    /**
     * If canDismiss is not a function
     * then we can return early. If canDismiss is `true`,
     * then canDismissBlocksGesture is `false` as canDismiss
     * will never interrupt the gesture. As a result,
     * this code block is never reached. If canDismiss is `false`,
     * then we never dismiss.
     */
    if (typeof el.canDismiss !== 'function') {
      return;
    }
    /**
     * Run the canDismiss callback.
     * If the function returns `true`,
     * then we can proceed with dismiss.
     */


    const shouldDismiss = yield el.canDismiss(undefined, _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.G);

    if (!shouldDismiss) {
      return;
    }
    /**
     * If canDismiss resolved after the snap
     * back animation finished, we can
     * dismiss immediately.
     *
     * If canDismiss resolved before the snap
     * back animation finished, we need to
     * wait until the snap back animation is
     * done before dismissing.
     */


    if (animation.isRunning()) {
      animation.onFinish(() => {
        el.dismiss(undefined, 'handler');
      }, {
        oneTimeCallback: true
      });
    } else {
      el.dismiss(undefined, 'handler');
    }
  });

  return function handleCanDismiss(_x, _x2) {
    return _ref2.apply(this, arguments);
  };
}();
/**
 * This function lets us simulate a realistic spring-like animation
 * when swiping down on the modal.
 * There are two forces that we need to use to compute the spring physics:
 *
 * 1. Stiffness, k: This is a measure of resistance applied a spring.
 * 2. Dampening, c: This value has the effect of reducing or preventing oscillation.
 *
 * Using these two values, we can calculate the Spring Force and the Dampening Force
 * to compute the total force applied to a spring.
 *
 * Spring Force: This force pulls a spring back into its equilibrium position.
 * Hooke's Law tells us that that spring force (FS) = kX.
 * k is the stiffness of a spring, and X is the displacement of the spring from its
 * equilibrium position. In this case, it is the amount by which the free end
 * of a spring was displaced (stretched/pushed) from its "relaxed" position.
 *
 * Dampening Force: This force slows down motion. Without it, a spring would oscillate forever.
 * The dampening force, FD, can be found via this formula: FD = -cv
 * where c the dampening value and v is velocity.
 *
 * Therefore, the resulting force that is exerted on the block is:
 * F = FS + FD = -kX - cv
 *
 * Newton's 2nd Law tells us that F = ma:
 * ma = -kX - cv.
 *
 * For Ionic's purposes, we can assume that m = 1:
 * a = -kX - cv
 *
 * Imagine a block attached to the end of a spring. At equilibrium
 * the block is at position x = 1.
 * Pressing on the block moves it to position x = 0;
 * So, to calculate the displacement, we need to take the
 * current position and subtract the previous position from it.
 * X = x - x0 = 0 - 1 = -1.
 *
 * For Ionic's purposes, we are only pushing on the spring modal
 * so we have a max position of 1.
 * As a result, we can expand displacement to this formula:
 * X = x - 1
 *
 * a = -k(x - 1) - cv
 *
 * We can represent the motion of something as a function of time: f(t) = x.
 * The derivative of position gives us the velocity: f'(t)
 * The derivative of the velocity gives us the acceleration: f''(t)
 *
 * We can substitute the formula above with these values:
 *
 * f"(t) = -k * (f(t) - 1) - c * f'(t)
 *
 * This is called a differential equation.
 *
 * We know that at t = 0, we are at x = 0 because the modal does not move: f(0) = 0
 * This means our velocity is also zero: f'(0) = 0.
 *
 * We can cheat a bit and plug the formula into Wolfram Alpha.
 * However, we need to pick stiffness and dampening values:
 * k = 0.57
 * c = 15
 *
 * I picked these as they are fairly close to native iOS's spring effect
 * with the modal.
 *
 * What we plug in is this: f(0) = 0; f'(0) = 0; f''(t) = -0.57(f(t) - 1) - 15f'(t)
 *
 * The result is a formula that lets us calculate the acceleration
 * for a given time t.
 * Note: This is the approximate form of the solution. Wolfram Alpha will
 * give you a complex differential equation too.
 */


const calculateSpringStep = t => {
  return 0.00255275 * 2.71828 ** (-14.9619 * t) - 1.00255 * 2.71828 ** (-0.0380968 * t) + 1;
}; // Defaults for the card swipe animation


const SwipeToCloseDefaults = {
  MIN_PRESENTING_SCALE: 0.93
};

const createSwipeToCloseGesture = (el, animation, statusBarStyle, onDismiss) => {
  /**
   * The step value at which a card modal
   * is eligible for dismissing via gesture.
   */
  const DISMISS_THRESHOLD = 0.5;
  const height = el.offsetHeight;
  let isOpen = false;
  let canDismissBlocksGesture = false;
  let contentEl = null;
  let scrollEl = null;
  const canDismissMaxStep = 0.2;
  let initialScrollY = true;
  let lastStep = 0;

  const getScrollY = () => {
    if (contentEl && (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.i)(contentEl)) {
      return contentEl.scrollY;
      /**
       * Custom scroll containers are intended to be
       * used with virtual scrolling, so we assume
       * there is scrolling in this case.
       */
    } else {
      return true;
    }
  };

  const canStart = detail => {
    const target = detail.event.target;

    if (target === null || !target.closest) {
      return true;
    }
    /**
     * If we are swiping on the content,
     * swiping should only be possible if
     * the content is scrolled all the way
     * to the top so that we do not interfere
     * with scrolling.
     *
     * We cannot assume that the `ion-content`
     * target will remain consistent between
     * swipes. For example, when using
     * ion-nav within a card modal it is
     * possible to swipe, push a view, and then
     * swipe again. The target content will not
     * be the same between swipes.
     */


    contentEl = (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.f)(target);

    if (contentEl) {
      /**
       * The card should never swipe to close
       * on the content with a refresher.
       * Note: We cannot solve this by making the
       * swipeToClose gesture have a higher priority
       * than the refresher gesture as the iOS native
       * refresh gesture uses a scroll listener in
       * addition to a gesture.
       *
       * Note: Do not use getScrollElement here
       * because we need this to be a synchronous
       * operation, and getScrollElement is
       * asynchronous.
       */
      if ((0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.i)(contentEl)) {
        const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(contentEl);
        scrollEl = root.querySelector('.inner-scroll');
      } else {
        scrollEl = contentEl;
      }

      const hasRefresherInContent = !!contentEl.querySelector('ion-refresher');
      return !hasRefresherInContent && scrollEl.scrollTop === 0;
    }
    /**
     * Card should be swipeable on all
     * parts of the modal except for the footer.
     */


    const footer = target.closest('ion-footer');

    if (footer === null) {
      return true;
    }

    return false;
  };

  const onStart = detail => {
    const {
      deltaY
    } = detail;
    /**
     * Get the initial scrollY value so
     * that we can correctly reset the scrollY
     * prop when the gesture ends.
     */

    initialScrollY = getScrollY();
    /**
     * If canDismiss is anything other than `true`
     * then users should be able to swipe down
     * until a threshold is hit. At that point,
     * the card modal should not proceed any further.
     * TODO (FW-937)
     * Remove undefined check
     */

    canDismissBlocksGesture = el.canDismiss !== undefined && el.canDismiss !== true;
    /**
     * If we are pulling down, then
     * it is possible we are pulling on the
     * content. We do not want scrolling to
     * happen at the same time as the gesture.
     */

    if (deltaY > 0 && contentEl) {
      (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.d)(contentEl);
    }

    animation.progressStart(true, isOpen ? 1 : 0);
  };

  const onMove = detail => {
    const {
      deltaY
    } = detail;
    /**
     * If we are pulling down, then
     * it is possible we are pulling on the
     * content. We do not want scrolling to
     * happen at the same time as the gesture.
     */

    if (deltaY > 0 && contentEl) {
      (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.d)(contentEl);
    }
    /**
     * If we are swiping on the content
     * then the swipe gesture should only
     * happen if we are pulling down.
     *
     * However, if we pull up and
     * then down such that the scroll position
     * returns to 0, we should be able to swipe
     * the card.
     */


    const step = detail.deltaY / height;
    /**
     * Check if user is swiping down and
     * if we have a canDismiss value that
     * should block the gesture from
     * proceeding,
     */

    const isAttemptingDismissWithCanDismiss = step >= 0 && canDismissBlocksGesture;
    /**
     * If we are blocking the gesture from dismissing,
     * set the max step value so that the sheet cannot be
     * completely hidden.
     */

    const maxStep = isAttemptingDismissWithCanDismiss ? canDismissMaxStep : 0.9999;
    /**
     * If we are blocking the gesture from
     * dismissing, calculate the spring modifier value
     * this will be added to the starting breakpoint
     * value to give the gesture a spring-like feeling.
     * Note that the starting breakpoint is always 0,
     * so we omit adding 0 to the result.
     */

    const processedStep = isAttemptingDismissWithCanDismiss ? calculateSpringStep(step / maxStep) : step;
    const clampedStep = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.l)(0.0001, processedStep, maxStep);
    animation.progressStep(clampedStep);
    /**
     * When swiping down half way, the status bar style
     * should be reset to its default value.
     *
     * We track lastStep so that we do not fire these
     * functions on every onMove, only when the user has
     * crossed a certain threshold.
     */

    if (clampedStep >= DISMISS_THRESHOLD && lastStep < DISMISS_THRESHOLD) {
      setCardStatusBarDefault(statusBarStyle);
      /**
       * However, if we swipe back up, then the
       * status bar style should be set to have light
       * text on a dark background.
       */
    } else if (clampedStep < DISMISS_THRESHOLD && lastStep >= DISMISS_THRESHOLD) {
      setCardStatusBarDark();
    }

    lastStep = clampedStep;
  };

  const onEnd = detail => {
    const velocity = detail.velocityY;
    const step = detail.deltaY / height;
    const isAttemptingDismissWithCanDismiss = step >= 0 && canDismissBlocksGesture;
    const maxStep = isAttemptingDismissWithCanDismiss ? canDismissMaxStep : 0.9999;
    const processedStep = isAttemptingDismissWithCanDismiss ? calculateSpringStep(step / maxStep) : step;
    const clampedStep = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.l)(0.0001, processedStep, maxStep);
    const threshold = (detail.deltaY + velocity * 1000) / height;
    /**
     * If canDismiss blocks
     * the swipe gesture, then the
     * animation can never complete until
     * canDismiss is checked.
     */

    const shouldComplete = !isAttemptingDismissWithCanDismiss && threshold >= DISMISS_THRESHOLD;
    let newStepValue = shouldComplete ? -0.001 : 0.001;

    if (!shouldComplete) {
      animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');
      newStepValue += (0,_cubic_bezier_e78d1307_js__WEBPACK_IMPORTED_MODULE_13__.g)([0, 0], [1, 0], [0.68, 0.28], [1, 1], clampedStep)[0];
    } else {
      animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');
      newStepValue += (0,_cubic_bezier_e78d1307_js__WEBPACK_IMPORTED_MODULE_13__.g)([0, 0], [0.32, 0.72], [0, 1], [1, 1], clampedStep)[0];
    }

    const duration = shouldComplete ? computeDuration(step * height, velocity) : computeDuration((1 - clampedStep) * height, velocity);
    isOpen = shouldComplete;
    gesture.enable(false);

    if (contentEl) {
      (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.r)(contentEl, initialScrollY);
    }

    animation.onFinish(() => {
      if (!shouldComplete) {
        gesture.enable(true);
      }
    }).progressEnd(shouldComplete ? 1 : 0, newStepValue, duration);
    /**
     * If the canDismiss value blocked the gesture
     * from proceeding, then we should ignore whatever
     * shouldComplete is. Whether or not the modal
     * animation should complete is now determined by
     * canDismiss.
     *
     * If the user swiped >25% of the way
     * to the max step, then we should
     * check canDismiss. 25% was chosen
     * to avoid accidental swipes.
     */

    if (isAttemptingDismissWithCanDismiss && clampedStep > maxStep / 4) {
      handleCanDismiss(el, animation);
    } else if (shouldComplete) {
      onDismiss();
    }
  };

  const gesture = (0,_index_422b6e83_js__WEBPACK_IMPORTED_MODULE_14__.createGesture)({
    el,
    gestureName: 'modalSwipeToClose',
    gesturePriority: 39,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return gesture;
};

const computeDuration = (remaining, velocity) => {
  return (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.l)(400, remaining / Math.abs(velocity * 1.1), 500);
};

const createSheetEnterAnimation = opts => {
  const {
    currentBreakpoint,
    backdropBreakpoint
  } = opts;
  /**
   * If the backdropBreakpoint is undefined, then the backdrop
   * should always fade in. If the backdropBreakpoint came before the
   * current breakpoint, then the backdrop should be fading in.
   */

  const shouldShowBackdrop = backdropBreakpoint === undefined || backdropBreakpoint < currentBreakpoint;
  const initialBackdrop = shouldShowBackdrop ? `calc(var(--backdrop-opacity) * ${currentBreakpoint})` : '0';
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)('backdropAnimation').fromTo('opacity', 0, initialBackdrop);

  if (shouldShowBackdrop) {
    backdropAnimation.beforeStyles({
      'pointer-events': 'none'
    }).afterClearStyles(['pointer-events']);
  }

  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)('wrapperAnimation').keyframes([{
    offset: 0,
    opacity: 1,
    transform: 'translateY(100%)'
  }, {
    offset: 1,
    opacity: 1,
    transform: `translateY(${100 - currentBreakpoint * 100}%)`
  }]);
  return {
    wrapperAnimation,
    backdropAnimation
  };
};

const createSheetLeaveAnimation = opts => {
  const {
    currentBreakpoint,
    backdropBreakpoint
  } = opts;
  /**
   * Backdrop does not always fade in from 0 to 1 if backdropBreakpoint
   * is defined, so we need to account for that offset by figuring out
   * what the current backdrop value should be.
   */

  const backdropValue = `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(currentBreakpoint, backdropBreakpoint)})`;
  const defaultBackdrop = [{
    offset: 0,
    opacity: backdropValue
  }, {
    offset: 1,
    opacity: 0
  }];
  const customBackdrop = [{
    offset: 0,
    opacity: backdropValue
  }, {
    offset: backdropBreakpoint,
    opacity: 0
  }, {
    offset: 1,
    opacity: 0
  }];
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)('backdropAnimation').keyframes(backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop);
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)('wrapperAnimation').keyframes([{
    offset: 0,
    opacity: 1,
    transform: `translateY(${100 - currentBreakpoint * 100}%)`
  }, {
    offset: 1,
    opacity: 1,
    transform: `translateY(100%)`
  }]);
  return {
    wrapperAnimation,
    backdropAnimation
  };
};

const createEnterAnimation$1 = () => {
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');
  return {
    backdropAnimation,
    wrapperAnimation
  };
};
/**
 * iOS Modal Enter Animation for the Card presentation style
 */


const iosEnterAnimation = (baseEl, opts) => {
  const {
    presentingEl,
    currentBreakpoint
  } = opts;
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation
  } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation$1();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
    opacity: 1
  });
  const baseAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)('entering-base').addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(500).addAnimation(wrapperAnimation);

  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
    const presentingElRoot = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(presentingEl);
    const presentingAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().beforeStyles({
      transform: 'translateY(0)',
      'transform-origin': 'top center',
      overflow: 'hidden'
    });
    const bodyEl = document.body;

    if (isMobile) {
      /**
       * Fallback for browsers that does not support `max()` (ex: Firefox)
       * No need to worry about statusbar padding since engines like Gecko
       * are not used as the engine for standalone Cordova/Capacitor apps
       */
      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation.afterStyles({
        transform: finalTransform
      }).beforeAddWrite(() => bodyEl.style.setProperty('background-color', 'black')).addElement(presentingEl).keyframes([{
        offset: 0,
        filter: 'contrast(1)',
        transform: 'translateY(0px) scale(1)',
        borderRadius: '0px'
      }, {
        offset: 1,
        filter: 'contrast(0.85)',
        transform: finalTransform,
        borderRadius: '10px 10px 0 0'
      }]);
      baseAnimation.addAnimation(presentingAnimation);
    } else {
      baseAnimation.addAnimation(backdropAnimation);

      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '0', '1');
      } else {
        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation.afterStyles({
          transform: finalTransform
        }).addElement(presentingElRoot.querySelector('.modal-wrapper')).keyframes([{
          offset: 0,
          filter: 'contrast(1)',
          transform: 'translateY(0) scale(1)'
        }, {
          offset: 1,
          filter: 'contrast(0.85)',
          transform: finalTransform
        }]);
        const shadowAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().afterStyles({
          transform: finalTransform
        }).addElement(presentingElRoot.querySelector('.modal-shadow')).keyframes([{
          offset: 0,
          opacity: '1',
          transform: 'translateY(0) scale(1)'
        }, {
          offset: 1,
          opacity: '0',
          transform: finalTransform
        }]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  } else {
    baseAnimation.addAnimation(backdropAnimation);
  }

  return baseAnimation;
};

const createLeaveAnimation$1 = () => {
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().fromTo('opacity', 'var(--backdrop-opacity)', 0);
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');
  return {
    backdropAnimation,
    wrapperAnimation
  };
};
/**
 * iOS Modal Leave Animation
 */


const iosLeaveAnimation = (baseEl, opts, duration = 500) => {
  const {
    presentingEl,
    currentBreakpoint
  } = opts;
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation
  } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation$1();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
    opacity: 1
  });
  const baseAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)('leaving-base').addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(duration).addAnimation(wrapperAnimation);

  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
    const presentingElRoot = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(presentingEl);
    const presentingAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().beforeClearStyles(['transform']).afterClearStyles(['transform']).onFinish(currentStep => {
      // only reset background color if this is the last card-style modal
      if (currentStep !== 1) {
        return;
      }

      presentingEl.style.setProperty('overflow', '');
      const numModals = Array.from(bodyEl.querySelectorAll('ion-modal')).filter(m => m.presentingElement !== undefined).length;

      if (numModals <= 1) {
        bodyEl.style.setProperty('background-color', '');
      }
    });
    const bodyEl = document.body;

    if (isMobile) {
      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation.addElement(presentingEl).keyframes([{
        offset: 0,
        filter: 'contrast(0.85)',
        transform: finalTransform,
        borderRadius: '10px 10px 0 0'
      }, {
        offset: 1,
        filter: 'contrast(1)',
        transform: 'translateY(0px) scale(1)',
        borderRadius: '0px'
      }]);
      baseAnimation.addAnimation(presentingAnimation);
    } else {
      baseAnimation.addAnimation(backdropAnimation);

      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '1', '0');
      } else {
        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation.addElement(presentingElRoot.querySelector('.modal-wrapper')).afterStyles({
          transform: 'translate3d(0, 0, 0)'
        }).keyframes([{
          offset: 0,
          filter: 'contrast(0.85)',
          transform: finalTransform
        }, {
          offset: 1,
          filter: 'contrast(1)',
          transform: 'translateY(0) scale(1)'
        }]);
        const shadowAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().addElement(presentingElRoot.querySelector('.modal-shadow')).afterStyles({
          transform: 'translateY(0) scale(1)'
        }).keyframes([{
          offset: 0,
          opacity: '0',
          transform: finalTransform
        }, {
          offset: 1,
          opacity: '1',
          transform: 'translateY(0) scale(1)'
        }]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  } else {
    baseAnimation.addAnimation(backdropAnimation);
  }

  return baseAnimation;
};

const createEnterAnimation = () => {
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().keyframes([{
    offset: 0,
    opacity: 0.01,
    transform: 'translateY(40px)'
  }, {
    offset: 1,
    opacity: 1,
    transform: `translateY(0px)`
  }]);
  return {
    backdropAnimation,
    wrapperAnimation
  };
};
/**
 * Md Modal Enter Animation
 */


const mdEnterAnimation = (baseEl, opts) => {
  const {
    currentBreakpoint
  } = opts;
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation
  } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));
  return (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().addElement(baseEl).easing('cubic-bezier(0.36,0.66,0.04,1)').duration(280).addAnimation([backdropAnimation, wrapperAnimation]);
};

const createLeaveAnimation = () => {
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().fromTo('opacity', 'var(--backdrop-opacity)', 0);
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().keyframes([{
    offset: 0,
    opacity: 0.99,
    transform: `translateY(0px)`
  }, {
    offset: 1,
    opacity: 0,
    transform: 'translateY(40px)'
  }]);
  return {
    backdropAnimation,
    wrapperAnimation
  };
};
/**
 * Md Modal Leave Animation
 */


const mdLeaveAnimation = (baseEl, opts) => {
  const {
    currentBreakpoint
  } = opts;
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.g)(baseEl);
  const {
    wrapperAnimation,
    backdropAnimation
  } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));
  return (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_12__.c)().easing('cubic-bezier(0.47,0,0.745,0.715)').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);
};

const createSheetGesture = (baseEl, backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, animation, breakpoints = [], getCurrentBreakpoint, onDismiss, onBreakpointChange) => {
  // Defaults for the sheet swipe animation
  const defaultBackdrop = [{
    offset: 0,
    opacity: 'var(--backdrop-opacity)'
  }, {
    offset: 1,
    opacity: 0.01
  }];
  const customBackdrop = [{
    offset: 0,
    opacity: 'var(--backdrop-opacity)'
  }, {
    offset: 1 - backdropBreakpoint,
    opacity: 0
  }, {
    offset: 1,
    opacity: 0
  }];
  const SheetDefaults = {
    WRAPPER_KEYFRAMES: [{
      offset: 0,
      transform: 'translateY(0%)'
    }, {
      offset: 1,
      transform: 'translateY(100%)'
    }],
    BACKDROP_KEYFRAMES: backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop
  };
  const contentEl = baseEl.querySelector('ion-content');
  const height = wrapperEl.clientHeight;
  let currentBreakpoint = initialBreakpoint;
  let offset = 0;
  let canDismissBlocksGesture = false;
  const canDismissMaxStep = 0.95;
  const wrapperAnimation = animation.childAnimations.find(ani => ani.id === 'wrapperAnimation');
  const backdropAnimation = animation.childAnimations.find(ani => ani.id === 'backdropAnimation');
  const maxBreakpoint = breakpoints[breakpoints.length - 1];
  const minBreakpoint = breakpoints[0];

  const enableBackdrop = () => {
    baseEl.style.setProperty('pointer-events', 'auto');
    backdropEl.style.setProperty('pointer-events', 'auto');
    /**
     * When the backdrop is enabled, elements such
     * as inputs should not be focusable outside
     * the sheet.
     */

    baseEl.classList.remove('ion-disable-focus-trap');
  };

  const disableBackdrop = () => {
    baseEl.style.setProperty('pointer-events', 'none');
    backdropEl.style.setProperty('pointer-events', 'none');
    /**
     * When the backdrop is enabled, elements such
     * as inputs should not be focusable outside
     * the sheet.
     * Adding this class disables focus trapping
     * for the sheet temporarily.
     */

    baseEl.classList.add('ion-disable-focus-trap');
  };
  /**
   * After the entering animation completes,
   * we need to set the animation to go from
   * offset 0 to offset 1 so that users can
   * swipe in any direction. We then set the
   * animation offset to the current breakpoint
   * so there is no flickering.
   */


  if (wrapperAnimation && backdropAnimation) {
    wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);
    backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);
    animation.progressStart(true, 1 - currentBreakpoint);
    /**
     * If backdrop is not enabled, then content
     * behind modal should be clickable. To do this, we need
     * to remove pointer-events from ion-modal as a whole.
     * ion-backdrop and .modal-wrapper always have pointer-events: auto
     * applied, so the modal content can still be interacted with.
     */

    const shouldEnableBackdrop = currentBreakpoint > backdropBreakpoint;

    if (shouldEnableBackdrop) {
      enableBackdrop();
    } else {
      disableBackdrop();
    }
  }

  if (contentEl && currentBreakpoint !== maxBreakpoint) {
    contentEl.scrollY = false;
  }

  const canStart = detail => {
    /**
     * If the sheet is fully expanded and
     * the user is swiping on the content,
     * the gesture should not start to
     * allow for scrolling on the content.
     */
    const content = detail.event.target.closest('ion-content');
    currentBreakpoint = getCurrentBreakpoint();

    if (currentBreakpoint === 1 && content) {
      return false;
    }

    return true;
  };

  const onStart = () => {
    /**
     * If canDismiss is anything other than `true`
     * then users should be able to swipe down
     * until a threshold is hit. At that point,
     * the card modal should not proceed any further.
     *
     * canDismiss is never fired via gesture if there is
     * no 0 breakpoint. However, it can be fired if the user
     * presses Esc or the hardware back button.
     * TODO (FW-937)
     * Remove undefined check
     */
    canDismissBlocksGesture = baseEl.canDismiss !== undefined && baseEl.canDismiss !== true && minBreakpoint === 0;
    /**
     * If swiping on the content
     * we should disable scrolling otherwise
     * the sheet will expand and the content will scroll.
     */

    if (contentEl) {
      contentEl.scrollY = false;
    }

    (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.r)(() => {
      /**
       * Dismisses the open keyboard when the sheet drag gesture is started.
       * Sets the focus onto the modal element.
       */
      baseEl.focus();
    });
    animation.progressStart(true, 1 - currentBreakpoint);
  };

  const onMove = detail => {
    /**
     * Given the change in gesture position on the Y axis,
     * compute where the offset of the animation should be
     * relative to where the user dragged.
     */
    const initialStep = 1 - currentBreakpoint;
    const secondToLastBreakpoint = breakpoints.length > 1 ? 1 - breakpoints[1] : undefined;
    const step = initialStep + detail.deltaY / height;
    const isAttemptingDismissWithCanDismiss = secondToLastBreakpoint !== undefined && step >= secondToLastBreakpoint && canDismissBlocksGesture;
    /**
     * If we are blocking the gesture from dismissing,
     * set the max step value so that the sheet cannot be
     * completely hidden.
     */

    const maxStep = isAttemptingDismissWithCanDismiss ? canDismissMaxStep : 0.9999;
    /**
     * If we are blocking the gesture from
     * dismissing, calculate the spring modifier value
     * this will be added to the starting breakpoint
     * value to give the gesture a spring-like feeling.
     * Note that when isAttemptingDismissWithCanDismiss is true,
     * the modifier is always added to the breakpoint that
     * appears right after the 0 breakpoint.
     *
     * Note that this modifier is essentially the progression
     * between secondToLastBreakpoint and maxStep which is
     * why we subtract secondToLastBreakpoint. This lets us get
     * the result as a value from 0 to 1.
     */

    const processedStep = isAttemptingDismissWithCanDismiss && secondToLastBreakpoint !== undefined ? secondToLastBreakpoint + calculateSpringStep((step - secondToLastBreakpoint) / (maxStep - secondToLastBreakpoint)) : step;
    offset = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.l)(0.0001, processedStep, maxStep);
    animation.progressStep(offset);
  };

  const onEnd = detail => {
    /**
     * When the gesture releases, we need to determine
     * the closest breakpoint to snap to.
     */
    const velocity = detail.velocityY;
    const threshold = (detail.deltaY + velocity * 350) / height;
    const diff = currentBreakpoint - threshold;
    const closest = breakpoints.reduce((a, b) => {
      return Math.abs(b - diff) < Math.abs(a - diff) ? b : a;
    });
    moveSheetToBreakpoint({
      breakpoint: closest,
      breakpointOffset: offset,
      canDismiss: canDismissBlocksGesture
    });
  };

  const moveSheetToBreakpoint = options => {
    const {
      breakpoint,
      canDismiss,
      breakpointOffset
    } = options;
    /**
     * canDismiss should only prevent snapping
     * when users are trying to dismiss. If canDismiss
     * is present but the user is trying to swipe upwards,
     * we should allow that to happen,
     */

    const shouldPreventDismiss = canDismiss && breakpoint === 0;
    const snapToBreakpoint = shouldPreventDismiss ? currentBreakpoint : breakpoint;
    const shouldRemainOpen = snapToBreakpoint !== 0;
    currentBreakpoint = 0;
    /**
     * Update the animation so that it plays from
     * the last offset to the closest snap point.
     */

    if (wrapperAnimation && backdropAnimation) {
      wrapperAnimation.keyframes([{
        offset: 0,
        transform: `translateY(${breakpointOffset * 100}%)`
      }, {
        offset: 1,
        transform: `translateY(${(1 - snapToBreakpoint) * 100}%)`
      }]);
      backdropAnimation.keyframes([{
        offset: 0,
        opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(1 - breakpointOffset, backdropBreakpoint)})`
      }, {
        offset: 1,
        opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(snapToBreakpoint, backdropBreakpoint)})`
      }]);
      animation.progressStep(0);
    }
    /**
     * Gesture should remain disabled until the
     * snapping animation completes.
     */


    gesture.enable(false);

    if (shouldPreventDismiss) {
      handleCanDismiss(baseEl, animation);
    } else if (!shouldRemainOpen) {
      onDismiss();
    }

    return new Promise(resolve => {
      animation.onFinish(() => {
        if (shouldRemainOpen) {
          /**
           * Once the snapping animation completes,
           * we need to reset the animation to go
           * from 0 to 1 so users can swipe in any direction.
           * We then set the animation offset to the current
           * breakpoint so that it starts at the snapped position.
           */
          if (wrapperAnimation && backdropAnimation) {
            (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.r)(() => {
              wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);
              backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);
              animation.progressStart(true, 1 - snapToBreakpoint);
              currentBreakpoint = snapToBreakpoint;
              onBreakpointChange(currentBreakpoint);
              /**
               * If the sheet is fully expanded, we can safely
               * enable scrolling again.
               */

              if (contentEl && currentBreakpoint === breakpoints[breakpoints.length - 1]) {
                contentEl.scrollY = true;
              }
              /**
               * Backdrop should become enabled
               * after the backdropBreakpoint value
               */


              const shouldEnableBackdrop = currentBreakpoint > backdropBreakpoint;

              if (shouldEnableBackdrop) {
                enableBackdrop();
              } else {
                disableBackdrop();
              }

              gesture.enable(true);
              resolve();
            });
          } else {
            gesture.enable(true);
            resolve();
          }
        } else {
          resolve();
        }
        /**
         * This must be a one time callback
         * otherwise a new callback will
         * be added every time onEnd runs.
         */

      }, {
        oneTimeCallback: true
      }).progressEnd(1, 0, 500);
    });
  };

  const gesture = (0,_index_422b6e83_js__WEBPACK_IMPORTED_MODULE_14__.createGesture)({
    el: wrapperEl,
    gestureName: 'modalSheet',
    gesturePriority: 40,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return {
    gesture,
    moveSheetToBreakpoint
  };
};

const modalIosCss = ":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.modal-handle::before{padding-left:4px;padding-right:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:\"\"}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle::before{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: 1px){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: 1px){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}";
const modalMdCss = ":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.modal-handle::before{padding-left:4px;padding-right:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:\"\"}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle::before{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}";
const Modal = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.didPresent = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalDidPresent", 7);
    this.willPresent = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalWillPresent", 7);
    this.willDismiss = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalWillDismiss", 7);
    this.didDismiss = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalDidDismiss", 7);
    this.ionBreakpointDidChange = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionBreakpointDidChange", 7);
    this.didPresentShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "didDismiss", 7);
    this.modalIndex = modalIds++;
    this.coreDelegate = (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_4__.C)();
    this.isSheetModal = false;
    this.inheritedAttributes = {};
    this.inline = false; // Whether or not modal is being dismissed via gesture

    this.gestureAnimationDismissing = false;
    this.presented = false;
    /** @internal */

    this.hasController = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */

    this.keyboardClose = true;
    /**
     * A decimal value between 0 and 1 that indicates the
     * point after which the backdrop will begin to fade in
     * when using a sheet modal. Prior to this point, the
     * backdrop will be hidden and the content underneath
     * the sheet can be interacted with. This value is exclusive
     * meaning the backdrop will become active after the value
     * specified.
     */

    this.backdropBreakpoint = 0;
    /**
     * The interaction behavior for the sheet modal when the handle is pressed.
     *
     * Defaults to `"none"`, which  means the modal will not change size or position when the handle is pressed.
     * Set to `"cycle"` to let the modal cycle between available breakpoints when pressed.
     *
     * Handle behavior is unavailable when the `handle` property is set to `false` or
     * when the `breakpoints` property is not set (using a fullscreen or card modal).
     */

    this.handleBehavior = 'none';
    /**
     * If `true`, the modal will be dismissed when the backdrop is clicked.
     */

    this.backdropDismiss = true;
    /**
     * If `true`, a backdrop will be displayed behind the modal.
     * This property controls whether or not the backdrop
     * darkens the screen when the modal is presented.
     * It does not control whether or not the backdrop
     * is active or present in the DOM.
     */

    this.showBackdrop = true;
    /**
     * If `true`, the modal will animate.
     */

    this.animated = true;
    /**
     * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.
     * @deprecated - To prevent modals from dismissing, use canDismiss instead.
     */

    this.swipeToClose = false;
    /**
     * If `true`, the modal will open. If `false`, the modal will close.
     * Use this if you need finer grained control over presentation, otherwise
     * just use the modalController or the `trigger` property.
     * Note: `isOpen` will not automatically be set back to `false` when
     * the modal dismisses. You will need to do that in your code.
     */

    this.isOpen = false;
    /**
     * If `true`, the component passed into `ion-modal` will
     * automatically be mounted when the modal is created. The
     * component will remain mounted even when the modal is dismissed.
     * However, the component will be destroyed when the modal is
     * destroyed. This property is not reactive and should only be
     * used when initially creating a modal.
     *
     * Note: This feature only applies to inline modals in JavaScript
     * frameworks such as Angular, React, and Vue.
     */

    this.keepContentsMounted = false;

    this.configureTriggerInteraction = () => {
      const {
        trigger,
        el,
        destroyTriggerInteraction
      } = this;

      if (destroyTriggerInteraction) {
        destroyTriggerInteraction();
      }

      if (trigger === undefined) {
        return;
      }

      const triggerEl = trigger !== undefined ? document.getElementById(trigger) : null;

      if (!triggerEl) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_7__.p)(`A trigger element with the ID "${trigger}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-modal.`, this.el);
        return;
      }

      const configureTriggerInteraction = (trigEl, modalEl) => {
        const openModal = () => {
          modalEl.present();
        };

        trigEl.addEventListener('click', openModal);
        return () => {
          trigEl.removeEventListener('click', openModal);
        };
      };

      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, el);
    };

    this.onHandleClick = () => {
      const {
        sheetTransition,
        handleBehavior
      } = this;

      if (handleBehavior !== 'cycle' || sheetTransition !== undefined) {
        /**
         * The sheet modal should not advance to the next breakpoint
         * if the handle behavior is not `cycle` or if the handle
         * is clicked while the sheet is moving to a breakpoint.
         */
        return;
      }

      this.moveToNextBreakpoint();
    };

    this.onBackdropTap = () => {
      const {
        sheetTransition
      } = this;

      if (sheetTransition !== undefined) {
        /**
         * When the handle is double clicked at the largest breakpoint,
         * it will start to move to the first breakpoint. While transitioning,
         * the backdrop will often receive the second click. We prevent the
         * backdrop from dismissing the modal while moving between breakpoints.
         */
        return;
      }

      this.dismiss(undefined, _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.B);
    };

    this.onLifecycle = modalEvent => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP[modalEvent.type];

      if (el && name) {
        const ev = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(ev);
      }
    };
  }

  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    } else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }

  onTriggerChange() {
    this.configureTriggerInteraction();
  }

  swipeToCloseChanged(enable) {
    var _this = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.gesture) {
        _this.gesture.enable(enable);
      } else if (enable) {
        _this.initSwipeToClose();
      }
    })();
  }

  breakpointsChanged(breakpoints) {
    if (breakpoints !== undefined) {
      this.sortedBreakpoints = breakpoints.sort((a, b) => a - b);
    }
  }

  connectedCallback() {
    const {
      configureTriggerInteraction,
      el
    } = this;
    (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.e)(el);
    configureTriggerInteraction();
  }

  disconnectedCallback() {
    const {
      destroyTriggerInteraction
    } = this;

    if (destroyTriggerInteraction) {
      destroyTriggerInteraction();
    }
  }

  componentWillLoad() {
    const {
      breakpoints,
      initialBreakpoint,
      swipeToClose,
      el
    } = this;
    this.inheritedAttributes = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.j)(el, ['aria-label', 'role']);
    /**
     * If user has custom ID set then we should
     * not assign the default incrementing ID.
     */

    this.modalId = this.el.hasAttribute('id') ? this.el.getAttribute('id') : `ion-modal-${this.modalIndex}`;
    const isSheetModal = this.isSheetModal = breakpoints !== undefined && initialBreakpoint !== undefined;

    if (isSheetModal) {
      this.currentBreakpoint = this.initialBreakpoint;
    }

    if (breakpoints !== undefined && initialBreakpoint !== undefined && !breakpoints.includes(initialBreakpoint)) {
      (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_7__.p)('Your breakpoints array must include the initialBreakpoint value.');
    }

    if (swipeToClose) {
      (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_7__.p)('swipeToClose has been deprecated in favor of canDismiss.\n\nIf you want a card modal to be swipeable, set canDismiss to `true`. In the next major release of Ionic, swipeToClose will be removed, and all card modals will be swipeable by default.');
    }
  }

  componentDidLoad() {
    /**
     * If modal was rendered with isOpen="true"
     * then we should open modal immediately.
     */
    if (this.isOpen === true) {
      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.r)(() => this.present());
    }

    this.breakpointsChanged(this.breakpoints);
  }
  /**
   * Determines whether or not an overlay
   * is being used inline or via a controller/JS
   * and returns the correct delegate.
   * By default, subsequent calls to getDelegate
   * will use a cached version of the delegate.
   * This is useful for calling dismiss after
   * present so that the correct delegate is given.
   */


  getDelegate(force = false) {
    if (this.workingDelegate && !force) {
      return {
        delegate: this.workingDelegate,
        inline: this.inline
      };
    }
    /**
     * If using overlay inline
     * we potentially need to use the coreDelegate
     * so that this works in vanilla JS apps.
     * If a developer has presented this component
     * via a controller, then we can assume
     * the component is already in the
     * correct place.
     */


    const parentEl = this.el.parentNode;
    const inline = this.inline = parentEl !== null && !this.hasController;
    const delegate = this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate;
    return {
      inline,
      delegate
    };
  }
  /**
   * Determines whether or not the
   * modal is allowed to dismiss based
   * on the state of the canDismiss prop.
   */


  checkCanDismiss(data, role) {
    var _this2 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        canDismiss
      } = _this2;
      /**
       * TODO (FW-937) - Remove the following check in
       * the next major release of Ionic.
       */

      if (canDismiss === undefined) {
        return true;
      }

      if (typeof canDismiss === 'function') {
        return canDismiss(data, role);
      }

      return canDismiss;
    })();
  }
  /**
   * Present the modal overlay after it has been created.
   */


  present() {
    var _this3 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this3.presented) {
        return;
      }
      /**
       * When using an inline modal
       * and dismissing a modal it is possible to
       * quickly present the modal while it is
       * dismissing. We need to await any current
       * transition to allow the dismiss to finish
       * before presenting again.
       */


      if (_this3.currentTransition !== undefined) {
        yield _this3.currentTransition;
      }
      /**
       * If the modal is presented multiple times (inline modals), we
       * need to reset the current breakpoint to the initial breakpoint.
       */


      _this3.currentBreakpoint = _this3.initialBreakpoint;

      const {
        inline,
        delegate
      } = _this3.getDelegate(true);

      _this3.usersElement = yield (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_4__.a)(delegate, _this3.el, _this3.component, ['ion-page'], _this3.componentProps, inline);
      yield (0,_index_27c7e5c4_js__WEBPACK_IMPORTED_MODULE_11__.e)(_this3.usersElement);
      (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.c)(() => _this3.el.classList.add('show-modal'));
      _this3.currentTransition = (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.d)(_this3, 'modalEnter', iosEnterAnimation, mdEnterAnimation, {
        presentingEl: _this3.presentingElement,
        currentBreakpoint: _this3.initialBreakpoint,
        backdropBreakpoint: _this3.backdropBreakpoint
      });
      /* tslint:disable-next-line */

      if (typeof window !== 'undefined') {
        /**
         * This needs to be setup before any
         * non-transition async work so it can be dereferenced
         * in the dismiss method. The dismiss method
         * only waits for the entering transition
         * to finish. It does not wait for all of the `present`
         * method to resolve.
         */
        _this3.keyboardOpenCallback = () => {
          if (_this3.gesture) {
            /**
             * When the native keyboard is opened and the webview
             * is resized, the gesture implementation will become unresponsive
             * and enter a free-scroll mode.
             *
             * When the keyboard is opened, we disable the gesture for
             * a single frame and re-enable once the contents have repositioned
             * from the keyboard placement.
             */
            _this3.gesture.enable(false);

            (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_5__.r)(() => {
              if (_this3.gesture) {
                _this3.gesture.enable(true);
              }
            });
          }
        };

        window.addEventListener(_keyboard_282b81b8_js__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_DID_OPEN, _this3.keyboardOpenCallback);
      }
      /**
       * TODO (FW-937) - In the next major release of Ionic, all card modals
       * will be swipeable by default. canDismiss will be used to determine if the
       * modal can be dismissed. This check should change to check the presence of
       * presentingElement instead.
       *
       * If we did not do this check, then not using swipeToClose would mean you could
       * not run canDismiss on swipe as there would be no swipe gesture created.
       */


      const hasCardModal = _this3.presentingElement !== undefined && (_this3.swipeToClose || _this3.canDismiss !== undefined);
      /**
       * We need to change the status bar at the
       * start of the animation so that it completes
       * by the time the card animation is done.
       */

      if (hasCardModal && (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(_this3) === 'ios') {
        // Cache the original status bar color before the modal is presented
        _this3.statusBarStyle = yield StatusBar.getStyle();
        setCardStatusBarDark();
      }

      yield _this3.currentTransition;

      if (_this3.isSheetModal) {
        _this3.initSheetGesture();
      } else if (hasCardModal) {
        _this3.initSwipeToClose();
      }

      _this3.currentTransition = undefined;
    })();
  }

  initSwipeToClose() {
    var _this4 = this;

    var _a;

    if ((0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(this) !== 'ios') {
      return;
    }

    const {
      el
    } = this; // All of the elements needed for the swipe gesture
    // should be in the DOM and referenced by now, except
    // for the presenting el

    const animationBuilder = this.leaveAnimation || _ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.c.get('modalLeave', iosLeaveAnimation);
    const ani = this.animation = animationBuilder(el, {
      presentingEl: this.presentingElement
    });
    const contentEl = (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.a)(el);

    if (!contentEl) {
      (0,_index_e6d1a8be_js__WEBPACK_IMPORTED_MODULE_3__.p)(el);
      return;
    }

    const statusBarStyle = (_a = this.statusBarStyle) !== null && _a !== void 0 ? _a : Style.Default;
    this.gesture = createSwipeToCloseGesture(el, ani, statusBarStyle, () => {
      /**
       * While the gesture animation is finishing
       * it is possible for a user to tap the backdrop.
       * This would result in the dismiss animation
       * being played again. Typically this is avoided
       * by setting `presented = false` on the overlay
       * component; however, we cannot do that here as
       * that would prevent the element from being
       * removed from the DOM.
       */
      this.gestureAnimationDismissing = true;
      this.animation.onFinish( /*#__PURE__*/(0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
        yield _this4.dismiss(undefined, _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.G);
        _this4.gestureAnimationDismissing = false;
      }));
    });
    this.gesture.enable(true);
  }

  initSheetGesture() {
    const {
      wrapperEl,
      initialBreakpoint,
      backdropBreakpoint
    } = this;

    if (!wrapperEl || initialBreakpoint === undefined) {
      return;
    }

    const animationBuilder = this.enterAnimation || _ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.c.get('modalEnter', iosEnterAnimation);
    const ani = this.animation = animationBuilder(this.el, {
      presentingEl: this.presentingElement,
      currentBreakpoint: initialBreakpoint,
      backdropBreakpoint
    });
    ani.progressStart(true, 1);
    const {
      gesture,
      moveSheetToBreakpoint
    } = createSheetGesture(this.el, this.backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, ani, this.sortedBreakpoints, () => {
      var _a;

      return (_a = this.currentBreakpoint) !== null && _a !== void 0 ? _a : 0;
    }, () => this.sheetOnDismiss(), breakpoint => {
      if (this.currentBreakpoint !== breakpoint) {
        this.currentBreakpoint = breakpoint;
        this.ionBreakpointDidChange.emit({
          breakpoint
        });
      }
    });
    this.gesture = gesture;
    this.moveSheetToBreakpoint = moveSheetToBreakpoint;
    this.gesture.enable(true);
  }

  sheetOnDismiss() {
    var _this5 = this;

    /**
     * While the gesture animation is finishing
     * it is possible for a user to tap the backdrop.
     * This would result in the dismiss animation
     * being played again. Typically this is avoided
     * by setting `presented = false` on the overlay
     * component; however, we cannot do that here as
     * that would prevent the element from being
     * removed from the DOM.
     */
    this.gestureAnimationDismissing = true;
    this.animation.onFinish( /*#__PURE__*/(0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this5.currentBreakpoint = 0;

      _this5.ionBreakpointDidChange.emit({
        breakpoint: _this5.currentBreakpoint
      });

      yield _this5.dismiss(undefined, _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.G);
      _this5.gestureAnimationDismissing = false;
    }));
  }
  /**
   * Dismiss the modal overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.
   */


  dismiss(data, role) {
    var _this6 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a;

      if (_this6.gestureAnimationDismissing && role !== _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.G) {
        return false;
      }
      /**
       * If a canDismiss handler is responsible
       * for calling the dismiss method, we should
       * not run the canDismiss check again.
       */


      if (role !== 'handler' && !(yield _this6.checkCanDismiss(data, role))) {
        return false;
      }
      /**
       * We need to start the status bar change
       * before the animation so that the change
       * finishes when the dismiss animation does.
       * TODO (FW-937)
       */


      const hasCardModal = _this6.presentingElement !== undefined && (_this6.swipeToClose || _this6.canDismiss !== undefined);

      if (hasCardModal && (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(_this6) === 'ios') {
        setCardStatusBarDefault(_this6.statusBarStyle);
      }
      /* tslint:disable-next-line */


      if (typeof window !== 'undefined' && _this6.keyboardOpenCallback) {
        window.removeEventListener(_keyboard_282b81b8_js__WEBPACK_IMPORTED_MODULE_6__.KEYBOARD_DID_OPEN, _this6.keyboardOpenCallback);
        _this6.keyboardOpenCallback = undefined;
      }
      /**
       * When using an inline modal
       * and presenting a modal it is possible to
       * quickly dismiss the modal while it is
       * presenting. We need to await any current
       * transition to allow the present to finish
       * before dismissing again.
       */


      if (_this6.currentTransition !== undefined) {
        yield _this6.currentTransition;
      }

      const enteringAnimation = _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.h.get(_this6) || [];
      _this6.currentTransition = (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.f)(_this6, data, role, 'modalLeave', iosLeaveAnimation, mdLeaveAnimation, {
        presentingEl: _this6.presentingElement,
        currentBreakpoint: (_a = _this6.currentBreakpoint) !== null && _a !== void 0 ? _a : _this6.initialBreakpoint,
        backdropBreakpoint: _this6.backdropBreakpoint
      });
      const dismissed = yield _this6.currentTransition;

      if (dismissed) {
        const {
          delegate
        } = _this6.getDelegate();

        yield (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_4__.d)(delegate, _this6.usersElement);
        (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.c)(() => _this6.el.classList.remove('show-modal'));

        if (_this6.animation) {
          _this6.animation.destroy();
        }

        if (_this6.gesture) {
          _this6.gesture.destroy();
        }

        enteringAnimation.forEach(ani => ani.destroy());
      }

      _this6.currentBreakpoint = undefined;
      _this6.currentTransition = undefined;
      _this6.animation = undefined;
      return dismissed;
    })();
  }
  /**
   * Returns a promise that resolves when the modal did dismiss.
   */


  onDidDismiss() {
    return (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.g)(this.el, 'ionModalDidDismiss');
  }
  /**
   * Returns a promise that resolves when the modal will dismiss.
   */


  onWillDismiss() {
    return (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_9__.g)(this.el, 'ionModalWillDismiss');
  }
  /**
   * Move a sheet style modal to a specific breakpoint. The breakpoint value must
   * be a value defined in your `breakpoints` array.
   */


  setCurrentBreakpoint(breakpoint) {
    var _this7 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this7.isSheetModal) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_7__.p)('setCurrentBreakpoint is only supported on sheet modals.');
        return;
      }

      if (!_this7.breakpoints.includes(breakpoint)) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_7__.p)(`Attempted to set invalid breakpoint value ${breakpoint}. Please double check that the breakpoint value is part of your defined breakpoints.`);
        return;
      }

      const {
        currentBreakpoint,
        moveSheetToBreakpoint,
        canDismiss,
        breakpoints
      } = _this7;

      if (currentBreakpoint === breakpoint) {
        return;
      }

      if (moveSheetToBreakpoint) {
        _this7.sheetTransition = moveSheetToBreakpoint({
          breakpoint,
          breakpointOffset: 1 - currentBreakpoint,
          canDismiss: canDismiss !== undefined && canDismiss !== true && breakpoints[0] === 0
        });
        yield _this7.sheetTransition;
        _this7.sheetTransition = undefined;
      }
    })();
  }
  /**
   * Returns the current breakpoint of a sheet style modal
   */


  getCurrentBreakpoint() {
    var _this8 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this8.currentBreakpoint;
    })();
  }

  moveToNextBreakpoint() {
    var _this9 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        breakpoints,
        currentBreakpoint
      } = _this9;

      if (!breakpoints || currentBreakpoint == null) {
        /**
         * If the modal does not have breakpoints and/or the current
         * breakpoint is not set, we can't move to the next breakpoint.
         */
        return false;
      }

      const allowedBreakpoints = breakpoints.filter(b => b !== 0);
      const currentBreakpointIndex = allowedBreakpoints.indexOf(currentBreakpoint);
      const nextBreakpointIndex = (currentBreakpointIndex + 1) % allowedBreakpoints.length;
      const nextBreakpoint = allowedBreakpoints[nextBreakpointIndex];
      /**
       * Sets the current breakpoint to the next available breakpoint.
       * If the current breakpoint is the last breakpoint, we set the current
       * breakpoint to the first non-zero breakpoint to avoid dismissing the sheet.
       */

      yield _this9.setCurrentBreakpoint(nextBreakpoint);
      return true;
    })();
  }

  render() {
    const {
      handle,
      isSheetModal,
      presentingElement,
      htmlAttributes,
      handleBehavior,
      inheritedAttributes
    } = this;
    const showHandle = handle !== false && isSheetModal;
    const mode = (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    const {
      modalId
    } = this;
    const isCardModal = presentingElement !== undefined && mode === 'ios';
    const isHandleCycle = handleBehavior === 'cycle';
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, Object.assign({
      "no-router": true,
      tabindex: "-1"
    }, htmlAttributes, {
      style: {
        zIndex: `${20000 + this.overlayIndex}`
      },
      class: Object.assign({
        [mode]: true,
        ['modal-default']: !isCardModal && !isSheetModal,
        [`modal-card`]: isCardModal,
        [`modal-sheet`]: isSheetModal,
        'overlay-hidden': true
      }, (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_10__.g)(this.cssClass)),
      id: modalId,
      onIonBackdropTap: this.onBackdropTap,
      onIonModalDidPresent: this.onLifecycle,
      onIonModalWillPresent: this.onLifecycle,
      onIonModalWillDismiss: this.onLifecycle,
      onIonModalDidDismiss: this.onLifecycle
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-backdrop", {
      ref: el => this.backdropEl = el,
      visible: this.showBackdrop,
      tappable: this.backdropDismiss,
      part: "backdrop"
    }), mode === 'ios' && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "modal-shadow"
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", Object.assign({
      /*
        role and aria-modal must be used on the
        same element. They must also be set inside the
        shadow DOM otherwise ion-button will not be highlighted
        when using VoiceOver: https://bugs.webkit.org/show_bug.cgi?id=247134
      */
      role: "dialog"
    }, inheritedAttributes, {
      "aria-modal": "true",
      class: "modal-wrapper ion-overlay-wrapper",
      part: "content",
      ref: el => this.wrapperEl = el
    }), showHandle && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "modal-handle",
      // Prevents the handle from receiving keyboard focus when it does not cycle
      tabIndex: !isHandleCycle ? -1 : 0,
      "aria-label": "Activate to adjust the size of the dialog overlaying the screen",
      onClick: isHandleCycle ? this.onHandleClick : undefined,
      part: "handle"
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null)));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "isOpen": ["onIsOpenChange"],
      "trigger": ["onTriggerChange"],
      "swipeToClose": ["swipeToCloseChanged"]
    };
  }

};
const LIFECYCLE_MAP = {
  ionModalDidPresent: 'ionViewDidEnter',
  ionModalWillPresent: 'ionViewWillEnter',
  ionModalWillDismiss: 'ionViewWillLeave',
  ionModalDidDismiss: 'ionViewDidLeave'
};
let modalIds = 0;
Modal.style = {
  ios: modalIosCss,
  md: modalMdCss
};


/***/ }),

/***/ 17548:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/theme-7670341c.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createColorClasses),
/* harmony export */   "g": () => (/* binding */ getClassMap),
/* harmony export */   "h": () => (/* binding */ hostContext),
/* harmony export */   "o": () => (/* binding */ openURL)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const hostContext = (selector, el) => {
  return el.closest(selector) !== null;
};
/**
 * Create the mode and color classes for the component based on the classes passed in
 */


const createColorClasses = (color, cssClassMap) => {
  return typeof color === 'string' && color.length > 0 ? Object.assign({
    'ion-color': true,
    [`ion-color-${color}`]: true
  }, cssClassMap) : cssClassMap;
};

const getClassList = classes => {
  if (classes !== undefined) {
    const array = Array.isArray(classes) ? classes : classes.split(' ');
    return array.filter(c => c != null).map(c => c.trim()).filter(c => c !== '');
  }

  return [];
};

const getClassMap = classes => {
  const map = {};
  getClassList(classes).forEach(c => map[c] = true);
  return map;
};

const SCHEME = /^[a-z][a-z0-9+\-.]*:/;

const openURL = /*#__PURE__*/function () {
  var _ref = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (url, ev, direction, animation) {
    if (url != null && url[0] !== '#' && !SCHEME.test(url)) {
      const router = document.querySelector('ion-router');

      if (router) {
        if (ev != null) {
          ev.preventDefault();
        }

        return router.push(url, direction, animation);
      }
    }

    return false;
  });

  return function openURL(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLW1vZGFsX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFFBQVE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlCQUF5Qix3QkFBd0IsNkJBQTZCO0FBQ3pHOztBQUVvRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFJcUQsS0FBSjs7QUFDQSxDQUFDLFVBQVVBLEtBQVYsRUFBaUI7QUFDaEJBLEVBQUFBLEtBQUssQ0FBQyxNQUFELENBQUwsR0FBZ0IsTUFBaEI7QUFDQUEsRUFBQUEsS0FBSyxDQUFDLE9BQUQsQ0FBTCxHQUFpQixPQUFqQjtBQUNBQSxFQUFBQSxLQUFLLENBQUMsU0FBRCxDQUFMLEdBQW1CLFNBQW5CO0FBQ0QsQ0FKRCxFQUlHQSxLQUFLLEtBQUtBLEtBQUssR0FBRyxFQUFiLENBSlI7O0FBS0EsTUFBTUMsU0FBUyxHQUFHO0FBQ2hCQyxFQUFBQSxTQUFTLEdBQUc7QUFDVixRQUFJQyxFQUFKOztBQUNBLFdBQU8sQ0FBQyxDQUFDQSxFQUFFLEdBQUdsQixpREFBRyxLQUFLLElBQVIsSUFBZ0JBLGlEQUFHLEtBQUssS0FBSyxDQUE3QixHQUFpQyxLQUFLLENBQXRDLEdBQTBDQSwyREFBaEQsTUFBbUUsSUFBbkUsSUFBMkVrQixFQUFFLEtBQUssS0FBSyxDQUF2RixHQUEyRixLQUFLLENBQWhHLEdBQW9HQSxFQUFFLENBQUNFLGlCQUFILENBQXFCLFdBQXJCLENBQXJHLE1BQTRJcEIsaURBQUcsS0FBSyxJQUFSLElBQWdCQSxpREFBRyxLQUFLLEtBQUssQ0FBN0IsR0FBaUMsS0FBSyxDQUF0QyxHQUEwQ0EsNkVBQXRMLENBQVA7QUFDRCxHQUplOztBQUtoQnNCLEVBQUFBLDZCQUE2QixHQUFHO0FBQzlCLFFBQUlKLEVBQUo7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNJLFdBQU8sQ0FBQyxFQUFFLENBQUNBLEVBQUUsR0FBR2xCLGlEQUFHLEtBQUssSUFBUixJQUFnQkEsaURBQUcsS0FBSyxLQUFLLENBQTdCLEdBQWlDLEtBQUssQ0FBdEMsR0FBMENBLDJEQUFoRCxNQUFtRSxJQUFuRSxJQUEyRWtCLEVBQUUsS0FBSyxLQUFLLENBQXZGLEdBQTJGLEtBQUssQ0FBaEcsR0FBb0dBLEVBQUUsQ0FBQ0ssYUFBekcsQ0FBUjtBQUNELEdBZGU7O0FBZWhCQyxFQUFBQSxRQUFRLENBQUNDLE9BQUQsRUFBVTtBQUNoQixVQUFNQyxNQUFNLEdBQUcsS0FBS1QsU0FBTCxFQUFmOztBQUNBLFFBQUksQ0FBQ1MsTUFBTCxFQUFhO0FBQ1g7QUFDRDs7QUFDREEsSUFBQUEsTUFBTSxDQUFDRixRQUFQLENBQWdCQyxPQUFoQjtBQUNELEdBckJlOztBQXNCaEJFLEVBQUFBLFFBQVE7QUFBQSxvSkFBRSxhQUFrQjtBQUMxQixZQUFNRCxNQUFNLEdBQUcsS0FBS1QsU0FBTCxFQUFmOztBQUNBLFVBQUksQ0FBQ1MsTUFBTCxFQUFhO0FBQ1gsZUFBT1gsS0FBSyxDQUFDYSxPQUFiO0FBQ0Q7O0FBQ0QsWUFBTTtBQUFFQyxRQUFBQTtBQUFGLGdCQUFrQkgsTUFBTSxDQUFDSSxPQUFQLEVBQXhCO0FBQ0EsYUFBT0QsS0FBUDtBQUNELEtBUE87O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF0QlEsQ0FBbEI7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNRSx3QkFBd0IsR0FBRyxDQUFDQyxDQUFELEVBQUlDLGtCQUFKLEtBQTJCO0FBQzFEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLE1BQUlBLGtCQUFrQixLQUFLLENBQTNCLEVBQThCO0FBQzVCLFdBQU8sQ0FBUDtBQUNEOztBQUNELFFBQU1DLEtBQUssR0FBRyxLQUFLLElBQUlELGtCQUFULENBQWQ7QUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDRSxRQUFNNUQsQ0FBQyxHQUFHLEVBQUU0RCxrQkFBa0IsR0FBR0MsS0FBdkIsQ0FBVjtBQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBQ0UsU0FBT0YsQ0FBQyxHQUFHRSxLQUFKLEdBQVk3RCxDQUFuQjtBQUNELENBOUNEO0FBK0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsTUFBTThELG9CQUFvQixHQUFHLE1BQU07QUFDakMsTUFBSSxDQUFDbkMsaURBQUQsSUFBUUEsNERBQUEsSUFBa0IsR0FBMUIsSUFBaUMsQ0FBQ2dCLFNBQVMsQ0FBQ00sNkJBQVYsRUFBdEMsRUFBaUY7QUFDL0U7QUFDRDs7QUFDRE4sRUFBQUEsU0FBUyxDQUFDUSxRQUFWLENBQW1CO0FBQUVLLElBQUFBLEtBQUssRUFBRWQsS0FBSyxDQUFDc0I7QUFBZixHQUFuQjtBQUNELENBTEQ7O0FBTUEsTUFBTUMsdUJBQXVCLEdBQUcsQ0FBQ0MsWUFBWSxHQUFHeEIsS0FBSyxDQUFDYSxPQUF0QixLQUFrQztBQUNoRSxNQUFJLENBQUM1QixpREFBRCxJQUFRQSw0REFBQSxJQUFrQixHQUExQixJQUFpQyxDQUFDZ0IsU0FBUyxDQUFDTSw2QkFBVixFQUF0QyxFQUFpRjtBQUMvRTtBQUNEOztBQUNETixFQUFBQSxTQUFTLENBQUNRLFFBQVYsQ0FBbUI7QUFBRUssSUFBQUEsS0FBSyxFQUFFVTtBQUFULEdBQW5CO0FBQ0QsQ0FMRDs7QUFPQSxNQUFNQyxnQkFBZ0I7QUFBQSxtSkFBRyxXQUFPQyxFQUFQLEVBQVdDLFNBQVgsRUFBeUI7QUFDaEQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLFFBQUksT0FBT0QsRUFBRSxDQUFDRSxVQUFWLEtBQXlCLFVBQTdCLEVBQXlDO0FBQ3ZDO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRSxVQUFNQyxhQUFhLFNBQVNILEVBQUUsQ0FBQ0UsVUFBSCxDQUFjRSxTQUFkLEVBQXlCM0Msb0RBQXpCLENBQTVCOztBQUNBLFFBQUksQ0FBQzBDLGFBQUwsRUFBb0I7QUFDbEI7QUFDRDtBQUNEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRSxRQUFJRixTQUFTLENBQUNJLFNBQVYsRUFBSixFQUEyQjtBQUN6QkosTUFBQUEsU0FBUyxDQUFDSyxRQUFWLENBQW1CLE1BQU07QUFDdkJOLFFBQUFBLEVBQUUsQ0FBQ2pDLE9BQUgsQ0FBV3FDLFNBQVgsRUFBc0IsU0FBdEI7QUFDRCxPQUZELEVBRUc7QUFBRUcsUUFBQUEsZUFBZSxFQUFFO0FBQW5CLE9BRkg7QUFHRCxLQUpELE1BS0s7QUFDSFAsTUFBQUEsRUFBRSxDQUFDakMsT0FBSCxDQUFXcUMsU0FBWCxFQUFzQixTQUF0QjtBQUNEO0FBQ0YsR0F2Q3FCOztBQUFBLGtCQUFoQkwsZ0JBQWdCO0FBQUE7QUFBQTtBQUFBLEdBQXRCO0FBd0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsTUFBTVMsbUJBQW1CLEdBQUlDLENBQUQsSUFBTztBQUNqQyxTQUFPLGFBQWEsWUFBWSxDQUFDLE9BQUQsR0FBV0EsQ0FBdkIsQ0FBYixHQUF5QyxVQUFVLFlBQVksQ0FBQyxTQUFELEdBQWFBLENBQXpCLENBQW5ELEdBQWlGLENBQXhGO0FBQ0QsQ0FGRCxFQUlBOzs7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRztBQUMzQkMsRUFBQUEsb0JBQW9CLEVBQUU7QUFESyxDQUE3Qjs7QUFHQSxNQUFNQyx5QkFBeUIsR0FBRyxDQUFDWixFQUFELEVBQUtDLFNBQUwsRUFBZ0JZLGNBQWhCLEVBQWdDQyxTQUFoQyxLQUE4QztBQUM5RTtBQUNGO0FBQ0E7QUFDQTtBQUNFLFFBQU1DLGlCQUFpQixHQUFHLEdBQTFCO0FBQ0EsUUFBTUMsTUFBTSxHQUFHaEIsRUFBRSxDQUFDaUIsWUFBbEI7QUFDQSxNQUFJQyxNQUFNLEdBQUcsS0FBYjtBQUNBLE1BQUlDLHVCQUF1QixHQUFHLEtBQTlCO0FBQ0EsTUFBSUMsU0FBUyxHQUFHLElBQWhCO0FBQ0EsTUFBSUMsUUFBUSxHQUFHLElBQWY7QUFDQSxRQUFNQyxpQkFBaUIsR0FBRyxHQUExQjtBQUNBLE1BQUlDLGNBQWMsR0FBRyxJQUFyQjtBQUNBLE1BQUlDLFFBQVEsR0FBRyxDQUFmOztBQUNBLFFBQU1DLFVBQVUsR0FBRyxNQUFNO0FBQ3ZCLFFBQUlMLFNBQVMsSUFBSW5GLHFEQUFZLENBQUNtRixTQUFELENBQTdCLEVBQTBDO0FBQ3hDLGFBQU9BLFNBQVMsQ0FBQ00sT0FBakI7QUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0ssS0FQRCxNQVFLO0FBQ0gsYUFBTyxJQUFQO0FBQ0Q7QUFDRixHQVpEOztBQWFBLFFBQU1DLFFBQVEsR0FBSUMsTUFBRCxJQUFZO0FBQzNCLFVBQU1DLE1BQU0sR0FBR0QsTUFBTSxDQUFDRSxLQUFQLENBQWFELE1BQTVCOztBQUNBLFFBQUlBLE1BQU0sS0FBSyxJQUFYLElBQW1CLENBQUNBLE1BQU0sQ0FBQ0UsT0FBL0IsRUFBd0M7QUFDdEMsYUFBTyxJQUFQO0FBQ0Q7QUFDRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNJWCxJQUFBQSxTQUFTLEdBQUdwRixxREFBcUIsQ0FBQzZGLE1BQUQsQ0FBakM7O0FBQ0EsUUFBSVQsU0FBSixFQUFlO0FBQ2I7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNNLFVBQUluRixxREFBWSxDQUFDbUYsU0FBRCxDQUFoQixFQUE2QjtBQUMzQixjQUFNWSxJQUFJLEdBQUdsRix1REFBYyxDQUFDc0UsU0FBRCxDQUEzQjtBQUNBQyxRQUFBQSxRQUFRLEdBQUdXLElBQUksQ0FBQ0MsYUFBTCxDQUFtQixlQUFuQixDQUFYO0FBQ0QsT0FIRCxNQUlLO0FBQ0haLFFBQUFBLFFBQVEsR0FBR0QsU0FBWDtBQUNEOztBQUNELFlBQU1jLHFCQUFxQixHQUFHLENBQUMsQ0FBQ2QsU0FBUyxDQUFDYSxhQUFWLENBQXdCLGVBQXhCLENBQWhDO0FBQ0EsYUFBTyxDQUFDQyxxQkFBRCxJQUEwQmIsUUFBUSxDQUFDYyxTQUFULEtBQXVCLENBQXhEO0FBQ0Q7QUFDRDtBQUNKO0FBQ0E7QUFDQTs7O0FBQ0ksVUFBTUMsTUFBTSxHQUFHUCxNQUFNLENBQUNFLE9BQVAsQ0FBZSxZQUFmLENBQWY7O0FBQ0EsUUFBSUssTUFBTSxLQUFLLElBQWYsRUFBcUI7QUFDbkIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsV0FBTyxLQUFQO0FBQ0QsR0F2REQ7O0FBd0RBLFFBQU1DLE9BQU8sR0FBSVQsTUFBRCxJQUFZO0FBQzFCLFVBQU07QUFBRVUsTUFBQUE7QUFBRixRQUFhVixNQUFuQjtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBQ0lMLElBQUFBLGNBQWMsR0FBR0UsVUFBVSxFQUEzQjtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0lOLElBQUFBLHVCQUF1QixHQUFHbkIsRUFBRSxDQUFDRSxVQUFILEtBQWtCRSxTQUFsQixJQUErQkosRUFBRSxDQUFDRSxVQUFILEtBQWtCLElBQTNFO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNJLFFBQUlvQyxNQUFNLEdBQUcsQ0FBVCxJQUFjbEIsU0FBbEIsRUFBNkI7QUFDM0JqRixNQUFBQSxxREFBcUIsQ0FBQ2lGLFNBQUQsQ0FBckI7QUFDRDs7QUFDRG5CLElBQUFBLFNBQVMsQ0FBQ3NDLGFBQVYsQ0FBd0IsSUFBeEIsRUFBOEJyQixNQUFNLEdBQUcsQ0FBSCxHQUFPLENBQTNDO0FBQ0QsR0EzQkQ7O0FBNEJBLFFBQU1zQixNQUFNLEdBQUlaLE1BQUQsSUFBWTtBQUN6QixVQUFNO0FBQUVVLE1BQUFBO0FBQUYsUUFBYVYsTUFBbkI7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksUUFBSVUsTUFBTSxHQUFHLENBQVQsSUFBY2xCLFNBQWxCLEVBQTZCO0FBQzNCakYsTUFBQUEscURBQXFCLENBQUNpRixTQUFELENBQXJCO0FBQ0Q7QUFDRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0ksVUFBTXFCLElBQUksR0FBR2IsTUFBTSxDQUFDVSxNQUFQLEdBQWdCdEIsTUFBN0I7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksVUFBTTBCLGlDQUFpQyxHQUFHRCxJQUFJLElBQUksQ0FBUixJQUFhdEIsdUJBQXZEO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxVQUFNd0IsT0FBTyxHQUFHRCxpQ0FBaUMsR0FBR3BCLGlCQUFILEdBQXVCLE1BQXhFO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxVQUFNc0IsYUFBYSxHQUFHRixpQ0FBaUMsR0FBR2xDLG1CQUFtQixDQUFDaUMsSUFBSSxHQUFHRSxPQUFSLENBQXRCLEdBQXlDRixJQUFoRztBQUNBLFVBQU1JLFdBQVcsR0FBRzdGLHVEQUFLLENBQUMsTUFBRCxFQUFTNEYsYUFBVCxFQUF3QkQsT0FBeEIsQ0FBekI7QUFDQTFDLElBQUFBLFNBQVMsQ0FBQzZDLFlBQVYsQ0FBdUJELFdBQXZCO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxRQUFJQSxXQUFXLElBQUk5QixpQkFBZixJQUFvQ1MsUUFBUSxHQUFHVCxpQkFBbkQsRUFBc0U7QUFDcEVsQixNQUFBQSx1QkFBdUIsQ0FBQ2dCLGNBQUQsQ0FBdkI7QUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0ssS0FQRCxNQVFLLElBQUlnQyxXQUFXLEdBQUc5QixpQkFBZCxJQUFtQ1MsUUFBUSxJQUFJVCxpQkFBbkQsRUFBc0U7QUFDekVyQixNQUFBQSxvQkFBb0I7QUFDckI7O0FBQ0Q4QixJQUFBQSxRQUFRLEdBQUdxQixXQUFYO0FBQ0QsR0FsRUQ7O0FBbUVBLFFBQU1FLEtBQUssR0FBSW5CLE1BQUQsSUFBWTtBQUN4QixVQUFNb0IsUUFBUSxHQUFHcEIsTUFBTSxDQUFDcUIsU0FBeEI7QUFDQSxVQUFNUixJQUFJLEdBQUdiLE1BQU0sQ0FBQ1UsTUFBUCxHQUFnQnRCLE1BQTdCO0FBQ0EsVUFBTTBCLGlDQUFpQyxHQUFHRCxJQUFJLElBQUksQ0FBUixJQUFhdEIsdUJBQXZEO0FBQ0EsVUFBTXdCLE9BQU8sR0FBR0QsaUNBQWlDLEdBQUdwQixpQkFBSCxHQUF1QixNQUF4RTtBQUNBLFVBQU1zQixhQUFhLEdBQUdGLGlDQUFpQyxHQUFHbEMsbUJBQW1CLENBQUNpQyxJQUFJLEdBQUdFLE9BQVIsQ0FBdEIsR0FBeUNGLElBQWhHO0FBQ0EsVUFBTUksV0FBVyxHQUFHN0YsdURBQUssQ0FBQyxNQUFELEVBQVM0RixhQUFULEVBQXdCRCxPQUF4QixDQUF6QjtBQUNBLFVBQU1PLFNBQVMsR0FBRyxDQUFDdEIsTUFBTSxDQUFDVSxNQUFQLEdBQWdCVSxRQUFRLEdBQUcsSUFBNUIsSUFBb0NoQyxNQUF0RDtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxVQUFNbUMsY0FBYyxHQUFHLENBQUNULGlDQUFELElBQXNDUSxTQUFTLElBQUluQyxpQkFBMUU7QUFDQSxRQUFJcUMsWUFBWSxHQUFHRCxjQUFjLEdBQUcsQ0FBQyxLQUFKLEdBQVksS0FBN0M7O0FBQ0EsUUFBSSxDQUFDQSxjQUFMLEVBQXFCO0FBQ25CbEQsTUFBQUEsU0FBUyxDQUFDb0QsTUFBVixDQUFpQixnQ0FBakI7QUFDQUQsTUFBQUEsWUFBWSxJQUFJaEYsNkRBQXVCLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFELEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFULEVBQWlCLENBQUMsSUFBRCxFQUFPLElBQVAsQ0FBakIsRUFBK0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUEvQixFQUF1Q3lFLFdBQXZDLENBQXZCLENBQTJFLENBQTNFLENBQWhCO0FBQ0QsS0FIRCxNQUlLO0FBQ0g1QyxNQUFBQSxTQUFTLENBQUNvRCxNQUFWLENBQWlCLGdDQUFqQjtBQUNBRCxNQUFBQSxZQUFZLElBQUloRiw2REFBdUIsQ0FBQyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQUQsRUFBUyxDQUFDLElBQUQsRUFBTyxJQUFQLENBQVQsRUFBdUIsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUF2QixFQUErQixDQUFDLENBQUQsRUFBSSxDQUFKLENBQS9CLEVBQXVDeUUsV0FBdkMsQ0FBdkIsQ0FBMkUsQ0FBM0UsQ0FBaEI7QUFDRDs7QUFDRCxVQUFNUyxRQUFRLEdBQUdILGNBQWMsR0FDM0JJLGVBQWUsQ0FBQ2QsSUFBSSxHQUFHekIsTUFBUixFQUFnQmdDLFFBQWhCLENBRFksR0FFM0JPLGVBQWUsQ0FBQyxDQUFDLElBQUlWLFdBQUwsSUFBb0I3QixNQUFyQixFQUE2QmdDLFFBQTdCLENBRm5CO0FBR0E5QixJQUFBQSxNQUFNLEdBQUdpQyxjQUFUO0FBQ0FLLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlLEtBQWY7O0FBQ0EsUUFBSXJDLFNBQUosRUFBZTtBQUNiaEYsTUFBQUEscURBQW1CLENBQUNnRixTQUFELEVBQVlHLGNBQVosQ0FBbkI7QUFDRDs7QUFDRHRCLElBQUFBLFNBQVMsQ0FDTkssUUFESCxDQUNZLE1BQU07QUFDaEIsVUFBSSxDQUFDNkMsY0FBTCxFQUFxQjtBQUNuQkssUUFBQUEsT0FBTyxDQUFDQyxNQUFSLENBQWUsSUFBZjtBQUNEO0FBQ0YsS0FMRCxFQU1HQyxXQU5ILENBTWVQLGNBQWMsR0FBRyxDQUFILEdBQU8sQ0FOcEMsRUFNdUNDLFlBTnZDLEVBTXFERSxRQU5yRDtBQU9BO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxRQUFJWixpQ0FBaUMsSUFBSUcsV0FBVyxHQUFHRixPQUFPLEdBQUcsQ0FBakUsRUFBb0U7QUFDbEU1QyxNQUFBQSxnQkFBZ0IsQ0FBQ0MsRUFBRCxFQUFLQyxTQUFMLENBQWhCO0FBQ0QsS0FGRCxNQUdLLElBQUlrRCxjQUFKLEVBQW9CO0FBQ3ZCckMsTUFBQUEsU0FBUztBQUNWO0FBQ0YsR0F6REQ7O0FBMERBLFFBQU0wQyxPQUFPLEdBQUduRixrRUFBYSxDQUFDO0FBQzVCMkIsSUFBQUEsRUFENEI7QUFFNUIyRCxJQUFBQSxXQUFXLEVBQUUsbUJBRmU7QUFHNUJDLElBQUFBLGVBQWUsRUFBRSxFQUhXO0FBSTVCQyxJQUFBQSxTQUFTLEVBQUUsR0FKaUI7QUFLNUJYLElBQUFBLFNBQVMsRUFBRSxFQUxpQjtBQU01QnZCLElBQUFBLFFBTjRCO0FBTzVCVSxJQUFBQSxPQVA0QjtBQVE1QkcsSUFBQUEsTUFSNEI7QUFTNUJPLElBQUFBO0FBVDRCLEdBQUQsQ0FBN0I7QUFXQSxTQUFPUyxPQUFQO0FBQ0QsQ0F4UEQ7O0FBeVBBLE1BQU1ELGVBQWUsR0FBRyxDQUFDTyxTQUFELEVBQVlkLFFBQVosS0FBeUI7QUFDL0MsU0FBT2hHLHVEQUFLLENBQUMsR0FBRCxFQUFNOEcsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUwsQ0FBU2hCLFFBQVEsR0FBRyxHQUFwQixDQUFsQixFQUE0QyxHQUE1QyxDQUFaO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNaUIseUJBQXlCLEdBQUlDLElBQUQsSUFBVTtBQUMxQyxRQUFNO0FBQUVDLElBQUFBLGlCQUFGO0FBQXFCM0UsSUFBQUE7QUFBckIsTUFBNEMwRSxJQUFsRDtBQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBQ0UsUUFBTUUsa0JBQWtCLEdBQUc1RSxrQkFBa0IsS0FBS1ksU0FBdkIsSUFBb0NaLGtCQUFrQixHQUFHMkUsaUJBQXBGO0FBQ0EsUUFBTUUsZUFBZSxHQUFHRCxrQkFBa0IsR0FBSSxrQ0FBaUNELGlCQUFrQixHQUF2RCxHQUE0RCxHQUF0RztBQUNBLFFBQU1HLGlCQUFpQixHQUFHbkcsMERBQWUsQ0FBQyxtQkFBRCxDQUFmLENBQXFDb0csTUFBckMsQ0FBNEMsU0FBNUMsRUFBdUQsQ0FBdkQsRUFBMERGLGVBQTFELENBQTFCOztBQUNBLE1BQUlELGtCQUFKLEVBQXdCO0FBQ3RCRSxJQUFBQSxpQkFBaUIsQ0FDZEUsWUFESCxDQUNnQjtBQUNkLHdCQUFrQjtBQURKLEtBRGhCLEVBSUdDLGdCQUpILENBSW9CLENBQUMsZ0JBQUQsQ0FKcEI7QUFLRDs7QUFDRCxRQUFNQyxnQkFBZ0IsR0FBR3ZHLDBEQUFlLENBQUMsa0JBQUQsQ0FBZixDQUFvQ3dHLFNBQXBDLENBQThDLENBQ3JFO0FBQUVDLElBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLElBQUFBLE9BQU8sRUFBRSxDQUF0QjtBQUF5QkMsSUFBQUEsU0FBUyxFQUFFO0FBQXBDLEdBRHFFLEVBRXJFO0FBQUVGLElBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLElBQUFBLE9BQU8sRUFBRSxDQUF0QjtBQUF5QkMsSUFBQUEsU0FBUyxFQUFHLGNBQWEsTUFBTVgsaUJBQWlCLEdBQUcsR0FBSTtBQUFoRixHQUZxRSxDQUE5QyxDQUF6QjtBQUlBLFNBQU87QUFBRU8sSUFBQUEsZ0JBQUY7QUFBb0JKLElBQUFBO0FBQXBCLEdBQVA7QUFDRCxDQXRCRDs7QUF1QkEsTUFBTVMseUJBQXlCLEdBQUliLElBQUQsSUFBVTtBQUMxQyxRQUFNO0FBQUVDLElBQUFBLGlCQUFGO0FBQXFCM0UsSUFBQUE7QUFBckIsTUFBNEMwRSxJQUFsRDtBQUNBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBQ0UsUUFBTWMsYUFBYSxHQUFJLGtDQUFpQzFGLHdCQUF3QixDQUFDNkUsaUJBQUQsRUFBb0IzRSxrQkFBcEIsQ0FBd0MsR0FBeEg7QUFDQSxRQUFNeUYsZUFBZSxHQUFHLENBQ3RCO0FBQUVMLElBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLElBQUFBLE9BQU8sRUFBRUc7QUFBdEIsR0FEc0IsRUFFdEI7QUFBRUosSUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsSUFBQUEsT0FBTyxFQUFFO0FBQXRCLEdBRnNCLENBQXhCO0FBSUEsUUFBTUssY0FBYyxHQUFHLENBQ3JCO0FBQUVOLElBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLElBQUFBLE9BQU8sRUFBRUc7QUFBdEIsR0FEcUIsRUFFckI7QUFBRUosSUFBQUEsTUFBTSxFQUFFcEYsa0JBQVY7QUFBOEJxRixJQUFBQSxPQUFPLEVBQUU7QUFBdkMsR0FGcUIsRUFHckI7QUFBRUQsSUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsSUFBQUEsT0FBTyxFQUFFO0FBQXRCLEdBSHFCLENBQXZCO0FBS0EsUUFBTVAsaUJBQWlCLEdBQUduRywwREFBZSxDQUFDLG1CQUFELENBQWYsQ0FBcUN3RyxTQUFyQyxDQUErQ25GLGtCQUFrQixLQUFLLENBQXZCLEdBQTJCMEYsY0FBM0IsR0FBNENELGVBQTNGLENBQTFCO0FBQ0EsUUFBTVAsZ0JBQWdCLEdBQUd2RywwREFBZSxDQUFDLGtCQUFELENBQWYsQ0FBb0N3RyxTQUFwQyxDQUE4QyxDQUNyRTtBQUFFQyxJQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhQyxJQUFBQSxPQUFPLEVBQUUsQ0FBdEI7QUFBeUJDLElBQUFBLFNBQVMsRUFBRyxjQUFhLE1BQU1YLGlCQUFpQixHQUFHLEdBQUk7QUFBaEYsR0FEcUUsRUFFckU7QUFBRVMsSUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsSUFBQUEsT0FBTyxFQUFFLENBQXRCO0FBQXlCQyxJQUFBQSxTQUFTLEVBQUc7QUFBckMsR0FGcUUsQ0FBOUMsQ0FBekI7QUFJQSxTQUFPO0FBQUVKLElBQUFBLGdCQUFGO0FBQW9CSixJQUFBQTtBQUFwQixHQUFQO0FBQ0QsQ0F2QkQ7O0FBeUJBLE1BQU1hLHNCQUFzQixHQUFHLE1BQU07QUFDbkMsUUFBTWIsaUJBQWlCLEdBQUduRywwREFBZSxHQUN0Q29HLE1BRHVCLENBQ2hCLFNBRGdCLEVBQ0wsSUFESyxFQUNDLHlCQURELEVBRXZCQyxZQUZ1QixDQUVWO0FBQ2Qsc0JBQWtCO0FBREosR0FGVSxFQUt2QkMsZ0JBTHVCLENBS04sQ0FBQyxnQkFBRCxDQUxNLENBQTFCO0FBTUEsUUFBTUMsZ0JBQWdCLEdBQUd2RywwREFBZSxHQUFHb0csTUFBbEIsQ0FBeUIsV0FBekIsRUFBc0MsbUJBQXRDLEVBQTJELGlCQUEzRCxDQUF6QjtBQUNBLFNBQU87QUFBRUQsSUFBQUEsaUJBQUY7QUFBcUJJLElBQUFBO0FBQXJCLEdBQVA7QUFDRCxDQVREO0FBVUE7QUFDQTtBQUNBOzs7QUFDQSxNQUFNVSxpQkFBaUIsR0FBRyxDQUFDQyxNQUFELEVBQVNuQixJQUFULEtBQWtCO0FBQzFDLFFBQU07QUFBRW9CLElBQUFBLFlBQUY7QUFBZ0JuQixJQUFBQTtBQUFoQixNQUFzQ0QsSUFBNUM7QUFDQSxRQUFNbEMsSUFBSSxHQUFHbEYsdURBQWMsQ0FBQ3VJLE1BQUQsQ0FBM0I7QUFDQSxRQUFNO0FBQUVYLElBQUFBLGdCQUFGO0FBQW9CSixJQUFBQTtBQUFwQixNQUEwQ0gsaUJBQWlCLEtBQUsvRCxTQUF0QixHQUFrQzZELHlCQUF5QixDQUFDQyxJQUFELENBQTNELEdBQW9FaUIsc0JBQXNCLEVBQTFJO0FBQ0FiLEVBQUFBLGlCQUFpQixDQUFDaUIsVUFBbEIsQ0FBNkJ2RCxJQUFJLENBQUNDLGFBQUwsQ0FBbUIsY0FBbkIsQ0FBN0I7QUFDQXlDLEVBQUFBLGdCQUFnQixDQUFDYSxVQUFqQixDQUE0QnZELElBQUksQ0FBQ3dELGdCQUFMLENBQXNCLCtCQUF0QixDQUE1QixFQUFvRmhCLFlBQXBGLENBQWlHO0FBQUVLLElBQUFBLE9BQU8sRUFBRTtBQUFYLEdBQWpHO0FBQ0EsUUFBTVksYUFBYSxHQUFHdEgsMERBQWUsQ0FBQyxlQUFELENBQWYsQ0FDbkJvSCxVQURtQixDQUNSRixNQURRLEVBRW5CaEMsTUFGbUIsQ0FFWiw2QkFGWSxFQUduQkMsUUFIbUIsQ0FHVixHQUhVLEVBSW5Cb0MsWUFKbUIsQ0FJTmhCLGdCQUpNLENBQXRCOztBQUtBLE1BQUlZLFlBQUosRUFBa0I7QUFDaEIsVUFBTUssUUFBUSxHQUFHQyxNQUFNLENBQUNqRyxVQUFQLEdBQW9CLEdBQXJDO0FBQ0EsVUFBTWtHLFlBQVksR0FBR1AsWUFBWSxDQUFDUSxPQUFiLEtBQXlCLFdBQXpCLElBQXdDUixZQUFZLENBQUNTLGlCQUFiLEtBQW1DM0YsU0FBaEc7QUFDQSxVQUFNNEYsZ0JBQWdCLEdBQUdsSix1REFBYyxDQUFDd0ksWUFBRCxDQUF2QztBQUNBLFVBQU1XLG1CQUFtQixHQUFHOUgsMERBQWUsR0FBR3FHLFlBQWxCLENBQStCO0FBQ3pETSxNQUFBQSxTQUFTLEVBQUUsZUFEOEM7QUFFekQsMEJBQW9CLFlBRnFDO0FBR3pEb0IsTUFBQUEsUUFBUSxFQUFFO0FBSCtDLEtBQS9CLENBQTVCO0FBS0EsVUFBTUMsTUFBTSxHQUFHQyxRQUFRLENBQUNDLElBQXhCOztBQUNBLFFBQUlWLFFBQUosRUFBYztBQUNaO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDTSxZQUFNVyxlQUFlLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDQyxRQUFKLENBQWEsT0FBYixFQUFzQixlQUF0QixDQUFELEdBQTBDLE1BQTFDLEdBQW1ELHFDQUEzRTtBQUNBLFlBQU1DLGNBQWMsR0FBR1osWUFBWSxHQUFHLE9BQUgsR0FBYVMsZUFBaEQ7QUFDQSxZQUFNSSxpQkFBaUIsR0FBR2hHLG9CQUFvQixDQUFDQyxvQkFBL0M7QUFDQSxZQUFNZ0csY0FBYyxHQUFJLGNBQWFGLGNBQWUsV0FBVUMsaUJBQWtCLEdBQWhGO0FBQ0FULE1BQUFBLG1CQUFtQixDQUNoQlcsV0FESCxDQUNlO0FBQ2I5QixRQUFBQSxTQUFTLEVBQUU2QjtBQURFLE9BRGYsRUFJR0UsY0FKSCxDQUlrQixNQUFNVixNQUFNLENBQUMvRyxLQUFQLENBQWEwSCxXQUFiLENBQXlCLGtCQUF6QixFQUE2QyxPQUE3QyxDQUp4QixFQUtHdkIsVUFMSCxDQUtjRCxZQUxkLEVBTUdYLFNBTkgsQ0FNYSxDQUNYO0FBQUVDLFFBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFtQyxRQUFBQSxNQUFNLEVBQUUsYUFBckI7QUFBb0NqQyxRQUFBQSxTQUFTLEVBQUUsMEJBQS9DO0FBQTJFa0MsUUFBQUEsWUFBWSxFQUFFO0FBQXpGLE9BRFcsRUFFWDtBQUFFcEMsUUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYW1DLFFBQUFBLE1BQU0sRUFBRSxnQkFBckI7QUFBdUNqQyxRQUFBQSxTQUFTLEVBQUU2QixjQUFsRDtBQUFrRUssUUFBQUEsWUFBWSxFQUFFO0FBQWhGLE9BRlcsQ0FOYjtBQVVBdkIsTUFBQUEsYUFBYSxDQUFDQyxZQUFkLENBQTJCTyxtQkFBM0I7QUFDRCxLQXJCRCxNQXNCSztBQUNIUixNQUFBQSxhQUFhLENBQUNDLFlBQWQsQ0FBMkJwQixpQkFBM0I7O0FBQ0EsVUFBSSxDQUFDdUIsWUFBTCxFQUFtQjtBQUNqQm5CLFFBQUFBLGdCQUFnQixDQUFDSCxNQUFqQixDQUF3QixTQUF4QixFQUFtQyxHQUFuQyxFQUF3QyxHQUF4QztBQUNELE9BRkQsTUFHSztBQUNILGNBQU1tQyxpQkFBaUIsR0FBR2IsWUFBWSxHQUFHbkYsb0JBQW9CLENBQUNDLG9CQUF4QixHQUErQyxDQUFyRjtBQUNBLGNBQU1nRyxjQUFjLEdBQUksMkJBQTBCRCxpQkFBa0IsR0FBcEU7QUFDQVQsUUFBQUEsbUJBQW1CLENBQ2hCVyxXQURILENBQ2U7QUFDYjlCLFVBQUFBLFNBQVMsRUFBRTZCO0FBREUsU0FEZixFQUlHcEIsVUFKSCxDQUljUyxnQkFBZ0IsQ0FBQy9ELGFBQWpCLENBQStCLGdCQUEvQixDQUpkLEVBS0cwQyxTQUxILENBS2EsQ0FDWDtBQUFFQyxVQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhbUMsVUFBQUEsTUFBTSxFQUFFLGFBQXJCO0FBQW9DakMsVUFBQUEsU0FBUyxFQUFFO0FBQS9DLFNBRFcsRUFFWDtBQUFFRixVQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhbUMsVUFBQUEsTUFBTSxFQUFFLGdCQUFyQjtBQUF1Q2pDLFVBQUFBLFNBQVMsRUFBRTZCO0FBQWxELFNBRlcsQ0FMYjtBQVNBLGNBQU1NLGVBQWUsR0FBRzlJLDBEQUFlLEdBQ3BDeUksV0FEcUIsQ0FDVDtBQUNiOUIsVUFBQUEsU0FBUyxFQUFFNkI7QUFERSxTQURTLEVBSXJCcEIsVUFKcUIsQ0FJVlMsZ0JBQWdCLENBQUMvRCxhQUFqQixDQUErQixlQUEvQixDQUpVLEVBS3JCMEMsU0FMcUIsQ0FLWCxDQUNYO0FBQUVDLFVBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLFVBQUFBLE9BQU8sRUFBRSxHQUF0QjtBQUEyQkMsVUFBQUEsU0FBUyxFQUFFO0FBQXRDLFNBRFcsRUFFWDtBQUFFRixVQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhQyxVQUFBQSxPQUFPLEVBQUUsR0FBdEI7QUFBMkJDLFVBQUFBLFNBQVMsRUFBRTZCO0FBQXRDLFNBRlcsQ0FMVyxDQUF4QjtBQVNBbEIsUUFBQUEsYUFBYSxDQUFDQyxZQUFkLENBQTJCLENBQUNPLG1CQUFELEVBQXNCZ0IsZUFBdEIsQ0FBM0I7QUFDRDtBQUNGO0FBQ0YsR0E3REQsTUE4REs7QUFDSHhCLElBQUFBLGFBQWEsQ0FBQ0MsWUFBZCxDQUEyQnBCLGlCQUEzQjtBQUNEOztBQUNELFNBQU9tQixhQUFQO0FBQ0QsQ0E3RUQ7O0FBK0VBLE1BQU15QixzQkFBc0IsR0FBRyxNQUFNO0FBQ25DLFFBQU01QyxpQkFBaUIsR0FBR25HLDBEQUFlLEdBQUdvRyxNQUFsQixDQUF5QixTQUF6QixFQUFvQyx5QkFBcEMsRUFBK0QsQ0FBL0QsQ0FBMUI7QUFDQSxRQUFNRyxnQkFBZ0IsR0FBR3ZHLDBEQUFlLEdBQUdvRyxNQUFsQixDQUF5QixXQUF6QixFQUFzQyxpQkFBdEMsRUFBeUQsbUJBQXpELENBQXpCO0FBQ0EsU0FBTztBQUFFRCxJQUFBQSxpQkFBRjtBQUFxQkksSUFBQUE7QUFBckIsR0FBUDtBQUNELENBSkQ7QUFLQTtBQUNBO0FBQ0E7OztBQUNBLE1BQU15QyxpQkFBaUIsR0FBRyxDQUFDOUIsTUFBRCxFQUFTbkIsSUFBVCxFQUFlWixRQUFRLEdBQUcsR0FBMUIsS0FBa0M7QUFDMUQsUUFBTTtBQUFFZ0MsSUFBQUEsWUFBRjtBQUFnQm5CLElBQUFBO0FBQWhCLE1BQXNDRCxJQUE1QztBQUNBLFFBQU1sQyxJQUFJLEdBQUdsRix1REFBYyxDQUFDdUksTUFBRCxDQUEzQjtBQUNBLFFBQU07QUFBRVgsSUFBQUEsZ0JBQUY7QUFBb0JKLElBQUFBO0FBQXBCLE1BQTBDSCxpQkFBaUIsS0FBSy9ELFNBQXRCLEdBQWtDMkUseUJBQXlCLENBQUNiLElBQUQsQ0FBM0QsR0FBb0VnRCxzQkFBc0IsRUFBMUk7QUFDQTVDLEVBQUFBLGlCQUFpQixDQUFDaUIsVUFBbEIsQ0FBNkJ2RCxJQUFJLENBQUNDLGFBQUwsQ0FBbUIsY0FBbkIsQ0FBN0I7QUFDQXlDLEVBQUFBLGdCQUFnQixDQUFDYSxVQUFqQixDQUE0QnZELElBQUksQ0FBQ3dELGdCQUFMLENBQXNCLCtCQUF0QixDQUE1QixFQUFvRmhCLFlBQXBGLENBQWlHO0FBQUVLLElBQUFBLE9BQU8sRUFBRTtBQUFYLEdBQWpHO0FBQ0EsUUFBTVksYUFBYSxHQUFHdEgsMERBQWUsQ0FBQyxjQUFELENBQWYsQ0FDbkJvSCxVQURtQixDQUNSRixNQURRLEVBRW5CaEMsTUFGbUIsQ0FFWiw2QkFGWSxFQUduQkMsUUFIbUIsQ0FHVkEsUUFIVSxFQUluQm9DLFlBSm1CLENBSU5oQixnQkFKTSxDQUF0Qjs7QUFLQSxNQUFJWSxZQUFKLEVBQWtCO0FBQ2hCLFVBQU1LLFFBQVEsR0FBR0MsTUFBTSxDQUFDakcsVUFBUCxHQUFvQixHQUFyQztBQUNBLFVBQU1rRyxZQUFZLEdBQUdQLFlBQVksQ0FBQ1EsT0FBYixLQUF5QixXQUF6QixJQUF3Q1IsWUFBWSxDQUFDUyxpQkFBYixLQUFtQzNGLFNBQWhHO0FBQ0EsVUFBTTRGLGdCQUFnQixHQUFHbEosdURBQWMsQ0FBQ3dJLFlBQUQsQ0FBdkM7QUFDQSxVQUFNVyxtQkFBbUIsR0FBRzlILDBEQUFlLEdBQ3hDaUosaUJBRHlCLENBQ1AsQ0FBQyxXQUFELENBRE8sRUFFekIzQyxnQkFGeUIsQ0FFUixDQUFDLFdBQUQsQ0FGUSxFQUd6Qm5FLFFBSHlCLENBR2YrRyxXQUFELElBQWlCO0FBQzNCO0FBQ0EsVUFBSUEsV0FBVyxLQUFLLENBQXBCLEVBQXVCO0FBQ3JCO0FBQ0Q7O0FBQ0QvQixNQUFBQSxZQUFZLENBQUNsRyxLQUFiLENBQW1CMEgsV0FBbkIsQ0FBK0IsVUFBL0IsRUFBMkMsRUFBM0M7QUFDQSxZQUFNUSxTQUFTLEdBQUdDLEtBQUssQ0FBQ0MsSUFBTixDQUFXckIsTUFBTSxDQUFDWCxnQkFBUCxDQUF3QixXQUF4QixDQUFYLEVBQWlEdUIsTUFBakQsQ0FBeURVLENBQUQsSUFBT0EsQ0FBQyxDQUFDMUIsaUJBQUYsS0FBd0IzRixTQUF2RixFQUFrR3NILE1BQXBIOztBQUNBLFVBQUlKLFNBQVMsSUFBSSxDQUFqQixFQUFvQjtBQUNsQm5CLFFBQUFBLE1BQU0sQ0FBQy9HLEtBQVAsQ0FBYTBILFdBQWIsQ0FBeUIsa0JBQXpCLEVBQTZDLEVBQTdDO0FBQ0Q7QUFDRixLQWIyQixDQUE1QjtBQWNBLFVBQU1YLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxJQUF4Qjs7QUFDQSxRQUFJVixRQUFKLEVBQWM7QUFDWixZQUFNVyxlQUFlLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDQyxRQUFKLENBQWEsT0FBYixFQUFzQixlQUF0QixDQUFELEdBQTBDLE1BQTFDLEdBQW1ELHFDQUEzRTtBQUNBLFlBQU1DLGNBQWMsR0FBR1osWUFBWSxHQUFHLE9BQUgsR0FBYVMsZUFBaEQ7QUFDQSxZQUFNSSxpQkFBaUIsR0FBR2hHLG9CQUFvQixDQUFDQyxvQkFBL0M7QUFDQSxZQUFNZ0csY0FBYyxHQUFJLGNBQWFGLGNBQWUsV0FBVUMsaUJBQWtCLEdBQWhGO0FBQ0FULE1BQUFBLG1CQUFtQixDQUFDVixVQUFwQixDQUErQkQsWUFBL0IsRUFBNkNYLFNBQTdDLENBQXVELENBQ3JEO0FBQUVDLFFBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFtQyxRQUFBQSxNQUFNLEVBQUUsZ0JBQXJCO0FBQXVDakMsUUFBQUEsU0FBUyxFQUFFNkIsY0FBbEQ7QUFBa0VLLFFBQUFBLFlBQVksRUFBRTtBQUFoRixPQURxRCxFQUVyRDtBQUFFcEMsUUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYW1DLFFBQUFBLE1BQU0sRUFBRSxhQUFyQjtBQUFvQ2pDLFFBQUFBLFNBQVMsRUFBRSwwQkFBL0M7QUFBMkVrQyxRQUFBQSxZQUFZLEVBQUU7QUFBekYsT0FGcUQsQ0FBdkQ7QUFJQXZCLE1BQUFBLGFBQWEsQ0FBQ0MsWUFBZCxDQUEyQk8sbUJBQTNCO0FBQ0QsS0FWRCxNQVdLO0FBQ0hSLE1BQUFBLGFBQWEsQ0FBQ0MsWUFBZCxDQUEyQnBCLGlCQUEzQjs7QUFDQSxVQUFJLENBQUN1QixZQUFMLEVBQW1CO0FBQ2pCbkIsUUFBQUEsZ0JBQWdCLENBQUNILE1BQWpCLENBQXdCLFNBQXhCLEVBQW1DLEdBQW5DLEVBQXdDLEdBQXhDO0FBQ0QsT0FGRCxNQUdLO0FBQ0gsY0FBTW1DLGlCQUFpQixHQUFHYixZQUFZLEdBQUduRixvQkFBb0IsQ0FBQ0Msb0JBQXhCLEdBQStDLENBQXJGO0FBQ0EsY0FBTWdHLGNBQWMsR0FBSSwyQkFBMEJELGlCQUFrQixHQUFwRTtBQUNBVCxRQUFBQSxtQkFBbUIsQ0FDaEJWLFVBREgsQ0FDY1MsZ0JBQWdCLENBQUMvRCxhQUFqQixDQUErQixnQkFBL0IsQ0FEZCxFQUVHMkUsV0FGSCxDQUVlO0FBQ2I5QixVQUFBQSxTQUFTLEVBQUU7QUFERSxTQUZmLEVBS0dILFNBTEgsQ0FLYSxDQUNYO0FBQUVDLFVBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFtQyxVQUFBQSxNQUFNLEVBQUUsZ0JBQXJCO0FBQXVDakMsVUFBQUEsU0FBUyxFQUFFNkI7QUFBbEQsU0FEVyxFQUVYO0FBQUUvQixVQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhbUMsVUFBQUEsTUFBTSxFQUFFLGFBQXJCO0FBQW9DakMsVUFBQUEsU0FBUyxFQUFFO0FBQS9DLFNBRlcsQ0FMYjtBQVNBLGNBQU1tQyxlQUFlLEdBQUc5SSwwREFBZSxHQUNwQ29ILFVBRHFCLENBQ1ZTLGdCQUFnQixDQUFDL0QsYUFBakIsQ0FBK0IsZUFBL0IsQ0FEVSxFQUVyQjJFLFdBRnFCLENBRVQ7QUFDYjlCLFVBQUFBLFNBQVMsRUFBRTtBQURFLFNBRlMsRUFLckJILFNBTHFCLENBS1gsQ0FDWDtBQUFFQyxVQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhQyxVQUFBQSxPQUFPLEVBQUUsR0FBdEI7QUFBMkJDLFVBQUFBLFNBQVMsRUFBRTZCO0FBQXRDLFNBRFcsRUFFWDtBQUFFL0IsVUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsVUFBQUEsT0FBTyxFQUFFLEdBQXRCO0FBQTJCQyxVQUFBQSxTQUFTLEVBQUU7QUFBdEMsU0FGVyxDQUxXLENBQXhCO0FBU0FXLFFBQUFBLGFBQWEsQ0FBQ0MsWUFBZCxDQUEyQixDQUFDTyxtQkFBRCxFQUFzQmdCLGVBQXRCLENBQTNCO0FBQ0Q7QUFDRjtBQUNGLEdBM0RELE1BNERLO0FBQ0h4QixJQUFBQSxhQUFhLENBQUNDLFlBQWQsQ0FBMkJwQixpQkFBM0I7QUFDRDs7QUFDRCxTQUFPbUIsYUFBUDtBQUNELENBM0VEOztBQTZFQSxNQUFNa0Msb0JBQW9CLEdBQUcsTUFBTTtBQUNqQyxRQUFNckQsaUJBQWlCLEdBQUduRywwREFBZSxHQUN0Q29HLE1BRHVCLENBQ2hCLFNBRGdCLEVBQ0wsSUFESyxFQUNDLHlCQURELEVBRXZCQyxZQUZ1QixDQUVWO0FBQ2Qsc0JBQWtCO0FBREosR0FGVSxFQUt2QkMsZ0JBTHVCLENBS04sQ0FBQyxnQkFBRCxDQUxNLENBQTFCO0FBTUEsUUFBTUMsZ0JBQWdCLEdBQUd2RywwREFBZSxHQUFHd0csU0FBbEIsQ0FBNEIsQ0FDbkQ7QUFBRUMsSUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsSUFBQUEsT0FBTyxFQUFFLElBQXRCO0FBQTRCQyxJQUFBQSxTQUFTLEVBQUU7QUFBdkMsR0FEbUQsRUFFbkQ7QUFBRUYsSUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsSUFBQUEsT0FBTyxFQUFFLENBQXRCO0FBQXlCQyxJQUFBQSxTQUFTLEVBQUc7QUFBckMsR0FGbUQsQ0FBNUIsQ0FBekI7QUFJQSxTQUFPO0FBQUVSLElBQUFBLGlCQUFGO0FBQXFCSSxJQUFBQTtBQUFyQixHQUFQO0FBQ0QsQ0FaRDtBQWFBO0FBQ0E7QUFDQTs7O0FBQ0EsTUFBTWtELGdCQUFnQixHQUFHLENBQUN2QyxNQUFELEVBQVNuQixJQUFULEtBQWtCO0FBQ3pDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUF3QkQsSUFBOUI7QUFDQSxRQUFNbEMsSUFBSSxHQUFHbEYsdURBQWMsQ0FBQ3VJLE1BQUQsQ0FBM0I7QUFDQSxRQUFNO0FBQUVYLElBQUFBLGdCQUFGO0FBQW9CSixJQUFBQTtBQUFwQixNQUEwQ0gsaUJBQWlCLEtBQUsvRCxTQUF0QixHQUFrQzZELHlCQUF5QixDQUFDQyxJQUFELENBQTNELEdBQW9FeUQsb0JBQW9CLEVBQXhJO0FBQ0FyRCxFQUFBQSxpQkFBaUIsQ0FBQ2lCLFVBQWxCLENBQTZCdkQsSUFBSSxDQUFDQyxhQUFMLENBQW1CLGNBQW5CLENBQTdCO0FBQ0F5QyxFQUFBQSxnQkFBZ0IsQ0FBQ2EsVUFBakIsQ0FBNEJ2RCxJQUFJLENBQUNDLGFBQUwsQ0FBbUIsZ0JBQW5CLENBQTVCO0FBQ0EsU0FBTzlELDBEQUFlLEdBQ25Cb0gsVUFESSxDQUNPRixNQURQLEVBRUpoQyxNQUZJLENBRUcsZ0NBRkgsRUFHSkMsUUFISSxDQUdLLEdBSEwsRUFJSm9DLFlBSkksQ0FJUyxDQUFDcEIsaUJBQUQsRUFBb0JJLGdCQUFwQixDQUpULENBQVA7QUFLRCxDQVhEOztBQWFBLE1BQU1tRCxvQkFBb0IsR0FBRyxNQUFNO0FBQ2pDLFFBQU12RCxpQkFBaUIsR0FBR25HLDBEQUFlLEdBQUdvRyxNQUFsQixDQUF5QixTQUF6QixFQUFvQyx5QkFBcEMsRUFBK0QsQ0FBL0QsQ0FBMUI7QUFDQSxRQUFNRyxnQkFBZ0IsR0FBR3ZHLDBEQUFlLEdBQUd3RyxTQUFsQixDQUE0QixDQUNuRDtBQUFFQyxJQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhQyxJQUFBQSxPQUFPLEVBQUUsSUFBdEI7QUFBNEJDLElBQUFBLFNBQVMsRUFBRztBQUF4QyxHQURtRCxFQUVuRDtBQUFFRixJQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhQyxJQUFBQSxPQUFPLEVBQUUsQ0FBdEI7QUFBeUJDLElBQUFBLFNBQVMsRUFBRTtBQUFwQyxHQUZtRCxDQUE1QixDQUF6QjtBQUlBLFNBQU87QUFBRVIsSUFBQUEsaUJBQUY7QUFBcUJJLElBQUFBO0FBQXJCLEdBQVA7QUFDRCxDQVBEO0FBUUE7QUFDQTtBQUNBOzs7QUFDQSxNQUFNb0QsZ0JBQWdCLEdBQUcsQ0FBQ3pDLE1BQUQsRUFBU25CLElBQVQsS0FBa0I7QUFDekMsUUFBTTtBQUFFQyxJQUFBQTtBQUFGLE1BQXdCRCxJQUE5QjtBQUNBLFFBQU1sQyxJQUFJLEdBQUdsRix1REFBYyxDQUFDdUksTUFBRCxDQUEzQjtBQUNBLFFBQU07QUFBRVgsSUFBQUEsZ0JBQUY7QUFBb0JKLElBQUFBO0FBQXBCLE1BQTBDSCxpQkFBaUIsS0FBSy9ELFNBQXRCLEdBQWtDMkUseUJBQXlCLENBQUNiLElBQUQsQ0FBM0QsR0FBb0UyRCxvQkFBb0IsRUFBeEk7QUFDQXZELEVBQUFBLGlCQUFpQixDQUFDaUIsVUFBbEIsQ0FBNkJ2RCxJQUFJLENBQUNDLGFBQUwsQ0FBbUIsY0FBbkIsQ0FBN0I7QUFDQXlDLEVBQUFBLGdCQUFnQixDQUFDYSxVQUFqQixDQUE0QnZELElBQUksQ0FBQ0MsYUFBTCxDQUFtQixnQkFBbkIsQ0FBNUI7QUFDQSxTQUFPOUQsMERBQWUsR0FDbkJrRixNQURJLENBQ0csa0NBREgsRUFFSkMsUUFGSSxDQUVLLEdBRkwsRUFHSm9DLFlBSEksQ0FHUyxDQUFDcEIsaUJBQUQsRUFBb0JJLGdCQUFwQixDQUhULENBQVA7QUFJRCxDQVZEOztBQVlBLE1BQU1xRCxrQkFBa0IsR0FBRyxDQUFDMUMsTUFBRCxFQUFTMkMsVUFBVCxFQUFxQkMsU0FBckIsRUFBZ0NDLGlCQUFoQyxFQUFtRDFJLGtCQUFuRCxFQUF1RVMsU0FBdkUsRUFBa0ZrSSxXQUFXLEdBQUcsRUFBaEcsRUFBb0dDLG9CQUFwRyxFQUEwSHRILFNBQTFILEVBQXFJdUgsa0JBQXJJLEtBQTRKO0FBQ3JMO0FBQ0EsUUFBTXBELGVBQWUsR0FBRyxDQUN0QjtBQUFFTCxJQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhQyxJQUFBQSxPQUFPLEVBQUU7QUFBdEIsR0FEc0IsRUFFdEI7QUFBRUQsSUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUMsSUFBQUEsT0FBTyxFQUFFO0FBQXRCLEdBRnNCLENBQXhCO0FBSUEsUUFBTUssY0FBYyxHQUFHLENBQ3JCO0FBQUVOLElBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLElBQUFBLE9BQU8sRUFBRTtBQUF0QixHQURxQixFQUVyQjtBQUFFRCxJQUFBQSxNQUFNLEVBQUUsSUFBSXBGLGtCQUFkO0FBQWtDcUYsSUFBQUEsT0FBTyxFQUFFO0FBQTNDLEdBRnFCLEVBR3JCO0FBQUVELElBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFDLElBQUFBLE9BQU8sRUFBRTtBQUF0QixHQUhxQixDQUF2QjtBQUtBLFFBQU15RCxhQUFhLEdBQUc7QUFDcEJDLElBQUFBLGlCQUFpQixFQUFFLENBQ2pCO0FBQUUzRCxNQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhRSxNQUFBQSxTQUFTLEVBQUU7QUFBeEIsS0FEaUIsRUFFakI7QUFBRUYsTUFBQUEsTUFBTSxFQUFFLENBQVY7QUFBYUUsTUFBQUEsU0FBUyxFQUFFO0FBQXhCLEtBRmlCLENBREM7QUFLcEIwRCxJQUFBQSxrQkFBa0IsRUFBRWhKLGtCQUFrQixLQUFLLENBQXZCLEdBQTJCMEYsY0FBM0IsR0FBNENEO0FBTDVDLEdBQXRCO0FBT0EsUUFBTTdELFNBQVMsR0FBR2lFLE1BQU0sQ0FBQ3BELGFBQVAsQ0FBcUIsYUFBckIsQ0FBbEI7QUFDQSxRQUFNakIsTUFBTSxHQUFHaUgsU0FBUyxDQUFDUSxZQUF6QjtBQUNBLE1BQUl0RSxpQkFBaUIsR0FBRytELGlCQUF4QjtBQUNBLE1BQUl0RCxNQUFNLEdBQUcsQ0FBYjtBQUNBLE1BQUl6RCx1QkFBdUIsR0FBRyxLQUE5QjtBQUNBLFFBQU1HLGlCQUFpQixHQUFHLElBQTFCO0FBQ0EsUUFBTW9ELGdCQUFnQixHQUFHekUsU0FBUyxDQUFDeUksZUFBVixDQUEwQkMsSUFBMUIsQ0FBZ0NDLEdBQUQsSUFBU0EsR0FBRyxDQUFDQyxFQUFKLEtBQVcsa0JBQW5ELENBQXpCO0FBQ0EsUUFBTXZFLGlCQUFpQixHQUFHckUsU0FBUyxDQUFDeUksZUFBVixDQUEwQkMsSUFBMUIsQ0FBZ0NDLEdBQUQsSUFBU0EsR0FBRyxDQUFDQyxFQUFKLEtBQVcsbUJBQW5ELENBQTFCO0FBQ0EsUUFBTUMsYUFBYSxHQUFHWCxXQUFXLENBQUNBLFdBQVcsQ0FBQ1QsTUFBWixHQUFxQixDQUF0QixDQUFqQztBQUNBLFFBQU1xQixhQUFhLEdBQUdaLFdBQVcsQ0FBQyxDQUFELENBQWpDOztBQUNBLFFBQU1hLGNBQWMsR0FBRyxNQUFNO0FBQzNCM0QsSUFBQUEsTUFBTSxDQUFDakcsS0FBUCxDQUFhMEgsV0FBYixDQUF5QixnQkFBekIsRUFBMkMsTUFBM0M7QUFDQWtCLElBQUFBLFVBQVUsQ0FBQzVJLEtBQVgsQ0FBaUIwSCxXQUFqQixDQUE2QixnQkFBN0IsRUFBK0MsTUFBL0M7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUNJekIsSUFBQUEsTUFBTSxDQUFDNEQsU0FBUCxDQUFpQkMsTUFBakIsQ0FBd0Isd0JBQXhCO0FBQ0QsR0FURDs7QUFVQSxRQUFNQyxlQUFlLEdBQUcsTUFBTTtBQUM1QjlELElBQUFBLE1BQU0sQ0FBQ2pHLEtBQVAsQ0FBYTBILFdBQWIsQ0FBeUIsZ0JBQXpCLEVBQTJDLE1BQTNDO0FBQ0FrQixJQUFBQSxVQUFVLENBQUM1SSxLQUFYLENBQWlCMEgsV0FBakIsQ0FBNkIsZ0JBQTdCLEVBQStDLE1BQS9DO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0l6QixJQUFBQSxNQUFNLENBQUM0RCxTQUFQLENBQWlCRyxHQUFqQixDQUFxQix3QkFBckI7QUFDRCxHQVhEO0FBWUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0UsTUFBSTFFLGdCQUFnQixJQUFJSixpQkFBeEIsRUFBMkM7QUFDekNJLElBQUFBLGdCQUFnQixDQUFDQyxTQUFqQixDQUEyQixDQUFDLEdBQUcyRCxhQUFhLENBQUNDLGlCQUFsQixDQUEzQjtBQUNBakUsSUFBQUEsaUJBQWlCLENBQUNLLFNBQWxCLENBQTRCLENBQUMsR0FBRzJELGFBQWEsQ0FBQ0Usa0JBQWxCLENBQTVCO0FBQ0F2SSxJQUFBQSxTQUFTLENBQUNzQyxhQUFWLENBQXdCLElBQXhCLEVBQThCLElBQUk0QixpQkFBbEM7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxVQUFNa0Ysb0JBQW9CLEdBQUdsRixpQkFBaUIsR0FBRzNFLGtCQUFqRDs7QUFDQSxRQUFJNkosb0JBQUosRUFBMEI7QUFDeEJMLE1BQUFBLGNBQWM7QUFDZixLQUZELE1BR0s7QUFDSEcsTUFBQUEsZUFBZTtBQUNoQjtBQUNGOztBQUNELE1BQUkvSCxTQUFTLElBQUkrQyxpQkFBaUIsS0FBSzJFLGFBQXZDLEVBQXNEO0FBQ3BEMUgsSUFBQUEsU0FBUyxDQUFDTSxPQUFWLEdBQW9CLEtBQXBCO0FBQ0Q7O0FBQ0QsUUFBTUMsUUFBUSxHQUFJQyxNQUFELElBQVk7QUFDM0I7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0ksVUFBTTBILE9BQU8sR0FBRzFILE1BQU0sQ0FBQ0UsS0FBUCxDQUFhRCxNQUFiLENBQW9CRSxPQUFwQixDQUE0QixhQUE1QixDQUFoQjtBQUNBb0MsSUFBQUEsaUJBQWlCLEdBQUdpRSxvQkFBb0IsRUFBeEM7O0FBQ0EsUUFBSWpFLGlCQUFpQixLQUFLLENBQXRCLElBQTJCbUYsT0FBL0IsRUFBd0M7QUFDdEMsYUFBTyxLQUFQO0FBQ0Q7O0FBQ0QsV0FBTyxJQUFQO0FBQ0QsR0FiRDs7QUFjQSxRQUFNakgsT0FBTyxHQUFHLE1BQU07QUFDcEI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lsQixJQUFBQSx1QkFBdUIsR0FBR2tFLE1BQU0sQ0FBQ25GLFVBQVAsS0FBc0JFLFNBQXRCLElBQW1DaUYsTUFBTSxDQUFDbkYsVUFBUCxLQUFzQixJQUF6RCxJQUFpRTZJLGFBQWEsS0FBSyxDQUE3RztBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksUUFBSTNILFNBQUosRUFBZTtBQUNiQSxNQUFBQSxTQUFTLENBQUNNLE9BQVYsR0FBb0IsS0FBcEI7QUFDRDs7QUFDRHpFLElBQUFBLHVEQUFHLENBQUMsTUFBTTtBQUNSO0FBQ047QUFDQTtBQUNBO0FBQ01vSSxNQUFBQSxNQUFNLENBQUNrRSxLQUFQO0FBQ0QsS0FORSxDQUFIO0FBT0F0SixJQUFBQSxTQUFTLENBQUNzQyxhQUFWLENBQXdCLElBQXhCLEVBQThCLElBQUk0QixpQkFBbEM7QUFDRCxHQTlCRDs7QUErQkEsUUFBTTNCLE1BQU0sR0FBSVosTUFBRCxJQUFZO0FBQ3pCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSSxVQUFNNEgsV0FBVyxHQUFHLElBQUlyRixpQkFBeEI7QUFDQSxVQUFNc0Ysc0JBQXNCLEdBQUd0QixXQUFXLENBQUNULE1BQVosR0FBcUIsQ0FBckIsR0FBeUIsSUFBSVMsV0FBVyxDQUFDLENBQUQsQ0FBeEMsR0FBOEMvSCxTQUE3RTtBQUNBLFVBQU1xQyxJQUFJLEdBQUcrRyxXQUFXLEdBQUc1SCxNQUFNLENBQUNVLE1BQVAsR0FBZ0J0QixNQUEzQztBQUNBLFVBQU0wQixpQ0FBaUMsR0FBRytHLHNCQUFzQixLQUFLckosU0FBM0IsSUFBd0NxQyxJQUFJLElBQUlnSCxzQkFBaEQsSUFBMEV0SSx1QkFBcEg7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUNJLFVBQU13QixPQUFPLEdBQUdELGlDQUFpQyxHQUFHcEIsaUJBQUgsR0FBdUIsTUFBeEU7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNJLFVBQU1zQixhQUFhLEdBQUdGLGlDQUFpQyxJQUFJK0csc0JBQXNCLEtBQUtySixTQUFoRSxHQUNsQnFKLHNCQUFzQixHQUN0QmpKLG1CQUFtQixDQUFDLENBQUNpQyxJQUFJLEdBQUdnSCxzQkFBUixLQUFtQzlHLE9BQU8sR0FBRzhHLHNCQUE3QyxDQUFELENBRkQsR0FHbEJoSCxJQUhKO0FBSUFtQyxJQUFBQSxNQUFNLEdBQUc1SCx1REFBSyxDQUFDLE1BQUQsRUFBUzRGLGFBQVQsRUFBd0JELE9BQXhCLENBQWQ7QUFDQTFDLElBQUFBLFNBQVMsQ0FBQzZDLFlBQVYsQ0FBdUI4QixNQUF2QjtBQUNELEdBcENEOztBQXFDQSxRQUFNN0IsS0FBSyxHQUFJbkIsTUFBRCxJQUFZO0FBQ3hCO0FBQ0o7QUFDQTtBQUNBO0FBQ0ksVUFBTW9CLFFBQVEsR0FBR3BCLE1BQU0sQ0FBQ3FCLFNBQXhCO0FBQ0EsVUFBTUMsU0FBUyxHQUFHLENBQUN0QixNQUFNLENBQUNVLE1BQVAsR0FBZ0JVLFFBQVEsR0FBRyxHQUE1QixJQUFtQ2hDLE1BQXJEO0FBQ0EsVUFBTTBJLElBQUksR0FBR3ZGLGlCQUFpQixHQUFHakIsU0FBakM7QUFDQSxVQUFNbkIsT0FBTyxHQUFHb0csV0FBVyxDQUFDd0IsTUFBWixDQUFtQixDQUFDdE4sQ0FBRCxFQUFJVCxDQUFKLEtBQVU7QUFDM0MsYUFBT21JLElBQUksQ0FBQ0MsR0FBTCxDQUFTcEksQ0FBQyxHQUFHOE4sSUFBYixJQUFxQjNGLElBQUksQ0FBQ0MsR0FBTCxDQUFTM0gsQ0FBQyxHQUFHcU4sSUFBYixDQUFyQixHQUEwQzlOLENBQTFDLEdBQThDUyxDQUFyRDtBQUNELEtBRmUsQ0FBaEI7QUFHQXVOLElBQUFBLHFCQUFxQixDQUFDO0FBQ3BCQyxNQUFBQSxVQUFVLEVBQUU5SCxPQURRO0FBRXBCK0gsTUFBQUEsZ0JBQWdCLEVBQUVsRixNQUZFO0FBR3BCMUUsTUFBQUEsVUFBVSxFQUFFaUI7QUFIUSxLQUFELENBQXJCO0FBS0QsR0FoQkQ7O0FBaUJBLFFBQU15SSxxQkFBcUIsR0FBSTVLLE9BQUQsSUFBYTtBQUN6QyxVQUFNO0FBQUU2SyxNQUFBQSxVQUFGO0FBQWMzSixNQUFBQSxVQUFkO0FBQTBCNEosTUFBQUE7QUFBMUIsUUFBK0M5SyxPQUFyRDtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxVQUFNK0ssb0JBQW9CLEdBQUc3SixVQUFVLElBQUkySixVQUFVLEtBQUssQ0FBMUQ7QUFDQSxVQUFNRyxnQkFBZ0IsR0FBR0Qsb0JBQW9CLEdBQUc1RixpQkFBSCxHQUF1QjBGLFVBQXBFO0FBQ0EsVUFBTUksZ0JBQWdCLEdBQUdELGdCQUFnQixLQUFLLENBQTlDO0FBQ0E3RixJQUFBQSxpQkFBaUIsR0FBRyxDQUFwQjtBQUNBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFFBQUlPLGdCQUFnQixJQUFJSixpQkFBeEIsRUFBMkM7QUFDekNJLE1BQUFBLGdCQUFnQixDQUFDQyxTQUFqQixDQUEyQixDQUN6QjtBQUFFQyxRQUFBQSxNQUFNLEVBQUUsQ0FBVjtBQUFhRSxRQUFBQSxTQUFTLEVBQUcsY0FBYWdGLGdCQUFnQixHQUFHLEdBQUk7QUFBN0QsT0FEeUIsRUFFekI7QUFBRWxGLFFBQUFBLE1BQU0sRUFBRSxDQUFWO0FBQWFFLFFBQUFBLFNBQVMsRUFBRyxjQUFhLENBQUMsSUFBSWtGLGdCQUFMLElBQXlCLEdBQUk7QUFBbkUsT0FGeUIsQ0FBM0I7QUFJQTFGLE1BQUFBLGlCQUFpQixDQUFDSyxTQUFsQixDQUE0QixDQUMxQjtBQUNFQyxRQUFBQSxNQUFNLEVBQUUsQ0FEVjtBQUVFQyxRQUFBQSxPQUFPLEVBQUcsa0NBQWlDdkYsd0JBQXdCLENBQUMsSUFBSXdLLGdCQUFMLEVBQXVCdEssa0JBQXZCLENBQTJDO0FBRmhILE9BRDBCLEVBSzFCO0FBQ0VvRixRQUFBQSxNQUFNLEVBQUUsQ0FEVjtBQUVFQyxRQUFBQSxPQUFPLEVBQUcsa0NBQWlDdkYsd0JBQXdCLENBQUMwSyxnQkFBRCxFQUFtQnhLLGtCQUFuQixDQUF1QztBQUY1RyxPQUwwQixDQUE1QjtBQVVBUyxNQUFBQSxTQUFTLENBQUM2QyxZQUFWLENBQXVCLENBQXZCO0FBQ0Q7QUFDRDtBQUNKO0FBQ0E7QUFDQTs7O0FBQ0lVLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlLEtBQWY7O0FBQ0EsUUFBSXNHLG9CQUFKLEVBQTBCO0FBQ3hCaEssTUFBQUEsZ0JBQWdCLENBQUNzRixNQUFELEVBQVNwRixTQUFULENBQWhCO0FBQ0QsS0FGRCxNQUdLLElBQUksQ0FBQ2dLLGdCQUFMLEVBQXVCO0FBQzFCbkosTUFBQUEsU0FBUztBQUNWOztBQUNELFdBQU8sSUFBSW9KLE9BQUosQ0FBYUMsT0FBRCxJQUFhO0FBQzlCbEssTUFBQUEsU0FBUyxDQUNOSyxRQURILENBQ1ksTUFBTTtBQUNoQixZQUFJMkosZ0JBQUosRUFBc0I7QUFDcEI7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVSxjQUFJdkYsZ0JBQWdCLElBQUlKLGlCQUF4QixFQUEyQztBQUN6Q3JILFlBQUFBLHVEQUFHLENBQUMsTUFBTTtBQUNSeUgsY0FBQUEsZ0JBQWdCLENBQUNDLFNBQWpCLENBQTJCLENBQUMsR0FBRzJELGFBQWEsQ0FBQ0MsaUJBQWxCLENBQTNCO0FBQ0FqRSxjQUFBQSxpQkFBaUIsQ0FBQ0ssU0FBbEIsQ0FBNEIsQ0FBQyxHQUFHMkQsYUFBYSxDQUFDRSxrQkFBbEIsQ0FBNUI7QUFDQXZJLGNBQUFBLFNBQVMsQ0FBQ3NDLGFBQVYsQ0FBd0IsSUFBeEIsRUFBOEIsSUFBSXlILGdCQUFsQztBQUNBN0YsY0FBQUEsaUJBQWlCLEdBQUc2RixnQkFBcEI7QUFDQTNCLGNBQUFBLGtCQUFrQixDQUFDbEUsaUJBQUQsQ0FBbEI7QUFDQTtBQUNkO0FBQ0E7QUFDQTs7QUFDYyxrQkFBSS9DLFNBQVMsSUFBSStDLGlCQUFpQixLQUFLZ0UsV0FBVyxDQUFDQSxXQUFXLENBQUNULE1BQVosR0FBcUIsQ0FBdEIsQ0FBbEQsRUFBNEU7QUFDMUV0RyxnQkFBQUEsU0FBUyxDQUFDTSxPQUFWLEdBQW9CLElBQXBCO0FBQ0Q7QUFDRDtBQUNkO0FBQ0E7QUFDQTs7O0FBQ2Msb0JBQU0ySCxvQkFBb0IsR0FBR2xGLGlCQUFpQixHQUFHM0Usa0JBQWpEOztBQUNBLGtCQUFJNkosb0JBQUosRUFBMEI7QUFDeEJMLGdCQUFBQSxjQUFjO0FBQ2YsZUFGRCxNQUdLO0FBQ0hHLGdCQUFBQSxlQUFlO0FBQ2hCOztBQUNEM0YsY0FBQUEsT0FBTyxDQUFDQyxNQUFSLENBQWUsSUFBZjtBQUNBMEcsY0FBQUEsT0FBTztBQUNSLGFBMUJFLENBQUg7QUEyQkQsV0E1QkQsTUE2Qks7QUFDSDNHLFlBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlLElBQWY7QUFDQTBHLFlBQUFBLE9BQU87QUFDUjtBQUNGLFNBekNELE1BMENLO0FBQ0hBLFVBQUFBLE9BQU87QUFDUjtBQUNEO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sT0FwREQsRUFvREc7QUFBRTVKLFFBQUFBLGVBQWUsRUFBRTtBQUFuQixPQXBESCxFQXFER21ELFdBckRILENBcURlLENBckRmLEVBcURrQixDQXJEbEIsRUFxRHFCLEdBckRyQjtBQXNERCxLQXZETSxDQUFQO0FBd0RELEdBcEdEOztBQXFHQSxRQUFNRixPQUFPLEdBQUduRixrRUFBYSxDQUFDO0FBQzVCMkIsSUFBQUEsRUFBRSxFQUFFaUksU0FEd0I7QUFFNUJ0RSxJQUFBQSxXQUFXLEVBQUUsWUFGZTtBQUc1QkMsSUFBQUEsZUFBZSxFQUFFLEVBSFc7QUFJNUJDLElBQUFBLFNBQVMsRUFBRSxHQUppQjtBQUs1QlgsSUFBQUEsU0FBUyxFQUFFLEVBTGlCO0FBTTVCdkIsSUFBQUEsUUFONEI7QUFPNUJVLElBQUFBLE9BUDRCO0FBUTVCRyxJQUFBQSxNQVI0QjtBQVM1Qk8sSUFBQUE7QUFUNEIsR0FBRCxDQUE3QjtBQVdBLFNBQU87QUFDTFMsSUFBQUEsT0FESztBQUVMb0csSUFBQUE7QUFGSyxHQUFQO0FBSUQsQ0F2U0Q7O0FBeVNBLE1BQU1RLFdBQVcsR0FBRyw0aUpBQXBCO0FBRUEsTUFBTUMsVUFBVSxHQUFHLHd4RkFBbkI7QUFFQSxNQUFNQyxLQUFLLEdBQUcsTUFBTTtBQUNsQkMsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVU7QUFDbkJ0UCxJQUFBQSxxREFBZ0IsQ0FBQyxJQUFELEVBQU9zUCxPQUFQLENBQWhCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQnJQLHFEQUFXLENBQUMsSUFBRCxFQUFPLG9CQUFQLEVBQTZCLENBQTdCLENBQTdCO0FBQ0EsU0FBS3NQLFdBQUwsR0FBbUJ0UCxxREFBVyxDQUFDLElBQUQsRUFBTyxxQkFBUCxFQUE4QixDQUE5QixDQUE5QjtBQUNBLFNBQUt1UCxXQUFMLEdBQW1CdlAscURBQVcsQ0FBQyxJQUFELEVBQU8scUJBQVAsRUFBOEIsQ0FBOUIsQ0FBOUI7QUFDQSxTQUFLd1AsVUFBTCxHQUFrQnhQLHFEQUFXLENBQUMsSUFBRCxFQUFPLG9CQUFQLEVBQTZCLENBQTdCLENBQTdCO0FBQ0EsU0FBS3lQLHNCQUFMLEdBQThCelAscURBQVcsQ0FBQyxJQUFELEVBQU8sd0JBQVAsRUFBaUMsQ0FBakMsQ0FBekM7QUFDQSxTQUFLMFAsbUJBQUwsR0FBMkIxUCxxREFBVyxDQUFDLElBQUQsRUFBTyxZQUFQLEVBQXFCLENBQXJCLENBQXRDO0FBQ0EsU0FBSzJQLG9CQUFMLEdBQTRCM1AscURBQVcsQ0FBQyxJQUFELEVBQU8sYUFBUCxFQUFzQixDQUF0QixDQUF2QztBQUNBLFNBQUs0UCxvQkFBTCxHQUE0QjVQLHFEQUFXLENBQUMsSUFBRCxFQUFPLGFBQVAsRUFBc0IsQ0FBdEIsQ0FBdkM7QUFDQSxTQUFLNlAsbUJBQUwsR0FBMkI3UCxxREFBVyxDQUFDLElBQUQsRUFBTyxZQUFQLEVBQXFCLENBQXJCLENBQXRDO0FBQ0EsU0FBSzhQLFVBQUwsR0FBa0JDLFFBQVEsRUFBMUI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CMU8sa0VBQVksRUFBaEM7QUFDQSxTQUFLMk8sWUFBTCxHQUFvQixLQUFwQjtBQUNBLFNBQUtDLG1CQUFMLEdBQTJCLEVBQTNCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLEtBQWQsQ0FmbUIsQ0FnQm5COztBQUNBLFNBQUtDLDBCQUFMLEdBQWtDLEtBQWxDO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixLQUFqQjtBQUNBOztBQUNBLFNBQUtDLGFBQUwsR0FBcUIsS0FBckI7QUFDQTtBQUNKO0FBQ0E7O0FBQ0ksU0FBS0MsYUFBTCxHQUFxQixJQUFyQjtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLbk0sa0JBQUwsR0FBMEIsQ0FBMUI7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksU0FBS29NLGNBQUwsR0FBc0IsTUFBdEI7QUFDQTtBQUNKO0FBQ0E7O0FBQ0ksU0FBS0MsZUFBTCxHQUF1QixJQUF2QjtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNJLFNBQUtDLFlBQUwsR0FBb0IsSUFBcEI7QUFDQTtBQUNKO0FBQ0E7O0FBQ0ksU0FBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtDLFlBQUwsR0FBb0IsS0FBcEI7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLOUssTUFBTCxHQUFjLEtBQWQ7QUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNJLFNBQUsrSyxtQkFBTCxHQUEyQixLQUEzQjs7QUFDQSxTQUFLQywyQkFBTCxHQUFtQyxNQUFNO0FBQ3ZDLFlBQU07QUFBRUMsUUFBQUEsT0FBRjtBQUFXbk0sUUFBQUEsRUFBWDtBQUFlb00sUUFBQUE7QUFBZixVQUE2QyxJQUFuRDs7QUFDQSxVQUFJQSx5QkFBSixFQUErQjtBQUM3QkEsUUFBQUEseUJBQXlCO0FBQzFCOztBQUNELFVBQUlELE9BQU8sS0FBSy9MLFNBQWhCLEVBQTJCO0FBQ3pCO0FBQ0Q7O0FBQ0QsWUFBTWlNLFNBQVMsR0FBR0YsT0FBTyxLQUFLL0wsU0FBWixHQUF3QmdHLFFBQVEsQ0FBQ2tHLGNBQVQsQ0FBd0JILE9BQXhCLENBQXhCLEdBQTJELElBQTdFOztBQUNBLFVBQUksQ0FBQ0UsU0FBTCxFQUFnQjtBQUNkaFAsUUFBQUEscURBQWUsQ0FBRSxrQ0FBaUM4TyxPQUFRLHFIQUEzQyxFQUFpSyxLQUFLbk0sRUFBdEssQ0FBZjtBQUNBO0FBQ0Q7O0FBQ0QsWUFBTWtNLDJCQUEyQixHQUFHLENBQUNLLE1BQUQsRUFBU0MsT0FBVCxLQUFxQjtBQUN2RCxjQUFNQyxTQUFTLEdBQUcsTUFBTTtBQUN0QkQsVUFBQUEsT0FBTyxDQUFDM08sT0FBUjtBQUNELFNBRkQ7O0FBR0EwTyxRQUFBQSxNQUFNLENBQUNHLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDRCxTQUFqQztBQUNBLGVBQU8sTUFBTTtBQUNYRixVQUFBQSxNQUFNLENBQUNJLG1CQUFQLENBQTJCLE9BQTNCLEVBQW9DRixTQUFwQztBQUNELFNBRkQ7QUFHRCxPQVJEOztBQVNBLFdBQUtMLHlCQUFMLEdBQWlDRiwyQkFBMkIsQ0FBQ0csU0FBRCxFQUFZck0sRUFBWixDQUE1RDtBQUNELEtBdkJEOztBQXdCQSxTQUFLNE0sYUFBTCxHQUFxQixNQUFNO0FBQ3pCLFlBQU07QUFBRUMsUUFBQUEsZUFBRjtBQUFtQmpCLFFBQUFBO0FBQW5CLFVBQXNDLElBQTVDOztBQUNBLFVBQUlBLGNBQWMsS0FBSyxPQUFuQixJQUE4QmlCLGVBQWUsS0FBS3pNLFNBQXRELEVBQWlFO0FBQy9EO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDUTtBQUNEOztBQUNELFdBQUswTSxvQkFBTDtBQUNELEtBWEQ7O0FBWUEsU0FBS0MsYUFBTCxHQUFxQixNQUFNO0FBQ3pCLFlBQU07QUFBRUYsUUFBQUE7QUFBRixVQUFzQixJQUE1Qjs7QUFDQSxVQUFJQSxlQUFlLEtBQUt6TSxTQUF4QixFQUFtQztBQUNqQztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUTtBQUNEOztBQUNELFdBQUtyQyxPQUFMLENBQWFxQyxTQUFiLEVBQXdCekMsb0RBQXhCO0FBQ0QsS0FaRDs7QUFhQSxTQUFLcVAsV0FBTCxHQUFvQkMsVUFBRCxJQUFnQjtBQUNqQyxZQUFNak4sRUFBRSxHQUFHLEtBQUtrTixZQUFoQjtBQUNBLFlBQU1DLElBQUksR0FBR0MsYUFBYSxDQUFDSCxVQUFVLENBQUNJLElBQVosQ0FBMUI7O0FBQ0EsVUFBSXJOLEVBQUUsSUFBSW1OLElBQVYsRUFBZ0I7QUFDZCxjQUFNRyxFQUFFLEdBQUcsSUFBSUMsV0FBSixDQUFnQkosSUFBaEIsRUFBc0I7QUFDL0JLLFVBQUFBLE9BQU8sRUFBRSxLQURzQjtBQUUvQkMsVUFBQUEsVUFBVSxFQUFFLEtBRm1CO0FBRy9CN0wsVUFBQUEsTUFBTSxFQUFFcUwsVUFBVSxDQUFDckw7QUFIWSxTQUF0QixDQUFYO0FBS0E1QixRQUFBQSxFQUFFLENBQUMwTixhQUFILENBQWlCSixFQUFqQjtBQUNEO0FBQ0YsS0FYRDtBQVlEOztBQUNESyxFQUFBQSxjQUFjLENBQUNDLFFBQUQsRUFBV0MsUUFBWCxFQUFxQjtBQUNqQyxRQUFJRCxRQUFRLEtBQUssSUFBYixJQUFxQkMsUUFBUSxLQUFLLEtBQXRDLEVBQTZDO0FBQzNDLFdBQUtoUSxPQUFMO0FBQ0QsS0FGRCxNQUdLLElBQUkrUCxRQUFRLEtBQUssS0FBYixJQUFzQkMsUUFBUSxLQUFLLElBQXZDLEVBQTZDO0FBQ2hELFdBQUs5UCxPQUFMO0FBQ0Q7QUFDRjs7QUFDRCtQLEVBQUFBLGVBQWUsR0FBRztBQUNoQixTQUFLNUIsMkJBQUw7QUFDRDs7QUFDSzZCLEVBQUFBLG1CQUFtQixDQUFDdEssTUFBRCxFQUFTO0FBQUE7O0FBQUE7QUFDaEMsVUFBSSxLQUFJLENBQUNELE9BQVQsRUFBa0I7QUFDaEIsYUFBSSxDQUFDQSxPQUFMLENBQWFDLE1BQWIsQ0FBb0JBLE1BQXBCO0FBQ0QsT0FGRCxNQUdLLElBQUlBLE1BQUosRUFBWTtBQUNmLGFBQUksQ0FBQ3VLLGdCQUFMO0FBQ0Q7QUFOK0I7QUFPakM7O0FBQ0RDLEVBQUFBLGtCQUFrQixDQUFDOUYsV0FBRCxFQUFjO0FBQzlCLFFBQUlBLFdBQVcsS0FBSy9ILFNBQXBCLEVBQStCO0FBQzdCLFdBQUs4TixpQkFBTCxHQUF5Qi9GLFdBQVcsQ0FBQ2dHLElBQVosQ0FBaUIsQ0FBQzlSLENBQUQsRUFBSVQsQ0FBSixLQUFVUyxDQUFDLEdBQUdULENBQS9CLENBQXpCO0FBQ0Q7QUFDRjs7QUFDRHdTLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLFVBQU07QUFBRWxDLE1BQUFBLDJCQUFGO0FBQStCbE0sTUFBQUE7QUFBL0IsUUFBc0MsSUFBNUM7QUFDQXBDLElBQUFBLHdEQUFjLENBQUNvQyxFQUFELENBQWQ7QUFDQWtNLElBQUFBLDJCQUEyQjtBQUM1Qjs7QUFDRG1DLEVBQUFBLG9CQUFvQixHQUFHO0FBQ3JCLFVBQU07QUFBRWpDLE1BQUFBO0FBQUYsUUFBZ0MsSUFBdEM7O0FBQ0EsUUFBSUEseUJBQUosRUFBK0I7QUFDN0JBLE1BQUFBLHlCQUF5QjtBQUMxQjtBQUNGOztBQUNEa0MsRUFBQUEsaUJBQWlCLEdBQUc7QUFDbEIsVUFBTTtBQUFFbkcsTUFBQUEsV0FBRjtBQUFlRCxNQUFBQSxpQkFBZjtBQUFrQzhELE1BQUFBLFlBQWxDO0FBQWdEaE0sTUFBQUE7QUFBaEQsUUFBdUQsSUFBN0Q7QUFDQSxTQUFLc0wsbUJBQUwsR0FBMkJuTyx1REFBaUIsQ0FBQzZDLEVBQUQsRUFBSyxDQUFDLFlBQUQsRUFBZSxNQUFmLENBQUwsQ0FBNUM7QUFDQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxTQUFLdU8sT0FBTCxHQUFlLEtBQUt2TyxFQUFMLENBQVF3TyxZQUFSLENBQXFCLElBQXJCLElBQTZCLEtBQUt4TyxFQUFMLENBQVF5TyxZQUFSLENBQXFCLElBQXJCLENBQTdCLEdBQTJELGFBQVksS0FBS3ZELFVBQVcsRUFBdEc7QUFDQSxVQUFNRyxZQUFZLEdBQUksS0FBS0EsWUFBTCxHQUFvQmxELFdBQVcsS0FBSy9ILFNBQWhCLElBQTZCOEgsaUJBQWlCLEtBQUs5SCxTQUE3Rjs7QUFDQSxRQUFJaUwsWUFBSixFQUFrQjtBQUNoQixXQUFLbEgsaUJBQUwsR0FBeUIsS0FBSytELGlCQUE5QjtBQUNEOztBQUNELFFBQUlDLFdBQVcsS0FBSy9ILFNBQWhCLElBQTZCOEgsaUJBQWlCLEtBQUs5SCxTQUFuRCxJQUFnRSxDQUFDK0gsV0FBVyxDQUFDdUcsUUFBWixDQUFxQnhHLGlCQUFyQixDQUFyRSxFQUE4RztBQUM1RzdLLE1BQUFBLHFEQUFlLENBQUMsa0VBQUQsQ0FBZjtBQUNEOztBQUNELFFBQUkyTyxZQUFKLEVBQWtCO0FBQ2hCM08sTUFBQUEscURBQWUsQ0FBQyxxUEFBRCxDQUFmO0FBQ0Q7QUFDRjs7QUFDRHNSLEVBQUFBLGdCQUFnQixHQUFHO0FBQ2pCO0FBQ0o7QUFDQTtBQUNBO0FBQ0ksUUFBSSxLQUFLek4sTUFBTCxLQUFnQixJQUFwQixFQUEwQjtBQUN4QmpFLE1BQUFBLHVEQUFHLENBQUMsTUFBTSxLQUFLWSxPQUFMLEVBQVAsQ0FBSDtBQUNEOztBQUNELFNBQUtvUSxrQkFBTCxDQUF3QixLQUFLOUYsV0FBN0I7QUFDRDtBQUNEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0V5RyxFQUFBQSxXQUFXLENBQUNDLEtBQUssR0FBRyxLQUFULEVBQWdCO0FBQ3pCLFFBQUksS0FBS0MsZUFBTCxJQUF3QixDQUFDRCxLQUE3QixFQUFvQztBQUNsQyxhQUFPO0FBQ0xFLFFBQUFBLFFBQVEsRUFBRSxLQUFLRCxlQURWO0FBRUx2RCxRQUFBQSxNQUFNLEVBQUUsS0FBS0E7QUFGUixPQUFQO0FBSUQ7QUFDRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNJLFVBQU15RCxRQUFRLEdBQUcsS0FBS2hQLEVBQUwsQ0FBUWlQLFVBQXpCO0FBQ0EsVUFBTTFELE1BQU0sR0FBSSxLQUFLQSxNQUFMLEdBQWN5RCxRQUFRLEtBQUssSUFBYixJQUFxQixDQUFDLEtBQUt0RCxhQUF6RDtBQUNBLFVBQU1xRCxRQUFRLEdBQUksS0FBS0QsZUFBTCxHQUF1QnZELE1BQU0sR0FBRyxLQUFLd0QsUUFBTCxJQUFpQixLQUFLM0QsWUFBekIsR0FBd0MsS0FBSzJELFFBQTVGO0FBQ0EsV0FBTztBQUFFeEQsTUFBQUEsTUFBRjtBQUFVd0QsTUFBQUE7QUFBVixLQUFQO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7QUFDUUcsRUFBQUEsZUFBZSxDQUFDQyxJQUFELEVBQU9DLElBQVAsRUFBYTtBQUFBOztBQUFBO0FBQ2hDLFlBQU07QUFBRWxQLFFBQUFBO0FBQUYsVUFBaUIsTUFBdkI7QUFDQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxVQUFJQSxVQUFVLEtBQUtFLFNBQW5CLEVBQThCO0FBQzVCLGVBQU8sSUFBUDtBQUNEOztBQUNELFVBQUksT0FBT0YsVUFBUCxLQUFzQixVQUExQixFQUFzQztBQUNwQyxlQUFPQSxVQUFVLENBQUNpUCxJQUFELEVBQU9DLElBQVAsQ0FBakI7QUFDRDs7QUFDRCxhQUFPbFAsVUFBUDtBQVpnQztBQWFqQztBQUNEO0FBQ0Y7QUFDQTs7O0FBQ1FyQyxFQUFBQSxPQUFPLEdBQUc7QUFBQTs7QUFBQTtBQUNkLFVBQUksTUFBSSxDQUFDNE4sU0FBVCxFQUFvQjtBQUNsQjtBQUNEO0FBQ0Q7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0ksVUFBSSxNQUFJLENBQUM0RCxpQkFBTCxLQUEyQmpQLFNBQS9CLEVBQTBDO0FBQ3hDLGNBQU0sTUFBSSxDQUFDaVAsaUJBQVg7QUFDRDtBQUNEO0FBQ0o7QUFDQTtBQUNBOzs7QUFDSSxZQUFJLENBQUNsTCxpQkFBTCxHQUF5QixNQUFJLENBQUMrRCxpQkFBOUI7O0FBQ0EsWUFBTTtBQUFFcUQsUUFBQUEsTUFBRjtBQUFVd0QsUUFBQUE7QUFBVixVQUF1QixNQUFJLENBQUNILFdBQUwsQ0FBaUIsSUFBakIsQ0FBN0I7O0FBQ0EsWUFBSSxDQUFDMUIsWUFBTCxTQUEwQnZRLGtFQUFlLENBQUNvUyxRQUFELEVBQVcsTUFBSSxDQUFDL08sRUFBaEIsRUFBb0IsTUFBSSxDQUFDc1AsU0FBekIsRUFBb0MsQ0FBQyxVQUFELENBQXBDLEVBQWtELE1BQUksQ0FBQ0MsY0FBdkQsRUFBdUVoRSxNQUF2RSxDQUF6QztBQUNBLFlBQU1yTixzREFBUyxDQUFDLE1BQUksQ0FBQ2dQLFlBQU4sQ0FBZjtBQUNBNVIsTUFBQUEscURBQVMsQ0FBQyxNQUFNLE1BQUksQ0FBQzBFLEVBQUwsQ0FBUWlKLFNBQVIsQ0FBa0JHLEdBQWxCLENBQXNCLFlBQXRCLENBQVAsQ0FBVDtBQUNBLFlBQUksQ0FBQ2lHLGlCQUFMLEdBQXlCeFIsd0RBQU8sQ0FBQyxNQUFELEVBQU8sWUFBUCxFQUFxQnVILGlCQUFyQixFQUF3Q3dDLGdCQUF4QyxFQUEwRDtBQUN4RnRDLFFBQUFBLFlBQVksRUFBRSxNQUFJLENBQUNTLGlCQURxRTtBQUV4RjVCLFFBQUFBLGlCQUFpQixFQUFFLE1BQUksQ0FBQytELGlCQUZnRTtBQUd4RjFJLFFBQUFBLGtCQUFrQixFQUFFLE1BQUksQ0FBQ0E7QUFIK0QsT0FBMUQsQ0FBaEM7QUFLQTs7QUFDQSxVQUFJLE9BQU9vRyxNQUFQLEtBQWtCLFdBQXRCLEVBQW1DO0FBQ2pDO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTSxjQUFJLENBQUM0SixvQkFBTCxHQUE0QixNQUFNO0FBQ2hDLGNBQUksTUFBSSxDQUFDaE0sT0FBVCxFQUFrQjtBQUNoQjtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDVSxrQkFBSSxDQUFDQSxPQUFMLENBQWFDLE1BQWIsQ0FBb0IsS0FBcEI7O0FBQ0F4RyxZQUFBQSx1REFBRyxDQUFDLE1BQU07QUFDUixrQkFBSSxNQUFJLENBQUN1RyxPQUFULEVBQWtCO0FBQ2hCLHNCQUFJLENBQUNBLE9BQUwsQ0FBYUMsTUFBYixDQUFvQixJQUFwQjtBQUNEO0FBQ0YsYUFKRSxDQUFIO0FBS0Q7QUFDRixTQWxCRDs7QUFtQkFtQyxRQUFBQSxNQUFNLENBQUM4RyxnQkFBUCxDQUF3QnRQLG9FQUF4QixFQUEyQyxNQUFJLENBQUNvUyxvQkFBaEQ7QUFDRDtBQUNEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0ksWUFBTTNKLFlBQVksR0FBRyxNQUFJLENBQUNFLGlCQUFMLEtBQTJCM0YsU0FBM0IsS0FBeUMsTUFBSSxDQUFDNEwsWUFBTCxJQUFxQixNQUFJLENBQUM5TCxVQUFMLEtBQW9CRSxTQUFsRixDQUFyQjtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksVUFBSXlGLFlBQVksSUFBSWhLLDREQUFVLENBQUMsTUFBRCxDQUFWLEtBQXFCLEtBQXpDLEVBQWdEO0FBQzlDO0FBQ0EsY0FBSSxDQUFDZ0YsY0FBTCxTQUE0QnRDLFNBQVMsQ0FBQ1csUUFBVixFQUE1QjtBQUNBUSxRQUFBQSxvQkFBb0I7QUFDckI7O0FBQ0QsWUFBTSxNQUFJLENBQUMyUCxpQkFBWDs7QUFDQSxVQUFJLE1BQUksQ0FBQ2hFLFlBQVQsRUFBdUI7QUFDckIsY0FBSSxDQUFDb0UsZ0JBQUw7QUFDRCxPQUZELE1BR0ssSUFBSTVKLFlBQUosRUFBa0I7QUFDckIsY0FBSSxDQUFDbUksZ0JBQUw7QUFDRDs7QUFDRCxZQUFJLENBQUNxQixpQkFBTCxHQUF5QmpQLFNBQXpCO0FBdkZjO0FBd0ZmOztBQUNENE4sRUFBQUEsZ0JBQWdCLEdBQUc7QUFBQTs7QUFDakIsUUFBSXZQLEVBQUo7O0FBQ0EsUUFBSTVDLDREQUFVLENBQUMsSUFBRCxDQUFWLEtBQXFCLEtBQXpCLEVBQWdDO0FBQzlCO0FBQ0Q7O0FBQ0QsVUFBTTtBQUFFbUUsTUFBQUE7QUFBRixRQUFTLElBQWYsQ0FMaUIsQ0FNakI7QUFDQTtBQUNBOztBQUNBLFVBQU0wUCxnQkFBZ0IsR0FBRyxLQUFLQyxjQUFMLElBQXVCN1QsNERBQUEsQ0FBVyxZQUFYLEVBQXlCcUwsaUJBQXpCLENBQWhEO0FBQ0EsVUFBTXlCLEdBQUcsR0FBSSxLQUFLM0ksU0FBTCxHQUFpQnlQLGdCQUFnQixDQUFDMVAsRUFBRCxFQUFLO0FBQUVzRixNQUFBQSxZQUFZLEVBQUUsS0FBS1M7QUFBckIsS0FBTCxDQUE5QztBQUNBLFVBQU0zRSxTQUFTLEdBQUc5RSxxREFBYyxDQUFDMEQsRUFBRCxDQUFoQzs7QUFDQSxRQUFJLENBQUNvQixTQUFMLEVBQWdCO0FBQ2Q1RSxNQUFBQSxxREFBdUIsQ0FBQ3dELEVBQUQsQ0FBdkI7QUFDQTtBQUNEOztBQUNELFVBQU1hLGNBQWMsR0FBRyxDQUFDcEMsRUFBRSxHQUFHLEtBQUtvQyxjQUFYLE1BQStCLElBQS9CLElBQXVDcEMsRUFBRSxLQUFLLEtBQUssQ0FBbkQsR0FBdURBLEVBQXZELEdBQTRESCxLQUFLLENBQUNhLE9BQXpGO0FBQ0EsU0FBS3FFLE9BQUwsR0FBZTVDLHlCQUF5QixDQUFDWixFQUFELEVBQUs0SSxHQUFMLEVBQVUvSCxjQUFWLEVBQTBCLE1BQU07QUFDdEU7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTSxXQUFLMkssMEJBQUwsR0FBa0MsSUFBbEM7QUFDQSxXQUFLdkwsU0FBTCxDQUFlSyxRQUFmLG9KQUF3QixhQUFZO0FBQ2xDLGNBQU0sTUFBSSxDQUFDdkMsT0FBTCxDQUFhcUMsU0FBYixFQUF3QjNDLG9EQUF4QixDQUFOO0FBQ0EsY0FBSSxDQUFDK04sMEJBQUwsR0FBa0MsS0FBbEM7QUFDRCxPQUhEO0FBSUQsS0FoQnVDLENBQXhDO0FBaUJBLFNBQUtoSSxPQUFMLENBQWFDLE1BQWIsQ0FBb0IsSUFBcEI7QUFDRDs7QUFDRGdNLEVBQUFBLGdCQUFnQixHQUFHO0FBQ2pCLFVBQU07QUFBRXhILE1BQUFBLFNBQUY7QUFBYUMsTUFBQUEsaUJBQWI7QUFBZ0MxSSxNQUFBQTtBQUFoQyxRQUF1RCxJQUE3RDs7QUFDQSxRQUFJLENBQUN5SSxTQUFELElBQWNDLGlCQUFpQixLQUFLOUgsU0FBeEMsRUFBbUQ7QUFDakQ7QUFDRDs7QUFDRCxVQUFNc1AsZ0JBQWdCLEdBQUcsS0FBS0csY0FBTCxJQUF1Qi9ULDREQUFBLENBQVcsWUFBWCxFQUF5QnNKLGlCQUF6QixDQUFoRDtBQUNBLFVBQU13RCxHQUFHLEdBQUksS0FBSzNJLFNBQUwsR0FBaUJ5UCxnQkFBZ0IsQ0FBQyxLQUFLMVAsRUFBTixFQUFVO0FBQ3REc0YsTUFBQUEsWUFBWSxFQUFFLEtBQUtTLGlCQURtQztBQUV0RDVCLE1BQUFBLGlCQUFpQixFQUFFK0QsaUJBRm1DO0FBR3REMUksTUFBQUE7QUFIc0QsS0FBVixDQUE5QztBQUtBb0osSUFBQUEsR0FBRyxDQUFDckcsYUFBSixDQUFrQixJQUFsQixFQUF3QixDQUF4QjtBQUNBLFVBQU07QUFBRWlCLE1BQUFBLE9BQUY7QUFBV29HLE1BQUFBO0FBQVgsUUFBcUM3QixrQkFBa0IsQ0FBQyxLQUFLL0gsRUFBTixFQUFVLEtBQUtnSSxVQUFmLEVBQTJCQyxTQUEzQixFQUFzQ0MsaUJBQXRDLEVBQXlEMUksa0JBQXpELEVBQTZFb0osR0FBN0UsRUFBa0YsS0FBS3NGLGlCQUF2RixFQUEwRyxNQUFNO0FBQUUsVUFBSXpQLEVBQUo7O0FBQVEsYUFBTyxDQUFDQSxFQUFFLEdBQUcsS0FBSzBGLGlCQUFYLE1BQWtDLElBQWxDLElBQTBDMUYsRUFBRSxLQUFLLEtBQUssQ0FBdEQsR0FBMERBLEVBQTFELEdBQStELENBQXRFO0FBQTBFLEtBQXBNLEVBQXNNLE1BQU0sS0FBS3FSLGNBQUwsRUFBNU0sRUFBb09qRyxVQUFELElBQWdCO0FBQzlTLFVBQUksS0FBSzFGLGlCQUFMLEtBQTJCMEYsVUFBL0IsRUFBMkM7QUFDekMsYUFBSzFGLGlCQUFMLEdBQXlCMEYsVUFBekI7QUFDQSxhQUFLZ0Isc0JBQUwsQ0FBNEJrRixJQUE1QixDQUFpQztBQUFFbEcsVUFBQUE7QUFBRixTQUFqQztBQUNEO0FBQ0YsS0FMNEQsQ0FBN0Q7QUFNQSxTQUFLckcsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsU0FBS29HLHFCQUFMLEdBQTZCQSxxQkFBN0I7QUFDQSxTQUFLcEcsT0FBTCxDQUFhQyxNQUFiLENBQW9CLElBQXBCO0FBQ0Q7O0FBQ0RxTSxFQUFBQSxjQUFjLEdBQUc7QUFBQTs7QUFDZjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJLFNBQUt0RSwwQkFBTCxHQUFrQyxJQUFsQztBQUNBLFNBQUt2TCxTQUFMLENBQWVLLFFBQWYsb0pBQXdCLGFBQVk7QUFDbEMsWUFBSSxDQUFDNkQsaUJBQUwsR0FBeUIsQ0FBekI7O0FBQ0EsWUFBSSxDQUFDMEcsc0JBQUwsQ0FBNEJrRixJQUE1QixDQUFpQztBQUFFbEcsUUFBQUEsVUFBVSxFQUFFLE1BQUksQ0FBQzFGO0FBQW5CLE9BQWpDOztBQUNBLFlBQU0sTUFBSSxDQUFDcEcsT0FBTCxDQUFhcUMsU0FBYixFQUF3QjNDLG9EQUF4QixDQUFOO0FBQ0EsWUFBSSxDQUFDK04sMEJBQUwsR0FBa0MsS0FBbEM7QUFDRCxLQUxEO0FBTUQ7QUFDRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNRek4sRUFBQUEsT0FBTyxDQUFDb1IsSUFBRCxFQUFPQyxJQUFQLEVBQWE7QUFBQTs7QUFBQTtBQUN4QixVQUFJM1EsRUFBSjs7QUFDQSxVQUFJLE1BQUksQ0FBQytNLDBCQUFMLElBQW1DNEQsSUFBSSxLQUFLM1Isb0RBQWhELEVBQXlEO0FBQ3ZELGVBQU8sS0FBUDtBQUNEO0FBQ0Q7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0ksVUFBSTJSLElBQUksS0FBSyxTQUFULElBQXNCLFFBQVEsTUFBSSxDQUFDRixlQUFMLENBQXFCQyxJQUFyQixFQUEyQkMsSUFBM0IsQ0FBUixDQUExQixFQUFxRTtBQUNuRSxlQUFPLEtBQVA7QUFDRDtBQUNEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0ksWUFBTXZKLFlBQVksR0FBRyxNQUFJLENBQUNFLGlCQUFMLEtBQTJCM0YsU0FBM0IsS0FBeUMsTUFBSSxDQUFDNEwsWUFBTCxJQUFxQixNQUFJLENBQUM5TCxVQUFMLEtBQW9CRSxTQUFsRixDQUFyQjs7QUFDQSxVQUFJeUYsWUFBWSxJQUFJaEssNERBQVUsQ0FBQyxNQUFELENBQVYsS0FBcUIsS0FBekMsRUFBZ0Q7QUFDOUNnRSxRQUFBQSx1QkFBdUIsQ0FBQyxNQUFJLENBQUNnQixjQUFOLENBQXZCO0FBQ0Q7QUFDRDs7O0FBQ0EsVUFBSSxPQUFPK0UsTUFBUCxLQUFrQixXQUFsQixJQUFpQyxNQUFJLENBQUM0SixvQkFBMUMsRUFBZ0U7QUFDOUQ1SixRQUFBQSxNQUFNLENBQUMrRyxtQkFBUCxDQUEyQnZQLG9FQUEzQixFQUE4QyxNQUFJLENBQUNvUyxvQkFBbkQ7QUFDQSxjQUFJLENBQUNBLG9CQUFMLEdBQTRCcFAsU0FBNUI7QUFDRDtBQUNEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNJLFVBQUksTUFBSSxDQUFDaVAsaUJBQUwsS0FBMkJqUCxTQUEvQixFQUEwQztBQUN4QyxjQUFNLE1BQUksQ0FBQ2lQLGlCQUFYO0FBQ0Q7O0FBQ0QsWUFBTVcsaUJBQWlCLEdBQUdsUyx3REFBQSxDQUFxQixNQUFyQixLQUE4QixFQUF4RDtBQUNBLFlBQUksQ0FBQ3VSLGlCQUFMLEdBQXlCdFIsd0RBQU8sQ0FBQyxNQUFELEVBQU9vUixJQUFQLEVBQWFDLElBQWIsRUFBbUIsWUFBbkIsRUFBaUNqSSxpQkFBakMsRUFBb0RXLGdCQUFwRCxFQUFzRTtBQUNwR3hDLFFBQUFBLFlBQVksRUFBRSxNQUFJLENBQUNTLGlCQURpRjtBQUVwRzVCLFFBQUFBLGlCQUFpQixFQUFFLENBQUMxRixFQUFFLEdBQUcsTUFBSSxDQUFDMEYsaUJBQVgsTUFBa0MsSUFBbEMsSUFBMEMxRixFQUFFLEtBQUssS0FBSyxDQUF0RCxHQUEwREEsRUFBMUQsR0FBK0QsTUFBSSxDQUFDeUosaUJBRmE7QUFHcEcxSSxRQUFBQSxrQkFBa0IsRUFBRSxNQUFJLENBQUNBO0FBSDJFLE9BQXRFLENBQWhDO0FBS0EsWUFBTXlRLFNBQVMsU0FBUyxNQUFJLENBQUNaLGlCQUE3Qjs7QUFDQSxVQUFJWSxTQUFKLEVBQWU7QUFDYixjQUFNO0FBQUVsQixVQUFBQTtBQUFGLFlBQWUsTUFBSSxDQUFDSCxXQUFMLEVBQXJCOztBQUNBLGNBQU1oUyxrRUFBZSxDQUFDbVMsUUFBRCxFQUFXLE1BQUksQ0FBQzdCLFlBQWhCLENBQXJCO0FBQ0E1UixRQUFBQSxxREFBUyxDQUFDLE1BQU0sTUFBSSxDQUFDMEUsRUFBTCxDQUFRaUosU0FBUixDQUFrQkMsTUFBbEIsQ0FBeUIsWUFBekIsQ0FBUCxDQUFUOztBQUNBLFlBQUksTUFBSSxDQUFDakosU0FBVCxFQUFvQjtBQUNsQixnQkFBSSxDQUFDQSxTQUFMLENBQWVpUSxPQUFmO0FBQ0Q7O0FBQ0QsWUFBSSxNQUFJLENBQUMxTSxPQUFULEVBQWtCO0FBQ2hCLGdCQUFJLENBQUNBLE9BQUwsQ0FBYTBNLE9BQWI7QUFDRDs7QUFDREYsUUFBQUEsaUJBQWlCLENBQUNHLE9BQWxCLENBQTJCdkgsR0FBRCxJQUFTQSxHQUFHLENBQUNzSCxPQUFKLEVBQW5DO0FBQ0Q7O0FBQ0QsWUFBSSxDQUFDL0wsaUJBQUwsR0FBeUIvRCxTQUF6QjtBQUNBLFlBQUksQ0FBQ2lQLGlCQUFMLEdBQXlCalAsU0FBekI7QUFDQSxZQUFJLENBQUNILFNBQUwsR0FBaUJHLFNBQWpCO0FBQ0EsYUFBTzZQLFNBQVA7QUE3RHdCO0FBOER6QjtBQUNEO0FBQ0Y7QUFDQTs7O0FBQ0VHLEVBQUFBLFlBQVksR0FBRztBQUNiLFdBQU9wUyx3REFBVyxDQUFDLEtBQUtnQyxFQUFOLEVBQVUsb0JBQVYsQ0FBbEI7QUFDRDtBQUNEO0FBQ0Y7QUFDQTs7O0FBQ0VxUSxFQUFBQSxhQUFhLEdBQUc7QUFDZCxXQUFPclMsd0RBQVcsQ0FBQyxLQUFLZ0MsRUFBTixFQUFVLHFCQUFWLENBQWxCO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7QUFDQTs7O0FBQ1FzUSxFQUFBQSxvQkFBb0IsQ0FBQ3pHLFVBQUQsRUFBYTtBQUFBOztBQUFBO0FBQ3JDLFVBQUksQ0FBQyxNQUFJLENBQUN3QixZQUFWLEVBQXdCO0FBQ3RCaE8sUUFBQUEscURBQWUsQ0FBQyx5REFBRCxDQUFmO0FBQ0E7QUFDRDs7QUFDRCxVQUFJLENBQUMsTUFBSSxDQUFDOEssV0FBTCxDQUFpQnVHLFFBQWpCLENBQTBCN0UsVUFBMUIsQ0FBTCxFQUE0QztBQUMxQ3hNLFFBQUFBLHFEQUFlLENBQUUsNkNBQTRDd00sVUFBVyxzRkFBekQsQ0FBZjtBQUNBO0FBQ0Q7O0FBQ0QsWUFBTTtBQUFFMUYsUUFBQUEsaUJBQUY7QUFBcUJ5RixRQUFBQSxxQkFBckI7QUFBNEMxSixRQUFBQSxVQUE1QztBQUF3RGlJLFFBQUFBO0FBQXhELFVBQXdFLE1BQTlFOztBQUNBLFVBQUloRSxpQkFBaUIsS0FBSzBGLFVBQTFCLEVBQXNDO0FBQ3BDO0FBQ0Q7O0FBQ0QsVUFBSUQscUJBQUosRUFBMkI7QUFDekIsY0FBSSxDQUFDaUQsZUFBTCxHQUF1QmpELHFCQUFxQixDQUFDO0FBQzNDQyxVQUFBQSxVQUQyQztBQUUzQ0MsVUFBQUEsZ0JBQWdCLEVBQUUsSUFBSTNGLGlCQUZxQjtBQUczQ2pFLFVBQUFBLFVBQVUsRUFBRUEsVUFBVSxLQUFLRSxTQUFmLElBQTRCRixVQUFVLEtBQUssSUFBM0MsSUFBbURpSSxXQUFXLENBQUMsQ0FBRCxDQUFYLEtBQW1CO0FBSHZDLFNBQUQsQ0FBNUM7QUFLQSxjQUFNLE1BQUksQ0FBQzBFLGVBQVg7QUFDQSxjQUFJLENBQUNBLGVBQUwsR0FBdUJ6TSxTQUF2QjtBQUNEO0FBckJvQztBQXNCdEM7QUFDRDtBQUNGO0FBQ0E7OztBQUNRZ0ksRUFBQUEsb0JBQW9CLEdBQUc7QUFBQTs7QUFBQTtBQUMzQixhQUFPLE1BQUksQ0FBQ2pFLGlCQUFaO0FBRDJCO0FBRTVCOztBQUNLMkksRUFBQUEsb0JBQW9CLEdBQUc7QUFBQTs7QUFBQTtBQUMzQixZQUFNO0FBQUUzRSxRQUFBQSxXQUFGO0FBQWVoRSxRQUFBQTtBQUFmLFVBQXFDLE1BQTNDOztBQUNBLFVBQUksQ0FBQ2dFLFdBQUQsSUFBZ0JoRSxpQkFBaUIsSUFBSSxJQUF6QyxFQUErQztBQUM3QztBQUNOO0FBQ0E7QUFDQTtBQUNNLGVBQU8sS0FBUDtBQUNEOztBQUNELFlBQU1vTSxrQkFBa0IsR0FBR3BJLFdBQVcsQ0FBQ3BCLE1BQVosQ0FBb0JuTCxDQUFELElBQU9BLENBQUMsS0FBSyxDQUFoQyxDQUEzQjtBQUNBLFlBQU00VSxzQkFBc0IsR0FBR0Qsa0JBQWtCLENBQUNFLE9BQW5CLENBQTJCdE0saUJBQTNCLENBQS9CO0FBQ0EsWUFBTXVNLG1CQUFtQixHQUFHLENBQUNGLHNCQUFzQixHQUFHLENBQTFCLElBQStCRCxrQkFBa0IsQ0FBQzdJLE1BQTlFO0FBQ0EsWUFBTWlKLGNBQWMsR0FBR0osa0JBQWtCLENBQUNHLG1CQUFELENBQXpDO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxZQUFNLE1BQUksQ0FBQ0osb0JBQUwsQ0FBMEJLLGNBQTFCLENBQU47QUFDQSxhQUFPLElBQVA7QUFuQjJCO0FBb0I1Qjs7QUFDREMsRUFBQUEsTUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFQyxNQUFBQSxNQUFGO0FBQVV4RixNQUFBQSxZQUFWO0FBQXdCdEYsTUFBQUEsaUJBQXhCO0FBQTJDK0ssTUFBQUEsY0FBM0M7QUFBMkRsRixNQUFBQSxjQUEzRDtBQUEyRU4sTUFBQUE7QUFBM0UsUUFBbUcsSUFBekc7QUFDQSxVQUFNeUYsVUFBVSxHQUFHRixNQUFNLEtBQUssS0FBWCxJQUFvQnhGLFlBQXZDO0FBQ0EsVUFBTTJGLElBQUksR0FBR25WLDREQUFVLENBQUMsSUFBRCxDQUF2QjtBQUNBLFVBQU07QUFBRTBTLE1BQUFBO0FBQUYsUUFBYyxJQUFwQjtBQUNBLFVBQU0wQyxXQUFXLEdBQUdsTCxpQkFBaUIsS0FBSzNGLFNBQXRCLElBQW1DNFEsSUFBSSxLQUFLLEtBQWhFO0FBQ0EsVUFBTUUsYUFBYSxHQUFHdEYsY0FBYyxLQUFLLE9BQXpDO0FBQ0EsV0FBUXJRLHFEQUFDLENBQUNFLGlEQUFELEVBQU8wVixNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUFFLG1CQUFhLElBQWY7QUFBcUJDLE1BQUFBLFFBQVEsRUFBRTtBQUEvQixLQUFkLEVBQXFEUCxjQUFyRCxFQUFxRTtBQUFFMVIsTUFBQUEsS0FBSyxFQUFFO0FBQzFGa1MsUUFBQUEsTUFBTSxFQUFHLEdBQUUsUUFBUSxLQUFLQyxZQUFhO0FBRHFELE9BQVQ7QUFFaEZDLE1BQUFBLEtBQUssRUFBRUwsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFBRSxTQUFDSixJQUFELEdBQVEsSUFBVjtBQUFnQixTQUFDLGVBQUQsR0FBbUIsQ0FBQ0MsV0FBRCxJQUFnQixDQUFDNUYsWUFBcEQ7QUFBa0UsU0FBRSxZQUFGLEdBQWdCNEYsV0FBbEY7QUFBK0YsU0FBRSxhQUFGLEdBQWlCNUYsWUFBaEg7QUFBOEgsMEJBQWtCO0FBQWhKLE9BQWQsRUFBc0twTixzREFBVyxDQUFDLEtBQUt3VCxRQUFOLENBQWpMLENBRnlFO0FBRTBINUksTUFBQUEsRUFBRSxFQUFFMEYsT0FGOUg7QUFFdUltRCxNQUFBQSxnQkFBZ0IsRUFBRSxLQUFLM0UsYUFGOUo7QUFFNks0RSxNQUFBQSxvQkFBb0IsRUFBRSxLQUFLM0UsV0FGeE07QUFFcU40RSxNQUFBQSxxQkFBcUIsRUFBRSxLQUFLNUUsV0FGalA7QUFFOFA2RSxNQUFBQSxxQkFBcUIsRUFBRSxLQUFLN0UsV0FGMVI7QUFFdVM4RSxNQUFBQSxvQkFBb0IsRUFBRSxLQUFLOUU7QUFGbFUsS0FBckUsQ0FBUCxFQUU4WnpSLHFEQUFDLENBQUMsY0FBRCxFQUFpQjtBQUFFd1csTUFBQUEsR0FBRyxFQUFHL1IsRUFBRCxJQUFTLEtBQUtnSSxVQUFMLEdBQWtCaEksRUFBbEM7QUFBdUNnUyxNQUFBQSxPQUFPLEVBQUUsS0FBS2xHLFlBQXJEO0FBQW1FbUcsTUFBQUEsUUFBUSxFQUFFLEtBQUtwRyxlQUFsRjtBQUFtR3FHLE1BQUFBLElBQUksRUFBRTtBQUF6RyxLQUFqQixDQUYvWixFQUV3aUJsQixJQUFJLEtBQUssS0FBVCxJQUFrQnpWLHFEQUFDLENBQUMsS0FBRCxFQUFRO0FBQUVpVyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQUFSLENBRjNqQixFQUUrbEJqVyxxREFBQyxDQUFDLEtBQUQsRUFBUTRWLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQzduQjtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTWhDLE1BQUFBLElBQUksRUFBRTtBQVB1bkIsS0FBZCxFQVE5bUI5RCxtQkFSOG1CLEVBUXpsQjtBQUFFLG9CQUFjLE1BQWhCO0FBQXdCa0csTUFBQUEsS0FBSyxFQUFFLG1DQUEvQjtBQUFvRVUsTUFBQUEsSUFBSSxFQUFFLFNBQTFFO0FBQXFGSCxNQUFBQSxHQUFHLEVBQUcvUixFQUFELElBQVMsS0FBS2lJLFNBQUwsR0FBaUJqSTtBQUFwSCxLQVJ5bEIsQ0FBUixFQVFyZCtRLFVBQVUsSUFBS3hWLHFEQUFDLENBQUMsUUFBRCxFQUFXO0FBQUVpVyxNQUFBQSxLQUFLLEVBQUUsY0FBVDtBQUM3SztBQUNBVyxNQUFBQSxRQUFRLEVBQUUsQ0FBQ2pCLGFBQUQsR0FBaUIsQ0FBQyxDQUFsQixHQUFzQixDQUY2STtBQUUxSSxvQkFBYyxpRUFGNEg7QUFFekRrQixNQUFBQSxPQUFPLEVBQUVsQixhQUFhLEdBQUcsS0FBS3RFLGFBQVIsR0FBd0J4TSxTQUZXO0FBRUE4UixNQUFBQSxJQUFJLEVBQUU7QUFGTixLQUFYLENBUnFjLEVBVXRhM1cscURBQUMsQ0FBQyxNQUFELEVBQVMsSUFBVCxDQVZxYSxDQUZobUIsQ0FBVDtBQWFEOztBQUNLLE1BQUZ5RSxFQUFFLEdBQUc7QUFBRSxXQUFPckUscURBQVUsQ0FBQyxJQUFELENBQWpCO0FBQTBCOztBQUNsQixhQUFSMFcsUUFBUSxHQUFHO0FBQUUsV0FBTztBQUM3QixnQkFBVSxDQUFDLGdCQUFELENBRG1CO0FBRTdCLGlCQUFXLENBQUMsaUJBQUQsQ0FGa0I7QUFHN0Isc0JBQWdCLENBQUMscUJBQUQ7QUFIYSxLQUFQO0FBSXBCOztBQWhsQmMsQ0FBcEI7QUFrbEJBLE1BQU1qRixhQUFhLEdBQUc7QUFDcEJrRixFQUFBQSxrQkFBa0IsRUFBRSxpQkFEQTtBQUVwQkMsRUFBQUEsbUJBQW1CLEVBQUUsa0JBRkQ7QUFHcEJDLEVBQUFBLG1CQUFtQixFQUFFLGtCQUhEO0FBSXBCQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUpBLENBQXRCO0FBTUEsSUFBSXRILFFBQVEsR0FBRyxDQUFmO0FBQ0FiLEtBQUssQ0FBQ2xMLEtBQU4sR0FBYztBQUNac1QsRUFBQUEsR0FBRyxFQUFFdEksV0FETztBQUVadUksRUFBQUEsRUFBRSxFQUFFdEk7QUFGUSxDQUFkOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxcERBO0FBQ0E7QUFDQTtBQUNBLE1BQU13SSxXQUFXLEdBQUcsQ0FBQ0MsUUFBRCxFQUFXOVMsRUFBWCxLQUFrQjtBQUNwQyxTQUFPQSxFQUFFLENBQUMrQixPQUFILENBQVcrUSxRQUFYLE1BQXlCLElBQWhDO0FBQ0QsQ0FGRDtBQUdBO0FBQ0E7QUFDQTs7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsQ0FBQ0MsS0FBRCxFQUFRQyxXQUFSLEtBQXdCO0FBQ2pELFNBQU8sT0FBT0QsS0FBUCxLQUFpQixRQUFqQixJQUE2QkEsS0FBSyxDQUFDdEwsTUFBTixHQUFlLENBQTVDLEdBQ0h5SixNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUFFLGlCQUFhLElBQWY7QUFBcUIsS0FBRSxhQUFZNEIsS0FBTSxFQUFwQixHQUF3QjtBQUE3QyxHQUFkLEVBQW1FQyxXQUFuRSxDQURHLEdBQytFQSxXQUR0RjtBQUVELENBSEQ7O0FBSUEsTUFBTUMsWUFBWSxHQUFJQyxPQUFELElBQWE7QUFDaEMsTUFBSUEsT0FBTyxLQUFLL1MsU0FBaEIsRUFBMkI7QUFDekIsVUFBTWdULEtBQUssR0FBRzdMLEtBQUssQ0FBQzhMLE9BQU4sQ0FBY0YsT0FBZCxJQUF5QkEsT0FBekIsR0FBbUNBLE9BQU8sQ0FBQ0csS0FBUixDQUFjLEdBQWQsQ0FBakQ7QUFDQSxXQUFPRixLQUFLLENBQ1RyTSxNQURJLENBQ0kxTCxDQUFELElBQU9BLENBQUMsSUFBSSxJQURmLEVBRUprWSxHQUZJLENBRUNsWSxDQUFELElBQU9BLENBQUMsQ0FBQ21ZLElBQUYsRUFGUCxFQUdKek0sTUFISSxDQUdJMUwsQ0FBRCxJQUFPQSxDQUFDLEtBQUssRUFIaEIsQ0FBUDtBQUlEOztBQUNELFNBQU8sRUFBUDtBQUNELENBVEQ7O0FBVUEsTUFBTTRDLFdBQVcsR0FBSWtWLE9BQUQsSUFBYTtBQUMvQixRQUFNSSxHQUFHLEdBQUcsRUFBWjtBQUNBTCxFQUFBQSxZQUFZLENBQUNDLE9BQUQsQ0FBWixDQUFzQmhELE9BQXRCLENBQStCOVUsQ0FBRCxJQUFRa1ksR0FBRyxDQUFDbFksQ0FBRCxDQUFILEdBQVMsSUFBL0M7QUFDQSxTQUFPa1ksR0FBUDtBQUNELENBSkQ7O0FBS0EsTUFBTUUsTUFBTSxHQUFHLHNCQUFmOztBQUNBLE1BQU1DLE9BQU87QUFBQSxrSkFBRyxXQUFPQyxHQUFQLEVBQVlyRyxFQUFaLEVBQWdCekosU0FBaEIsRUFBMkI1RCxTQUEzQixFQUF5QztBQUN2RCxRQUFJMFQsR0FBRyxJQUFJLElBQVAsSUFBZUEsR0FBRyxDQUFDLENBQUQsQ0FBSCxLQUFXLEdBQTFCLElBQWlDLENBQUNGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZRCxHQUFaLENBQXRDLEVBQXdEO0FBQ3RELFlBQU1FLE1BQU0sR0FBR3pOLFFBQVEsQ0FBQ25FLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBZjs7QUFDQSxVQUFJNFIsTUFBSixFQUFZO0FBQ1YsWUFBSXZHLEVBQUUsSUFBSSxJQUFWLEVBQWdCO0FBQ2RBLFVBQUFBLEVBQUUsQ0FBQ3dHLGNBQUg7QUFDRDs7QUFDRCxlQUFPRCxNQUFNLENBQUNFLElBQVAsQ0FBWUosR0FBWixFQUFpQjlQLFNBQWpCLEVBQTRCNUQsU0FBNUIsQ0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxLQUFQO0FBQ0QsR0FYWTs7QUFBQSxrQkFBUHlULE9BQU87QUFBQTtBQUFBO0FBQUEsR0FBYiIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW5kZXgtYzRiMTE2NzYuanMiLCIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tbW9kYWwuZW50cnkuanMiLCIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS90aGVtZS03NjcwMzQxYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuLyoqXG4gKiBMb2dzIGEgd2FybmluZyB0byB0aGUgY29uc29sZSB3aXRoIGFuIElvbmljIHByZWZpeFxuICogdG8gaW5kaWNhdGUgdGhlIGxpYnJhcnkgdGhhdCBpcyB3YXJuaW5nIHRoZSBkZXZlbG9wZXIuXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgc3RyaW5nIG1lc3NhZ2UgdG8gYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICovXG5jb25zdCBwcmludElvbldhcm5pbmcgPSAobWVzc2FnZSwgLi4ucGFyYW1zKSA9PiB7XG4gIHJldHVybiBjb25zb2xlLndhcm4oYFtJb25pYyBXYXJuaW5nXTogJHttZXNzYWdlfWAsIC4uLnBhcmFtcyk7XG59O1xuLypcbiAqIExvZ3MgYW4gZXJyb3IgdG8gdGhlIGNvbnNvbGUgd2l0aCBhbiBJb25pYyBwcmVmaXhcbiAqIHRvIGluZGljYXRlIHRoZSBsaWJyYXJ5IHRoYXQgaXMgd2FybmluZyB0aGUgZGV2ZWxvcGVyLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIHN0cmluZyBtZXNzYWdlIHRvIGJlIGxvZ2dlZCB0byB0aGUgY29uc29sZS5cbiAqIEBwYXJhbSBwYXJhbXMgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBzdXBwbHkgdG8gdGhlIGNvbnNvbGUuZXJyb3IuXG4gKi9cbmNvbnN0IHByaW50SW9uRXJyb3IgPSAobWVzc2FnZSwgLi4ucGFyYW1zKSA9PiB7XG4gIHJldHVybiBjb25zb2xlLmVycm9yKGBbSW9uaWMgRXJyb3JdOiAke21lc3NhZ2V9YCwgLi4ucGFyYW1zKTtcbn07XG4vKipcbiAqIFByaW50cyBhbiBlcnJvciBpbmZvcm1pbmcgZGV2ZWxvcGVycyB0aGF0IGFuIGltcGxlbWVudGF0aW9uIHJlcXVpcmVzIGFuIGVsZW1lbnQgdG8gYmUgdXNlZFxuICogd2l0aGluIGEgc3BlY2lmaWMgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIGVsIFRoZSB3ZWIgY29tcG9uZW50IGVsZW1lbnQgdGhpcyBpcyByZXF1aXJpbmcgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0gdGFyZ2V0U2VsZWN0b3JzIFRoZSBzZWxlY3RvciBvciBzZWxlY3RvcnMgdGhhdCB3ZXJlIG5vdCBmb3VuZC5cbiAqL1xuY29uc3QgcHJpbnRSZXF1aXJlZEVsZW1lbnRFcnJvciA9IChlbCwgLi4udGFyZ2V0U2VsZWN0b3JzKSA9PiB7XG4gIHJldHVybiBjb25zb2xlLmVycm9yKGA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PiBtdXN0IGJlIHVzZWQgaW5zaWRlICR7dGFyZ2V0U2VsZWN0b3JzLmpvaW4oJyBvciAnKX0uYCk7XG59O1xuXG5leHBvcnQgeyBwcmludFJlcXVpcmVkRWxlbWVudEVycm9yIGFzIGEsIHByaW50SW9uRXJyb3IgYXMgYiwgcHJpbnRJb25XYXJuaW5nIGFzIHAgfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGUgYXMgY3JlYXRlRXZlbnQsIGMgYXMgd3JpdGVUYXNrLCBoLCBIIGFzIEhvc3QsIGkgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtOGU2OTI0NDUuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlLCBjIGFzIGNvbmZpZyB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWM3NGU0OTUxLmpzJztcbmltcG9ydCB7IGYgYXMgZmluZENsb3Nlc3RJb25Db250ZW50LCBpIGFzIGlzSW9uQ29udGVudCwgZCBhcyBkaXNhYmxlQ29udGVudFNjcm9sbFksIHIgYXMgcmVzZXRDb250ZW50U2Nyb2xsWSwgYSBhcyBmaW5kSW9uQ29udGVudCwgcCBhcyBwcmludElvbkNvbnRlbnRFcnJvck1zZyB9IGZyb20gJy4vaW5kZXgtZTZkMWE4YmUuanMnO1xuaW1wb3J0IHsgQyBhcyBDb3JlRGVsZWdhdGUsIGEgYXMgYXR0YWNoQ29tcG9uZW50LCBkIGFzIGRldGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLWMzMzA1YTI4LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0RWxlbWVudFJvb3QsIGwgYXMgY2xhbXAsIHIgYXMgcmFmLCBqIGFzIGluaGVyaXRBdHRyaWJ1dGVzIH0gZnJvbSAnLi9oZWxwZXJzLTNiMzkwZTQ4LmpzJztcbmltcG9ydCB7IEtFWUJPQVJEX0RJRF9PUEVOIH0gZnJvbSAnLi9rZXlib2FyZC0yODJiODFiOC5qcyc7XG5pbXBvcnQgeyBwIGFzIHByaW50SW9uV2FybmluZyB9IGZyb20gJy4vaW5kZXgtYzRiMTE2NzYuanMnO1xuaW1wb3J0IHsgdyBhcyB3aW4gfSBmcm9tICcuL2luZGV4LTMzZmZlYzI1LmpzJztcbmltcG9ydCB7IEcgYXMgR0VTVFVSRSwgQiBhcyBCQUNLRFJPUCwgZSBhcyBwcmVwYXJlT3ZlcmxheSwgZCBhcyBwcmVzZW50LCBoIGFzIGFjdGl2ZUFuaW1hdGlvbnMsIGYgYXMgZGlzbWlzcywgZyBhcyBldmVudE1ldGhvZCB9IGZyb20gJy4vb3ZlcmxheXMtNThmYThlNGQuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRDbGFzc01hcCB9IGZyb20gJy4vdGhlbWUtNzY3MDM0MWMuanMnO1xuaW1wb3J0IHsgZSBhcyBkZWVwUmVhZHkgfSBmcm9tICcuL2luZGV4LTI3YzdlNWM0LmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQW5pbWF0aW9uIH0gZnJvbSAnLi9hbmltYXRpb24tNGZmM2Y2MDMuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiB9IGZyb20gJy4vY3ViaWMtYmV6aWVyLWU3OGQxMzA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUdlc3R1cmUgfSBmcm9tICcuL2luZGV4LTQyMmI2ZTgzLmpzJztcbmltcG9ydCAnLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi00OTBkZjExNS5qcyc7XG5pbXBvcnQgJy4vZ2VzdHVyZS1jb250cm9sbGVyLTE3MDYwYjdjLmpzJztcblxudmFyIFN0eWxlO1xuKGZ1bmN0aW9uIChTdHlsZSkge1xuICBTdHlsZVtcIkRhcmtcIl0gPSBcIkRBUktcIjtcbiAgU3R5bGVbXCJMaWdodFwiXSA9IFwiTElHSFRcIjtcbiAgU3R5bGVbXCJEZWZhdWx0XCJdID0gXCJERUZBVUxUXCI7XG59KShTdHlsZSB8fCAoU3R5bGUgPSB7fSkpO1xuY29uc3QgU3RhdHVzQmFyID0ge1xuICBnZXRFbmdpbmUoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gd2luID09PSBudWxsIHx8IHdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luLkNhcGFjaXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzUGx1Z2luQXZhaWxhYmxlKCdTdGF0dXNCYXInKSkgJiYgKHdpbiA9PT0gbnVsbCB8fCB3aW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbi5DYXBhY2l0b3IuUGx1Z2lucy5TdGF0dXNCYXIpO1xuICB9LFxuICBzdXBwb3J0c0RlZmF1bHRTdGF0dXNCYXJTdHlsZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgLyoqXG4gICAgICogVGhlICdERUZBVUxUJyBzdGF0dXMgYmFyIHN0eWxlIHdhcyBhZGRlZFxuICAgICAqIHRvIHRoZSBAY2FwYWNpdG9yL3N0YXR1cy1iYXIgcGx1Z2luIGluIENhcGFjaXRvciAzLlxuICAgICAqIFBsdWdpbkhlYWRlcnMgaXMgb25seSBzdXBwb3J0ZWQgaW4gQ2FwYWNpdG9yIDMrLFxuICAgICAqIHNvIHdlIGNhbiB1c2UgdGhpcyB0byBkZXRlY3QgQ2FwYWNpdG9yIDMuXG4gICAgICovXG4gICAgcmV0dXJuICEhKChfYSA9IHdpbiA9PT0gbnVsbCB8fCB3aW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbi5DYXBhY2l0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5QbHVnaW5IZWFkZXJzKTtcbiAgfSxcbiAgc2V0U3R5bGUob3B0aW9ucykge1xuICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuZ2V0RW5naW5lKCk7XG4gICAgaWYgKCFlbmdpbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZW5naW5lLnNldFN0eWxlKG9wdGlvbnMpO1xuICB9LFxuICBnZXRTdHlsZTogYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuZ2V0RW5naW5lKCk7XG4gICAgaWYgKCFlbmdpbmUpIHtcbiAgICAgIHJldHVybiBTdHlsZS5EZWZhdWx0O1xuICAgIH1cbiAgICBjb25zdCB7IHN0eWxlIH0gPSBhd2FpdCBlbmdpbmUuZ2V0SW5mbygpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfSxcbn07XG5cbi8qKlxuICogVXNlIHkgPSBteCArIGIgdG9cbiAqIGZpZ3VyZSBvdXQgdGhlIGJhY2tkcm9wIHZhbHVlXG4gKiBhdCBhIHBhcnRpY3VsYXIgeCBjb29yZGluYXRlLiBUaGlzXG4gKiBpcyB1c2VmdWwgd2hlbiB0aGUgYmFja2Ryb3AgZG9lc1xuICogbm90IGJlZ2luIHRvIGZhZGUgaW4gdW50aWwgYWZ0ZXJcbiAqIHRoZSAwIGJyZWFrcG9pbnQuXG4gKi9cbmNvbnN0IGdldEJhY2tkcm9wVmFsdWVGb3JTaGVldCA9ICh4LCBiYWNrZHJvcEJyZWFrcG9pbnQpID0+IHtcbiAgLyoqXG4gICAqIFdlIHdpbGwgdXNlIHRoZXNlIHBvaW50czpcbiAgICogKGJhY2tkcm9wQnJlYWtwb2ludCwgMClcbiAgICogKG1heEJyZWFrcG9pbnQsIDEpXG4gICAqIFdlIGtub3cgdGhhdCBhdCB0aGUgYmVnaW5uaW5nIGJyZWFrcG9pbnQsXG4gICAqIHRoZSBiYWNrZHJvcCB3aWxsIGJlIGhpZGRlbi4gV2UgYWxzb1xuICAgKiBrbm93IHRoYXQgYXQgdGhlIG1heEJyZWFrcG9pbnQsIHRoZSBiYWNrZHJvcFxuICAgKiBtdXN0IGJlIGZ1bGx5IHZpc2libGUuIG1heEJyZWFrcG9pbnQgc2hvdWxkXG4gICAqIGFsd2F5cyBiZSAxIGV2ZW4gaWYgdGhlIG1heGltdW0gdmFsdWVcbiAgICogb2YgdGhlIGJyZWFrcG9pbnRzIGFycmF5IGlzIG5vdCAxIHNpbmNlXG4gICAqIHRoZSBhbmltYXRpb24gcnVucyBmcm9tIGEgcHJvZ3Jlc3Mgb2YgMFxuICAgKiB0byBhIHByb2dyZXNzIG9mIDEuXG4gICAqIG0gPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSlcbiAgICpcbiAgICogVGhpcyBpcyBzaW1wbGlmaWVkIGZyb206XG4gICAqIG0gPSAoMSAtIDApIC8gKG1heEJyZWFrcG9pbnQgLSBiYWNrZHJvcEJyZWFrcG9pbnQpXG4gICAqXG4gICAqIElmIHRoZSBiYWNrZHJvcEJyZWFrcG9pbnQgaXMgMSwgd2UgcmV0dXJuIDAgYXMgdGhlXG4gICAqIGJhY2tkcm9wIGlzIGNvbXBsZXRlbHkgaGlkZGVuLlxuICAgKlxuICAgKi9cbiAgaWYgKGJhY2tkcm9wQnJlYWtwb2ludCA9PT0gMSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IHNsb3BlID0gMSAvICgxIC0gYmFja2Ryb3BCcmVha3BvaW50KTtcbiAgLyoqXG4gICAqIEZyb20gaGVyZSwgY29tcHV0ZSBiIHdoaWNoIGlzXG4gICAqIHRoZSBiYWNrZHJvcCBvcGFjaXR5IGlmIHRoZSBvZmZzZXRcbiAgICogaXMgMC4gSWYgdGhlIGJhY2tkcm9wIGRvZXMgbm90XG4gICAqIGJlZ2luIHRvIGZhZGUgaW4gdW50aWwgYWZ0ZXIgdGhlXG4gICAqIDAgYnJlYWtwb2ludCwgdGhpcyBiIHZhbHVlIHdpbGwgYmVcbiAgICogbmVnYXRpdmUuIFRoaXMgaXMgZmluZSBhcyB3ZSBuZXZlciBwYXNzXG4gICAqIGIgZGlyZWN0bHkgaW50byB0aGUgYW5pbWF0aW9uIGtleWZyYW1lcy5cbiAgICogYiA9IHkgLSBteFxuICAgKiBVc2UgYSBrbm93biBwb2ludDogKGJhY2tkcm9wQnJlYWtwb2ludCwgMClcbiAgICogVGhpcyBpcyBzaW1wbGlmaWVkIGZyb206XG4gICAqIGIgPSAwIC0gKGJhY2tkcm9wQnJlYWtwb2ludCAqIHNsb3BlKVxuICAgKi9cbiAgY29uc3QgYiA9IC0oYmFja2Ryb3BCcmVha3BvaW50ICogc2xvcGUpO1xuICAvKipcbiAgICogRmluYWxseSwgd2UgY2FuIG5vdyBkZXRlcm1pbmUgdGhlXG4gICAqIGJhY2tkcm9wIG9mZnNldCBnaXZlbiBhbiBhcmJpdHJhcnlcbiAgICogZ2VzdHVyZSBvZmZzZXQuXG4gICAqL1xuICByZXR1cm4geCAqIHNsb3BlICsgYjtcbn07XG4vKipcbiAqIFRoZSB0YWJsZXQvZGVza3RvcCBjYXJkIG1vZGFsIGFjdGl2YXRlc1xuICogd2hlbiB0aGUgd2luZG93IHdpZHRoIGlzID49IDc2OC5cbiAqIEF0IHRoYXQgcG9pbnQsIHRoZSBwcmVzZW50aW5nIGVsZW1lbnRcbiAqIGlzIG5vdCB0cmFuc2Zvcm1lZCwgc28gd2UgZG8gbm90IG5lZWQgdG9cbiAqIGFkanVzdCB0aGUgc3RhdHVzIGJhciBjb2xvci5cbiAqXG4gKiBOb3RlOiBXZSBjaGVjayBzdXBwb3J0c0RlZmF1bHRTdGF0dXNCYXJTdHlsZSBzbyB0aGF0XG4gKiBDYXBhY2l0b3IgPD0gMiB1c2VycyBkbyBub3QgZ2V0IHRoZWlyIHN0YXR1cyBiYXJcbiAqIHN0dWNrIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZSBkdWUgdG8gYSBsYWNrIG9mXG4gKiBzdXBwb3J0IGZvciBTdHlsZS5EZWZhdWx0LlxuICovXG5jb25zdCBzZXRDYXJkU3RhdHVzQmFyRGFyayA9ICgpID0+IHtcbiAgaWYgKCF3aW4gfHwgd2luLmlubmVyV2lkdGggPj0gNzY4IHx8ICFTdGF0dXNCYXIuc3VwcG9ydHNEZWZhdWx0U3RhdHVzQmFyU3R5bGUoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBTdGF0dXNCYXIuc2V0U3R5bGUoeyBzdHlsZTogU3R5bGUuRGFyayB9KTtcbn07XG5jb25zdCBzZXRDYXJkU3RhdHVzQmFyRGVmYXVsdCA9IChkZWZhdWx0U3R5bGUgPSBTdHlsZS5EZWZhdWx0KSA9PiB7XG4gIGlmICghd2luIHx8IHdpbi5pbm5lcldpZHRoID49IDc2OCB8fCAhU3RhdHVzQmFyLnN1cHBvcnRzRGVmYXVsdFN0YXR1c0JhclN0eWxlKCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgU3RhdHVzQmFyLnNldFN0eWxlKHsgc3R5bGU6IGRlZmF1bHRTdHlsZSB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUNhbkRpc21pc3MgPSBhc3luYyAoZWwsIGFuaW1hdGlvbikgPT4ge1xuICAvKipcbiAgICogSWYgY2FuRGlzbWlzcyBpcyBub3QgYSBmdW5jdGlvblxuICAgKiB0aGVuIHdlIGNhbiByZXR1cm4gZWFybHkuIElmIGNhbkRpc21pc3MgaXMgYHRydWVgLFxuICAgKiB0aGVuIGNhbkRpc21pc3NCbG9ja3NHZXN0dXJlIGlzIGBmYWxzZWAgYXMgY2FuRGlzbWlzc1xuICAgKiB3aWxsIG5ldmVyIGludGVycnVwdCB0aGUgZ2VzdHVyZS4gQXMgYSByZXN1bHQsXG4gICAqIHRoaXMgY29kZSBibG9jayBpcyBuZXZlciByZWFjaGVkLiBJZiBjYW5EaXNtaXNzIGlzIGBmYWxzZWAsXG4gICAqIHRoZW4gd2UgbmV2ZXIgZGlzbWlzcy5cbiAgICovXG4gIGlmICh0eXBlb2YgZWwuY2FuRGlzbWlzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuICAvKipcbiAgICogUnVuIHRoZSBjYW5EaXNtaXNzIGNhbGxiYWNrLlxuICAgKiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAsXG4gICAqIHRoZW4gd2UgY2FuIHByb2NlZWQgd2l0aCBkaXNtaXNzLlxuICAgKi9cbiAgY29uc3Qgc2hvdWxkRGlzbWlzcyA9IGF3YWl0IGVsLmNhbkRpc21pc3ModW5kZWZpbmVkLCBHRVNUVVJFKTtcbiAgaWYgKCFzaG91bGREaXNtaXNzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qKlxuICAgKiBJZiBjYW5EaXNtaXNzIHJlc29sdmVkIGFmdGVyIHRoZSBzbmFwXG4gICAqIGJhY2sgYW5pbWF0aW9uIGZpbmlzaGVkLCB3ZSBjYW5cbiAgICogZGlzbWlzcyBpbW1lZGlhdGVseS5cbiAgICpcbiAgICogSWYgY2FuRGlzbWlzcyByZXNvbHZlZCBiZWZvcmUgdGhlIHNuYXBcbiAgICogYmFjayBhbmltYXRpb24gZmluaXNoZWQsIHdlIG5lZWQgdG9cbiAgICogd2FpdCB1bnRpbCB0aGUgc25hcCBiYWNrIGFuaW1hdGlvbiBpc1xuICAgKiBkb25lIGJlZm9yZSBkaXNtaXNzaW5nLlxuICAgKi9cbiAgaWYgKGFuaW1hdGlvbi5pc1J1bm5pbmcoKSkge1xuICAgIGFuaW1hdGlvbi5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICBlbC5kaXNtaXNzKHVuZGVmaW5lZCwgJ2hhbmRsZXInKTtcbiAgICB9LCB7IG9uZVRpbWVDYWxsYmFjazogdHJ1ZSB9KTtcbiAgfVxuICBlbHNlIHtcbiAgICBlbC5kaXNtaXNzKHVuZGVmaW5lZCwgJ2hhbmRsZXInKTtcbiAgfVxufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBsZXRzIHVzIHNpbXVsYXRlIGEgcmVhbGlzdGljIHNwcmluZy1saWtlIGFuaW1hdGlvblxuICogd2hlbiBzd2lwaW5nIGRvd24gb24gdGhlIG1vZGFsLlxuICogVGhlcmUgYXJlIHR3byBmb3JjZXMgdGhhdCB3ZSBuZWVkIHRvIHVzZSB0byBjb21wdXRlIHRoZSBzcHJpbmcgcGh5c2ljczpcbiAqXG4gKiAxLiBTdGlmZm5lc3MsIGs6IFRoaXMgaXMgYSBtZWFzdXJlIG9mIHJlc2lzdGFuY2UgYXBwbGllZCBhIHNwcmluZy5cbiAqIDIuIERhbXBlbmluZywgYzogVGhpcyB2YWx1ZSBoYXMgdGhlIGVmZmVjdCBvZiByZWR1Y2luZyBvciBwcmV2ZW50aW5nIG9zY2lsbGF0aW9uLlxuICpcbiAqIFVzaW5nIHRoZXNlIHR3byB2YWx1ZXMsIHdlIGNhbiBjYWxjdWxhdGUgdGhlIFNwcmluZyBGb3JjZSBhbmQgdGhlIERhbXBlbmluZyBGb3JjZVxuICogdG8gY29tcHV0ZSB0aGUgdG90YWwgZm9yY2UgYXBwbGllZCB0byBhIHNwcmluZy5cbiAqXG4gKiBTcHJpbmcgRm9yY2U6IFRoaXMgZm9yY2UgcHVsbHMgYSBzcHJpbmcgYmFjayBpbnRvIGl0cyBlcXVpbGlicml1bSBwb3NpdGlvbi5cbiAqIEhvb2tlJ3MgTGF3IHRlbGxzIHVzIHRoYXQgdGhhdCBzcHJpbmcgZm9yY2UgKEZTKSA9IGtYLlxuICogayBpcyB0aGUgc3RpZmZuZXNzIG9mIGEgc3ByaW5nLCBhbmQgWCBpcyB0aGUgZGlzcGxhY2VtZW50IG9mIHRoZSBzcHJpbmcgZnJvbSBpdHNcbiAqIGVxdWlsaWJyaXVtIHBvc2l0aW9uLiBJbiB0aGlzIGNhc2UsIGl0IGlzIHRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIGZyZWUgZW5kXG4gKiBvZiBhIHNwcmluZyB3YXMgZGlzcGxhY2VkIChzdHJldGNoZWQvcHVzaGVkKSBmcm9tIGl0cyBcInJlbGF4ZWRcIiBwb3NpdGlvbi5cbiAqXG4gKiBEYW1wZW5pbmcgRm9yY2U6IFRoaXMgZm9yY2Ugc2xvd3MgZG93biBtb3Rpb24uIFdpdGhvdXQgaXQsIGEgc3ByaW5nIHdvdWxkIG9zY2lsbGF0ZSBmb3JldmVyLlxuICogVGhlIGRhbXBlbmluZyBmb3JjZSwgRkQsIGNhbiBiZSBmb3VuZCB2aWEgdGhpcyBmb3JtdWxhOiBGRCA9IC1jdlxuICogd2hlcmUgYyB0aGUgZGFtcGVuaW5nIHZhbHVlIGFuZCB2IGlzIHZlbG9jaXR5LlxuICpcbiAqIFRoZXJlZm9yZSwgdGhlIHJlc3VsdGluZyBmb3JjZSB0aGF0IGlzIGV4ZXJ0ZWQgb24gdGhlIGJsb2NrIGlzOlxuICogRiA9IEZTICsgRkQgPSAta1ggLSBjdlxuICpcbiAqIE5ld3RvbidzIDJuZCBMYXcgdGVsbHMgdXMgdGhhdCBGID0gbWE6XG4gKiBtYSA9IC1rWCAtIGN2LlxuICpcbiAqIEZvciBJb25pYydzIHB1cnBvc2VzLCB3ZSBjYW4gYXNzdW1lIHRoYXQgbSA9IDE6XG4gKiBhID0gLWtYIC0gY3ZcbiAqXG4gKiBJbWFnaW5lIGEgYmxvY2sgYXR0YWNoZWQgdG8gdGhlIGVuZCBvZiBhIHNwcmluZy4gQXQgZXF1aWxpYnJpdW1cbiAqIHRoZSBibG9jayBpcyBhdCBwb3NpdGlvbiB4ID0gMS5cbiAqIFByZXNzaW5nIG9uIHRoZSBibG9jayBtb3ZlcyBpdCB0byBwb3NpdGlvbiB4ID0gMDtcbiAqIFNvLCB0byBjYWxjdWxhdGUgdGhlIGRpc3BsYWNlbWVudCwgd2UgbmVlZCB0byB0YWtlIHRoZVxuICogY3VycmVudCBwb3NpdGlvbiBhbmQgc3VidHJhY3QgdGhlIHByZXZpb3VzIHBvc2l0aW9uIGZyb20gaXQuXG4gKiBYID0geCAtIHgwID0gMCAtIDEgPSAtMS5cbiAqXG4gKiBGb3IgSW9uaWMncyBwdXJwb3Nlcywgd2UgYXJlIG9ubHkgcHVzaGluZyBvbiB0aGUgc3ByaW5nIG1vZGFsXG4gKiBzbyB3ZSBoYXZlIGEgbWF4IHBvc2l0aW9uIG9mIDEuXG4gKiBBcyBhIHJlc3VsdCwgd2UgY2FuIGV4cGFuZCBkaXNwbGFjZW1lbnQgdG8gdGhpcyBmb3JtdWxhOlxuICogWCA9IHggLSAxXG4gKlxuICogYSA9IC1rKHggLSAxKSAtIGN2XG4gKlxuICogV2UgY2FuIHJlcHJlc2VudCB0aGUgbW90aW9uIG9mIHNvbWV0aGluZyBhcyBhIGZ1bmN0aW9uIG9mIHRpbWU6IGYodCkgPSB4LlxuICogVGhlIGRlcml2YXRpdmUgb2YgcG9zaXRpb24gZ2l2ZXMgdXMgdGhlIHZlbG9jaXR5OiBmJyh0KVxuICogVGhlIGRlcml2YXRpdmUgb2YgdGhlIHZlbG9jaXR5IGdpdmVzIHVzIHRoZSBhY2NlbGVyYXRpb246IGYnJyh0KVxuICpcbiAqIFdlIGNhbiBzdWJzdGl0dXRlIHRoZSBmb3JtdWxhIGFib3ZlIHdpdGggdGhlc2UgdmFsdWVzOlxuICpcbiAqIGZcIih0KSA9IC1rICogKGYodCkgLSAxKSAtIGMgKiBmJyh0KVxuICpcbiAqIFRoaXMgaXMgY2FsbGVkIGEgZGlmZmVyZW50aWFsIGVxdWF0aW9uLlxuICpcbiAqIFdlIGtub3cgdGhhdCBhdCB0ID0gMCwgd2UgYXJlIGF0IHggPSAwIGJlY2F1c2UgdGhlIG1vZGFsIGRvZXMgbm90IG1vdmU6IGYoMCkgPSAwXG4gKiBUaGlzIG1lYW5zIG91ciB2ZWxvY2l0eSBpcyBhbHNvIHplcm86IGYnKDApID0gMC5cbiAqXG4gKiBXZSBjYW4gY2hlYXQgYSBiaXQgYW5kIHBsdWcgdGhlIGZvcm11bGEgaW50byBXb2xmcmFtIEFscGhhLlxuICogSG93ZXZlciwgd2UgbmVlZCB0byBwaWNrIHN0aWZmbmVzcyBhbmQgZGFtcGVuaW5nIHZhbHVlczpcbiAqIGsgPSAwLjU3XG4gKiBjID0gMTVcbiAqXG4gKiBJIHBpY2tlZCB0aGVzZSBhcyB0aGV5IGFyZSBmYWlybHkgY2xvc2UgdG8gbmF0aXZlIGlPUydzIHNwcmluZyBlZmZlY3RcbiAqIHdpdGggdGhlIG1vZGFsLlxuICpcbiAqIFdoYXQgd2UgcGx1ZyBpbiBpcyB0aGlzOiBmKDApID0gMDsgZicoMCkgPSAwOyBmJycodCkgPSAtMC41NyhmKHQpIC0gMSkgLSAxNWYnKHQpXG4gKlxuICogVGhlIHJlc3VsdCBpcyBhIGZvcm11bGEgdGhhdCBsZXRzIHVzIGNhbGN1bGF0ZSB0aGUgYWNjZWxlcmF0aW9uXG4gKiBmb3IgYSBnaXZlbiB0aW1lIHQuXG4gKiBOb3RlOiBUaGlzIGlzIHRoZSBhcHByb3hpbWF0ZSBmb3JtIG9mIHRoZSBzb2x1dGlvbi4gV29sZnJhbSBBbHBoYSB3aWxsXG4gKiBnaXZlIHlvdSBhIGNvbXBsZXggZGlmZmVyZW50aWFsIGVxdWF0aW9uIHRvby5cbiAqL1xuY29uc3QgY2FsY3VsYXRlU3ByaW5nU3RlcCA9ICh0KSA9PiB7XG4gIHJldHVybiAwLjAwMjU1Mjc1ICogMi43MTgyOCAqKiAoLTE0Ljk2MTkgKiB0KSAtIDEuMDAyNTUgKiAyLjcxODI4ICoqICgtMC4wMzgwOTY4ICogdCkgKyAxO1xufTtcblxuLy8gRGVmYXVsdHMgZm9yIHRoZSBjYXJkIHN3aXBlIGFuaW1hdGlvblxuY29uc3QgU3dpcGVUb0Nsb3NlRGVmYXVsdHMgPSB7XG4gIE1JTl9QUkVTRU5USU5HX1NDQUxFOiAwLjkzLFxufTtcbmNvbnN0IGNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUgPSAoZWwsIGFuaW1hdGlvbiwgc3RhdHVzQmFyU3R5bGUsIG9uRGlzbWlzcykgPT4ge1xuICAvKipcbiAgICogVGhlIHN0ZXAgdmFsdWUgYXQgd2hpY2ggYSBjYXJkIG1vZGFsXG4gICAqIGlzIGVsaWdpYmxlIGZvciBkaXNtaXNzaW5nIHZpYSBnZXN0dXJlLlxuICAgKi9cbiAgY29uc3QgRElTTUlTU19USFJFU0hPTEQgPSAwLjU7XG4gIGNvbnN0IGhlaWdodCA9IGVsLm9mZnNldEhlaWdodDtcbiAgbGV0IGlzT3BlbiA9IGZhbHNlO1xuICBsZXQgY2FuRGlzbWlzc0Jsb2Nrc0dlc3R1cmUgPSBmYWxzZTtcbiAgbGV0IGNvbnRlbnRFbCA9IG51bGw7XG4gIGxldCBzY3JvbGxFbCA9IG51bGw7XG4gIGNvbnN0IGNhbkRpc21pc3NNYXhTdGVwID0gMC4yO1xuICBsZXQgaW5pdGlhbFNjcm9sbFkgPSB0cnVlO1xuICBsZXQgbGFzdFN0ZXAgPSAwO1xuICBjb25zdCBnZXRTY3JvbGxZID0gKCkgPT4ge1xuICAgIGlmIChjb250ZW50RWwgJiYgaXNJb25Db250ZW50KGNvbnRlbnRFbCkpIHtcbiAgICAgIHJldHVybiBjb250ZW50RWwuc2Nyb2xsWTtcbiAgICAgIC8qKlxuICAgICAgICogQ3VzdG9tIHNjcm9sbCBjb250YWluZXJzIGFyZSBpbnRlbmRlZCB0byBiZVxuICAgICAgICogdXNlZCB3aXRoIHZpcnR1YWwgc2Nyb2xsaW5nLCBzbyB3ZSBhc3N1bWVcbiAgICAgICAqIHRoZXJlIGlzIHNjcm9sbGluZyBpbiB0aGlzIGNhc2UuXG4gICAgICAgKi9cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNhblN0YXJ0ID0gKGRldGFpbCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGRldGFpbC5ldmVudC50YXJnZXQ7XG4gICAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fCAhdGFyZ2V0LmNsb3Nlc3QpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgc3dpcGluZyBvbiB0aGUgY29udGVudCxcbiAgICAgKiBzd2lwaW5nIHNob3VsZCBvbmx5IGJlIHBvc3NpYmxlIGlmXG4gICAgICogdGhlIGNvbnRlbnQgaXMgc2Nyb2xsZWQgYWxsIHRoZSB3YXlcbiAgICAgKiB0byB0aGUgdG9wIHNvIHRoYXQgd2UgZG8gbm90IGludGVyZmVyZVxuICAgICAqIHdpdGggc2Nyb2xsaW5nLlxuICAgICAqXG4gICAgICogV2UgY2Fubm90IGFzc3VtZSB0aGF0IHRoZSBgaW9uLWNvbnRlbnRgXG4gICAgICogdGFyZ2V0IHdpbGwgcmVtYWluIGNvbnNpc3RlbnQgYmV0d2VlblxuICAgICAqIHN3aXBlcy4gRm9yIGV4YW1wbGUsIHdoZW4gdXNpbmdcbiAgICAgKiBpb24tbmF2IHdpdGhpbiBhIGNhcmQgbW9kYWwgaXQgaXNcbiAgICAgKiBwb3NzaWJsZSB0byBzd2lwZSwgcHVzaCBhIHZpZXcsIGFuZCB0aGVuXG4gICAgICogc3dpcGUgYWdhaW4uIFRoZSB0YXJnZXQgY29udGVudCB3aWxsIG5vdFxuICAgICAqIGJlIHRoZSBzYW1lIGJldHdlZW4gc3dpcGVzLlxuICAgICAqL1xuICAgIGNvbnRlbnRFbCA9IGZpbmRDbG9zZXN0SW9uQ29udGVudCh0YXJnZXQpO1xuICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGNhcmQgc2hvdWxkIG5ldmVyIHN3aXBlIHRvIGNsb3NlXG4gICAgICAgKiBvbiB0aGUgY29udGVudCB3aXRoIGEgcmVmcmVzaGVyLlxuICAgICAgICogTm90ZTogV2UgY2Fubm90IHNvbHZlIHRoaXMgYnkgbWFraW5nIHRoZVxuICAgICAgICogc3dpcGVUb0Nsb3NlIGdlc3R1cmUgaGF2ZSBhIGhpZ2hlciBwcmlvcml0eVxuICAgICAgICogdGhhbiB0aGUgcmVmcmVzaGVyIGdlc3R1cmUgYXMgdGhlIGlPUyBuYXRpdmVcbiAgICAgICAqIHJlZnJlc2ggZ2VzdHVyZSB1c2VzIGEgc2Nyb2xsIGxpc3RlbmVyIGluXG4gICAgICAgKiBhZGRpdGlvbiB0byBhIGdlc3R1cmUuXG4gICAgICAgKlxuICAgICAgICogTm90ZTogRG8gbm90IHVzZSBnZXRTY3JvbGxFbGVtZW50IGhlcmVcbiAgICAgICAqIGJlY2F1c2Ugd2UgbmVlZCB0aGlzIHRvIGJlIGEgc3luY2hyb25vdXNcbiAgICAgICAqIG9wZXJhdGlvbiwgYW5kIGdldFNjcm9sbEVsZW1lbnQgaXNcbiAgICAgICAqIGFzeW5jaHJvbm91cy5cbiAgICAgICAqL1xuICAgICAgaWYgKGlzSW9uQ29udGVudChjb250ZW50RWwpKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChjb250ZW50RWwpO1xuICAgICAgICBzY3JvbGxFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLmlubmVyLXNjcm9sbCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNjcm9sbEVsID0gY29udGVudEVsO1xuICAgICAgfVxuICAgICAgY29uc3QgaGFzUmVmcmVzaGVySW5Db250ZW50ID0gISFjb250ZW50RWwucXVlcnlTZWxlY3RvcignaW9uLXJlZnJlc2hlcicpO1xuICAgICAgcmV0dXJuICFoYXNSZWZyZXNoZXJJbkNvbnRlbnQgJiYgc2Nyb2xsRWwuc2Nyb2xsVG9wID09PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXJkIHNob3VsZCBiZSBzd2lwZWFibGUgb24gYWxsXG4gICAgICogcGFydHMgb2YgdGhlIG1vZGFsIGV4Y2VwdCBmb3IgdGhlIGZvb3Rlci5cbiAgICAgKi9cbiAgICBjb25zdCBmb290ZXIgPSB0YXJnZXQuY2xvc2VzdCgnaW9uLWZvb3RlcicpO1xuICAgIGlmIChmb290ZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IG9uU3RhcnQgPSAoZGV0YWlsKSA9PiB7XG4gICAgY29uc3QgeyBkZWx0YVkgfSA9IGRldGFpbDtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluaXRpYWwgc2Nyb2xsWSB2YWx1ZSBzb1xuICAgICAqIHRoYXQgd2UgY2FuIGNvcnJlY3RseSByZXNldCB0aGUgc2Nyb2xsWVxuICAgICAqIHByb3Agd2hlbiB0aGUgZ2VzdHVyZSBlbmRzLlxuICAgICAqL1xuICAgIGluaXRpYWxTY3JvbGxZID0gZ2V0U2Nyb2xsWSgpO1xuICAgIC8qKlxuICAgICAqIElmIGNhbkRpc21pc3MgaXMgYW55dGhpbmcgb3RoZXIgdGhhbiBgdHJ1ZWBcbiAgICAgKiB0aGVuIHVzZXJzIHNob3VsZCBiZSBhYmxlIHRvIHN3aXBlIGRvd25cbiAgICAgKiB1bnRpbCBhIHRocmVzaG9sZCBpcyBoaXQuIEF0IHRoYXQgcG9pbnQsXG4gICAgICogdGhlIGNhcmQgbW9kYWwgc2hvdWxkIG5vdCBwcm9jZWVkIGFueSBmdXJ0aGVyLlxuICAgICAqIFRPRE8gKEZXLTkzNylcbiAgICAgKiBSZW1vdmUgdW5kZWZpbmVkIGNoZWNrXG4gICAgICovXG4gICAgY2FuRGlzbWlzc0Jsb2Nrc0dlc3R1cmUgPSBlbC5jYW5EaXNtaXNzICE9PSB1bmRlZmluZWQgJiYgZWwuY2FuRGlzbWlzcyAhPT0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgcHVsbGluZyBkb3duLCB0aGVuXG4gICAgICogaXQgaXMgcG9zc2libGUgd2UgYXJlIHB1bGxpbmcgb24gdGhlXG4gICAgICogY29udGVudC4gV2UgZG8gbm90IHdhbnQgc2Nyb2xsaW5nIHRvXG4gICAgICogaGFwcGVuIGF0IHRoZSBzYW1lIHRpbWUgYXMgdGhlIGdlc3R1cmUuXG4gICAgICovXG4gICAgaWYgKGRlbHRhWSA+IDAgJiYgY29udGVudEVsKSB7XG4gICAgICBkaXNhYmxlQ29udGVudFNjcm9sbFkoY29udGVudEVsKTtcbiAgICB9XG4gICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgaXNPcGVuID8gMSA6IDApO1xuICB9O1xuICBjb25zdCBvbk1vdmUgPSAoZGV0YWlsKSA9PiB7XG4gICAgY29uc3QgeyBkZWx0YVkgfSA9IGRldGFpbDtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgcHVsbGluZyBkb3duLCB0aGVuXG4gICAgICogaXQgaXMgcG9zc2libGUgd2UgYXJlIHB1bGxpbmcgb24gdGhlXG4gICAgICogY29udGVudC4gV2UgZG8gbm90IHdhbnQgc2Nyb2xsaW5nIHRvXG4gICAgICogaGFwcGVuIGF0IHRoZSBzYW1lIHRpbWUgYXMgdGhlIGdlc3R1cmUuXG4gICAgICovXG4gICAgaWYgKGRlbHRhWSA+IDAgJiYgY29udGVudEVsKSB7XG4gICAgICBkaXNhYmxlQ29udGVudFNjcm9sbFkoY29udGVudEVsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgd2UgYXJlIHN3aXBpbmcgb24gdGhlIGNvbnRlbnRcbiAgICAgKiB0aGVuIHRoZSBzd2lwZSBnZXN0dXJlIHNob3VsZCBvbmx5XG4gICAgICogaGFwcGVuIGlmIHdlIGFyZSBwdWxsaW5nIGRvd24uXG4gICAgICpcbiAgICAgKiBIb3dldmVyLCBpZiB3ZSBwdWxsIHVwIGFuZFxuICAgICAqIHRoZW4gZG93biBzdWNoIHRoYXQgdGhlIHNjcm9sbCBwb3NpdGlvblxuICAgICAqIHJldHVybnMgdG8gMCwgd2Ugc2hvdWxkIGJlIGFibGUgdG8gc3dpcGVcbiAgICAgKiB0aGUgY2FyZC5cbiAgICAgKi9cbiAgICBjb25zdCBzdGVwID0gZGV0YWlsLmRlbHRhWSAvIGhlaWdodDtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB1c2VyIGlzIHN3aXBpbmcgZG93biBhbmRcbiAgICAgKiBpZiB3ZSBoYXZlIGEgY2FuRGlzbWlzcyB2YWx1ZSB0aGF0XG4gICAgICogc2hvdWxkIGJsb2NrIHRoZSBnZXN0dXJlIGZyb21cbiAgICAgKiBwcm9jZWVkaW5nLFxuICAgICAqL1xuICAgIGNvbnN0IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA9IHN0ZXAgPj0gMCAmJiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgYmxvY2tpbmcgdGhlIGdlc3R1cmUgZnJvbSBkaXNtaXNzaW5nLFxuICAgICAqIHNldCB0aGUgbWF4IHN0ZXAgdmFsdWUgc28gdGhhdCB0aGUgc2hlZXQgY2Fubm90IGJlXG4gICAgICogY29tcGxldGVseSBoaWRkZW4uXG4gICAgICovXG4gICAgY29uc3QgbWF4U3RlcCA9IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA/IGNhbkRpc21pc3NNYXhTdGVwIDogMC45OTk5O1xuICAgIC8qKlxuICAgICAqIElmIHdlIGFyZSBibG9ja2luZyB0aGUgZ2VzdHVyZSBmcm9tXG4gICAgICogZGlzbWlzc2luZywgY2FsY3VsYXRlIHRoZSBzcHJpbmcgbW9kaWZpZXIgdmFsdWVcbiAgICAgKiB0aGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHN0YXJ0aW5nIGJyZWFrcG9pbnRcbiAgICAgKiB2YWx1ZSB0byBnaXZlIHRoZSBnZXN0dXJlIGEgc3ByaW5nLWxpa2UgZmVlbGluZy5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIHN0YXJ0aW5nIGJyZWFrcG9pbnQgaXMgYWx3YXlzIDAsXG4gICAgICogc28gd2Ugb21pdCBhZGRpbmcgMCB0byB0aGUgcmVzdWx0LlxuICAgICAqL1xuICAgIGNvbnN0IHByb2Nlc3NlZFN0ZXAgPSBpc0F0dGVtcHRpbmdEaXNtaXNzV2l0aENhbkRpc21pc3MgPyBjYWxjdWxhdGVTcHJpbmdTdGVwKHN0ZXAgLyBtYXhTdGVwKSA6IHN0ZXA7XG4gICAgY29uc3QgY2xhbXBlZFN0ZXAgPSBjbGFtcCgwLjAwMDEsIHByb2Nlc3NlZFN0ZXAsIG1heFN0ZXApO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0ZXAoY2xhbXBlZFN0ZXApO1xuICAgIC8qKlxuICAgICAqIFdoZW4gc3dpcGluZyBkb3duIGhhbGYgd2F5LCB0aGUgc3RhdHVzIGJhciBzdHlsZVxuICAgICAqIHNob3VsZCBiZSByZXNldCB0byBpdHMgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIFdlIHRyYWNrIGxhc3RTdGVwIHNvIHRoYXQgd2UgZG8gbm90IGZpcmUgdGhlc2VcbiAgICAgKiBmdW5jdGlvbnMgb24gZXZlcnkgb25Nb3ZlLCBvbmx5IHdoZW4gdGhlIHVzZXIgaGFzXG4gICAgICogY3Jvc3NlZCBhIGNlcnRhaW4gdGhyZXNob2xkLlxuICAgICAqL1xuICAgIGlmIChjbGFtcGVkU3RlcCA+PSBESVNNSVNTX1RIUkVTSE9MRCAmJiBsYXN0U3RlcCA8IERJU01JU1NfVEhSRVNIT0xEKSB7XG4gICAgICBzZXRDYXJkU3RhdHVzQmFyRGVmYXVsdChzdGF0dXNCYXJTdHlsZSk7XG4gICAgICAvKipcbiAgICAgICAqIEhvd2V2ZXIsIGlmIHdlIHN3aXBlIGJhY2sgdXAsIHRoZW4gdGhlXG4gICAgICAgKiBzdGF0dXMgYmFyIHN0eWxlIHNob3VsZCBiZSBzZXQgdG8gaGF2ZSBsaWdodFxuICAgICAgICogdGV4dCBvbiBhIGRhcmsgYmFja2dyb3VuZC5cbiAgICAgICAqL1xuICAgIH1cbiAgICBlbHNlIGlmIChjbGFtcGVkU3RlcCA8IERJU01JU1NfVEhSRVNIT0xEICYmIGxhc3RTdGVwID49IERJU01JU1NfVEhSRVNIT0xEKSB7XG4gICAgICBzZXRDYXJkU3RhdHVzQmFyRGFyaygpO1xuICAgIH1cbiAgICBsYXN0U3RlcCA9IGNsYW1wZWRTdGVwO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChkZXRhaWwpID0+IHtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGRldGFpbC52ZWxvY2l0eVk7XG4gICAgY29uc3Qgc3RlcCA9IGRldGFpbC5kZWx0YVkgLyBoZWlnaHQ7XG4gICAgY29uc3QgaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzID0gc3RlcCA+PSAwICYmIGNhbkRpc21pc3NCbG9ja3NHZXN0dXJlO1xuICAgIGNvbnN0IG1heFN0ZXAgPSBpc0F0dGVtcHRpbmdEaXNtaXNzV2l0aENhbkRpc21pc3MgPyBjYW5EaXNtaXNzTWF4U3RlcCA6IDAuOTk5OTtcbiAgICBjb25zdCBwcm9jZXNzZWRTdGVwID0gaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzID8gY2FsY3VsYXRlU3ByaW5nU3RlcChzdGVwIC8gbWF4U3RlcCkgOiBzdGVwO1xuICAgIGNvbnN0IGNsYW1wZWRTdGVwID0gY2xhbXAoMC4wMDAxLCBwcm9jZXNzZWRTdGVwLCBtYXhTdGVwKTtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSAoZGV0YWlsLmRlbHRhWSArIHZlbG9jaXR5ICogMTAwMCkgLyBoZWlnaHQ7XG4gICAgLyoqXG4gICAgICogSWYgY2FuRGlzbWlzcyBibG9ja3NcbiAgICAgKiB0aGUgc3dpcGUgZ2VzdHVyZSwgdGhlbiB0aGVcbiAgICAgKiBhbmltYXRpb24gY2FuIG5ldmVyIGNvbXBsZXRlIHVudGlsXG4gICAgICogY2FuRGlzbWlzcyBpcyBjaGVja2VkLlxuICAgICAqL1xuICAgIGNvbnN0IHNob3VsZENvbXBsZXRlID0gIWlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyAmJiB0aHJlc2hvbGQgPj0gRElTTUlTU19USFJFU0hPTEQ7XG4gICAgbGV0IG5ld1N0ZXBWYWx1ZSA9IHNob3VsZENvbXBsZXRlID8gLTAuMDAxIDogMC4wMDE7XG4gICAgaWYgKCFzaG91bGRDb21wbGV0ZSkge1xuICAgICAgYW5pbWF0aW9uLmVhc2luZygnY3ViaWMtYmV6aWVyKDEsIDAsIDAuNjgsIDAuMjgpJyk7XG4gICAgICBuZXdTdGVwVmFsdWUgKz0gZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24oWzAsIDBdLCBbMSwgMF0sIFswLjY4LCAwLjI4XSwgWzEsIDFdLCBjbGFtcGVkU3RlcClbMF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYW5pbWF0aW9uLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzIsIDAuNzIsIDAsIDEpJyk7XG4gICAgICBuZXdTdGVwVmFsdWUgKz0gZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24oWzAsIDBdLCBbMC4zMiwgMC43Ml0sIFswLCAxXSwgWzEsIDFdLCBjbGFtcGVkU3RlcClbMF07XG4gICAgfVxuICAgIGNvbnN0IGR1cmF0aW9uID0gc2hvdWxkQ29tcGxldGVcbiAgICAgID8gY29tcHV0ZUR1cmF0aW9uKHN0ZXAgKiBoZWlnaHQsIHZlbG9jaXR5KVxuICAgICAgOiBjb21wdXRlRHVyYXRpb24oKDEgLSBjbGFtcGVkU3RlcCkgKiBoZWlnaHQsIHZlbG9jaXR5KTtcbiAgICBpc09wZW4gPSBzaG91bGRDb21wbGV0ZTtcbiAgICBnZXN0dXJlLmVuYWJsZShmYWxzZSk7XG4gICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgcmVzZXRDb250ZW50U2Nyb2xsWShjb250ZW50RWwsIGluaXRpYWxTY3JvbGxZKTtcbiAgICB9XG4gICAgYW5pbWF0aW9uXG4gICAgICAub25GaW5pc2goKCkgPT4ge1xuICAgICAgaWYgKCFzaG91bGRDb21wbGV0ZSkge1xuICAgICAgICBnZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KVxuICAgICAgLnByb2dyZXNzRW5kKHNob3VsZENvbXBsZXRlID8gMSA6IDAsIG5ld1N0ZXBWYWx1ZSwgZHVyYXRpb24pO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBjYW5EaXNtaXNzIHZhbHVlIGJsb2NrZWQgdGhlIGdlc3R1cmVcbiAgICAgKiBmcm9tIHByb2NlZWRpbmcsIHRoZW4gd2Ugc2hvdWxkIGlnbm9yZSB3aGF0ZXZlclxuICAgICAqIHNob3VsZENvbXBsZXRlIGlzLiBXaGV0aGVyIG9yIG5vdCB0aGUgbW9kYWxcbiAgICAgKiBhbmltYXRpb24gc2hvdWxkIGNvbXBsZXRlIGlzIG5vdyBkZXRlcm1pbmVkIGJ5XG4gICAgICogY2FuRGlzbWlzcy5cbiAgICAgKlxuICAgICAqIElmIHRoZSB1c2VyIHN3aXBlZCA+MjUlIG9mIHRoZSB3YXlcbiAgICAgKiB0byB0aGUgbWF4IHN0ZXAsIHRoZW4gd2Ugc2hvdWxkXG4gICAgICogY2hlY2sgY2FuRGlzbWlzcy4gMjUlIHdhcyBjaG9zZW5cbiAgICAgKiB0byBhdm9pZCBhY2NpZGVudGFsIHN3aXBlcy5cbiAgICAgKi9cbiAgICBpZiAoaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzICYmIGNsYW1wZWRTdGVwID4gbWF4U3RlcCAvIDQpIHtcbiAgICAgIGhhbmRsZUNhbkRpc21pc3MoZWwsIGFuaW1hdGlvbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNob3VsZENvbXBsZXRlKSB7XG4gICAgICBvbkRpc21pc3MoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdlc3R1cmUgPSBjcmVhdGVHZXN0dXJlKHtcbiAgICBlbCxcbiAgICBnZXN0dXJlTmFtZTogJ21vZGFsU3dpcGVUb0Nsb3NlJyxcbiAgICBnZXN0dXJlUHJpb3JpdHk6IDM5LFxuICAgIGRpcmVjdGlvbjogJ3knLFxuICAgIHRocmVzaG9sZDogMTAsXG4gICAgY2FuU3RhcnQsXG4gICAgb25TdGFydCxcbiAgICBvbk1vdmUsXG4gICAgb25FbmQsXG4gIH0pO1xuICByZXR1cm4gZ2VzdHVyZTtcbn07XG5jb25zdCBjb21wdXRlRHVyYXRpb24gPSAocmVtYWluaW5nLCB2ZWxvY2l0eSkgPT4ge1xuICByZXR1cm4gY2xhbXAoNDAwLCByZW1haW5pbmcgLyBNYXRoLmFicyh2ZWxvY2l0eSAqIDEuMSksIDUwMCk7XG59O1xuXG5jb25zdCBjcmVhdGVTaGVldEVudGVyQW5pbWF0aW9uID0gKG9wdHMpID0+IHtcbiAgY29uc3QgeyBjdXJyZW50QnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50IH0gPSBvcHRzO1xuICAvKipcbiAgICogSWYgdGhlIGJhY2tkcm9wQnJlYWtwb2ludCBpcyB1bmRlZmluZWQsIHRoZW4gdGhlIGJhY2tkcm9wXG4gICAqIHNob3VsZCBhbHdheXMgZmFkZSBpbi4gSWYgdGhlIGJhY2tkcm9wQnJlYWtwb2ludCBjYW1lIGJlZm9yZSB0aGVcbiAgICogY3VycmVudCBicmVha3BvaW50LCB0aGVuIHRoZSBiYWNrZHJvcCBzaG91bGQgYmUgZmFkaW5nIGluLlxuICAgKi9cbiAgY29uc3Qgc2hvdWxkU2hvd0JhY2tkcm9wID0gYmFja2Ryb3BCcmVha3BvaW50ID09PSB1bmRlZmluZWQgfHwgYmFja2Ryb3BCcmVha3BvaW50IDwgY3VycmVudEJyZWFrcG9pbnQ7XG4gIGNvbnN0IGluaXRpYWxCYWNrZHJvcCA9IHNob3VsZFNob3dCYWNrZHJvcCA/IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtjdXJyZW50QnJlYWtwb2ludH0pYCA6ICcwJztcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ2JhY2tkcm9wQW5pbWF0aW9uJykuZnJvbVRvKCdvcGFjaXR5JywgMCwgaW5pdGlhbEJhY2tkcm9wKTtcbiAgaWYgKHNob3VsZFNob3dCYWNrZHJvcCkge1xuICAgIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyxcbiAgICB9KVxuICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgfVxuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCd3cmFwcGVyQW5pbWF0aW9uJykua2V5ZnJhbWVzKFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgxMDAlKScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgkezEwMCAtIGN1cnJlbnRCcmVha3BvaW50ICogMTAwfSUpYCB9LFxuICBdKTtcbiAgcmV0dXJuIHsgd3JhcHBlckFuaW1hdGlvbiwgYmFja2Ryb3BBbmltYXRpb24gfTtcbn07XG5jb25zdCBjcmVhdGVTaGVldExlYXZlQW5pbWF0aW9uID0gKG9wdHMpID0+IHtcbiAgY29uc3QgeyBjdXJyZW50QnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50IH0gPSBvcHRzO1xuICAvKipcbiAgICogQmFja2Ryb3AgZG9lcyBub3QgYWx3YXlzIGZhZGUgaW4gZnJvbSAwIHRvIDEgaWYgYmFja2Ryb3BCcmVha3BvaW50XG4gICAqIGlzIGRlZmluZWQsIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgdGhhdCBvZmZzZXQgYnkgZmlndXJpbmcgb3V0XG4gICAqIHdoYXQgdGhlIGN1cnJlbnQgYmFja2Ryb3AgdmFsdWUgc2hvdWxkIGJlLlxuICAgKi9cbiAgY29uc3QgYmFja2Ryb3BWYWx1ZSA9IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQoY3VycmVudEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCl9KWA7XG4gIGNvbnN0IGRlZmF1bHRCYWNrZHJvcCA9IFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogYmFja2Ryb3BWYWx1ZSB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwIH0sXG4gIF07XG4gIGNvbnN0IGN1c3RvbUJhY2tkcm9wID0gW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiBiYWNrZHJvcFZhbHVlIH0sXG4gICAgeyBvZmZzZXQ6IGJhY2tkcm9wQnJlYWtwb2ludCwgb3BhY2l0eTogMCB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwIH0sXG4gIF07XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCdiYWNrZHJvcEFuaW1hdGlvbicpLmtleWZyYW1lcyhiYWNrZHJvcEJyZWFrcG9pbnQgIT09IDAgPyBjdXN0b21CYWNrZHJvcCA6IGRlZmF1bHRCYWNrZHJvcCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ3dyYXBwZXJBbmltYXRpb24nKS5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7MTAwIC0gY3VycmVudEJyZWFrcG9pbnQgKiAxMDB9JSlgIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoMTAwJSlgIH0sXG4gIF0pO1xuICByZXR1cm4geyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiB9O1xufTtcblxuY29uc3QgY3JlYXRlRW50ZXJBbmltYXRpb24kMSA9ICgpID0+IHtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyxcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgxMDB2aCknLCAndHJhbnNsYXRlWSgwdmgpJyk7XG4gIHJldHVybiB7IGJhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uIH07XG59O1xuLyoqXG4gKiBpT1MgTW9kYWwgRW50ZXIgQW5pbWF0aW9uIGZvciB0aGUgQ2FyZCBwcmVzZW50YXRpb24gc3R5bGVcbiAqL1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsLCBvcHRzKSA9PiB7XG4gIGNvbnN0IHsgcHJlc2VudGluZ0VsLCBjdXJyZW50QnJlYWtwb2ludCB9ID0gb3B0cztcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IHsgd3JhcHBlckFuaW1hdGlvbiwgYmFja2Ryb3BBbmltYXRpb24gfSA9IGN1cnJlbnRCcmVha3BvaW50ICE9PSB1bmRlZmluZWQgPyBjcmVhdGVTaGVldEVudGVyQW5pbWF0aW9uKG9wdHMpIDogY3JlYXRlRW50ZXJBbmltYXRpb24kMSgpO1xuICBiYWNrZHJvcEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpO1xuICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKS5iZWZvcmVTdHlsZXMoeyBvcGFjaXR5OiAxIH0pO1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCdlbnRlcmluZy1iYXNlJylcbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzIsMC43MiwwLDEpJylcbiAgICAuZHVyYXRpb24oNTAwKVxuICAgIC5hZGRBbmltYXRpb24od3JhcHBlckFuaW1hdGlvbik7XG4gIGlmIChwcmVzZW50aW5nRWwpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgIGNvbnN0IGhhc0NhcmRNb2RhbCA9IHByZXNlbnRpbmdFbC50YWdOYW1lID09PSAnSU9OLU1PREFMJyAmJiBwcmVzZW50aW5nRWwucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcmVzZW50aW5nRWxSb290ID0gZ2V0RWxlbWVudFJvb3QocHJlc2VudGluZ0VsKTtcbiAgICBjb25zdCBwcmVzZW50aW5nQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkuYmVmb3JlU3R5bGVzKHtcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiAndG9wIGNlbnRlcicsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgfSk7XG4gICAgY29uc3QgYm9keUVsID0gZG9jdW1lbnQuYm9keTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogRmFsbGJhY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBgbWF4KClgIChleDogRmlyZWZveClcbiAgICAgICAqIE5vIG5lZWQgdG8gd29ycnkgYWJvdXQgc3RhdHVzYmFyIHBhZGRpbmcgc2luY2UgZW5naW5lcyBsaWtlIEdlY2tvXG4gICAgICAgKiBhcmUgbm90IHVzZWQgYXMgdGhlIGVuZ2luZSBmb3Igc3RhbmRhbG9uZSBDb3Jkb3ZhL0NhcGFjaXRvciBhcHBzXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHRyYW5zZm9ybU9mZnNldCA9ICFDU1Muc3VwcG9ydHMoJ3dpZHRoJywgJ21heCgwcHgsIDFweCknKSA/ICczMHB4JyA6ICdtYXgoMzBweCwgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApKSc7XG4gICAgICBjb25zdCBtb2RhbFRyYW5zZm9ybSA9IGhhc0NhcmRNb2RhbCA/ICctMTBweCcgOiB0cmFuc2Zvcm1PZmZzZXQ7XG4gICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFO1xuICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke21vZGFsVHJhbnNmb3JtfSkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgIHByZXNlbnRpbmdBbmltYXRpb25cbiAgICAgICAgLmFmdGVyU3R5bGVzKHtcbiAgICAgICAgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSxcbiAgICAgIH0pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiBib2R5RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAnYmxhY2snKSlcbiAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsKVxuICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwcHgpIHNjYWxlKDEpJywgYm9yZGVyUmFkaXVzOiAnMHB4JyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtLCBib3JkZXJSYWRpdXM6ICcxMHB4IDEwcHggMCAwJyB9LFxuICAgICAgXSk7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihwcmVzZW50aW5nQW5pbWF0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihiYWNrZHJvcEFuaW1hdGlvbik7XG4gICAgICBpZiAoIWhhc0NhcmRNb2RhbCkge1xuICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsICcwJywgJzEnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IGhhc0NhcmRNb2RhbCA/IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFIDogMTtcbiAgICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSxcbiAgICAgICAgfSlcbiAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWxSb290LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJykpXG4gICAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfSxcbiAgICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH0sXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBzaGFkb3dBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSxcbiAgICAgICAgfSlcbiAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWxSb290LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1zaGFkb3cnKSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogJzEnLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9LFxuICAgICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAnMCcsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0gfSxcbiAgICAgICAgXSk7XG4gICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtwcmVzZW50aW5nQW5pbWF0aW9uLCBzaGFkb3dBbmltYXRpb25dKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICB9XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uO1xufTtcblxuY29uc3QgY3JlYXRlTGVhdmVBbmltYXRpb24kMSA9ICgpID0+IHtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKS5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVkoMHZoKScsICd0cmFuc2xhdGVZKDEwMHZoKScpO1xuICByZXR1cm4geyBiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbiB9O1xufTtcbi8qKlxuICogaU9TIE1vZGFsIExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NMZWF2ZUFuaW1hdGlvbiA9IChiYXNlRWwsIG9wdHMsIGR1cmF0aW9uID0gNTAwKSA9PiB7XG4gIGNvbnN0IHsgcHJlc2VudGluZ0VsLCBjdXJyZW50QnJlYWtwb2ludCB9ID0gb3B0cztcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IHsgd3JhcHBlckFuaW1hdGlvbiwgYmFja2Ryb3BBbmltYXRpb24gfSA9IGN1cnJlbnRCcmVha3BvaW50ICE9PSB1bmRlZmluZWQgPyBjcmVhdGVTaGVldExlYXZlQW5pbWF0aW9uKG9wdHMpIDogY3JlYXRlTGVhdmVBbmltYXRpb24kMSgpO1xuICBiYWNrZHJvcEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpO1xuICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKS5iZWZvcmVTdHlsZXMoeyBvcGFjaXR5OiAxIH0pO1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCdsZWF2aW5nLWJhc2UnKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSknKVxuICAgIC5kdXJhdGlvbihkdXJhdGlvbilcbiAgICAuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pO1xuICBpZiAocHJlc2VudGluZ0VsKSB7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2ODtcbiAgICBjb25zdCBoYXNDYXJkTW9kYWwgPSBwcmVzZW50aW5nRWwudGFnTmFtZSA9PT0gJ0lPTi1NT0RBTCcgJiYgcHJlc2VudGluZ0VsLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJlc2VudGluZ0VsUm9vdCA9IGdldEVsZW1lbnRSb290KHByZXNlbnRpbmdFbCk7XG4gICAgY29uc3QgcHJlc2VudGluZ0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoWyd0cmFuc2Zvcm0nXSlcbiAgICAgIC5hZnRlckNsZWFyU3R5bGVzKFsndHJhbnNmb3JtJ10pXG4gICAgICAub25GaW5pc2goKGN1cnJlbnRTdGVwKSA9PiB7XG4gICAgICAvLyBvbmx5IHJlc2V0IGJhY2tncm91bmQgY29sb3IgaWYgdGhpcyBpcyB0aGUgbGFzdCBjYXJkLXN0eWxlIG1vZGFsXG4gICAgICBpZiAoY3VycmVudFN0ZXAgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlc2VudGluZ0VsLnN0eWxlLnNldFByb3BlcnR5KCdvdmVyZmxvdycsICcnKTtcbiAgICAgIGNvbnN0IG51bU1vZGFscyA9IEFycmF5LmZyb20oYm9keUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1tb2RhbCcpKS5maWx0ZXIoKG0pID0+IG0ucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCkubGVuZ3RoO1xuICAgICAgaWYgKG51bU1vZGFscyA8PSAxKSB7XG4gICAgICAgIGJvZHlFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5ib2R5O1xuICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgY29uc3QgdHJhbnNmb3JtT2Zmc2V0ID0gIUNTUy5zdXBwb3J0cygnd2lkdGgnLCAnbWF4KDBweCwgMXB4KScpID8gJzMwcHgnIDogJ21heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpJztcbiAgICAgIGNvbnN0IG1vZGFsVHJhbnNmb3JtID0gaGFzQ2FyZE1vZGFsID8gJy0xMHB4JyA6IHRyYW5zZm9ybU9mZnNldDtcbiAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU7XG4gICAgICBjb25zdCBmaW5hbFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7bW9kYWxUcmFuc2Zvcm19KSBzY2FsZSgke3RvUHJlc2VudGluZ1NjYWxlfSlgO1xuICAgICAgcHJlc2VudGluZ0FuaW1hdGlvbi5hZGRFbGVtZW50KHByZXNlbnRpbmdFbCkua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDAuODUpJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSwgYm9yZGVyUmFkaXVzOiAnMTBweCAxMHB4IDAgMCcgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwcHgpIHNjYWxlKDEpJywgYm9yZGVyUmFkaXVzOiAnMHB4JyB9LFxuICAgICAgXSk7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihwcmVzZW50aW5nQW5pbWF0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihiYWNrZHJvcEFuaW1hdGlvbik7XG4gICAgICBpZiAoIWhhc0NhcmRNb2RhbCkge1xuICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsICcxJywgJzAnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IGhhc0NhcmRNb2RhbCA/IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFIDogMTtcbiAgICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbFJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKSlcbiAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJyxcbiAgICAgICAgfSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfSxcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IHNoYWRvd0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsUm9vdC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtc2hhZG93JykpXG4gICAgICAgICAgLmFmdGVyU3R5bGVzKHtcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyxcbiAgICAgICAgfSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogJzAnLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6ICcxJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfSxcbiAgICAgICAgXSk7XG4gICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtwcmVzZW50aW5nQW5pbWF0aW9uLCBzaGFkb3dBbmltYXRpb25dKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICB9XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uO1xufTtcblxuY29uc3QgY3JlYXRlRW50ZXJBbmltYXRpb24gPSAoKSA9PiB7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gIH0pXG4gICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpLmtleWZyYW1lcyhbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuMDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNDBweCknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoMHB4KWAgfSxcbiAgXSk7XG4gIHJldHVybiB7IGJhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uIH07XG59O1xuLyoqXG4gKiBNZCBNb2RhbCBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRFbnRlckFuaW1hdGlvbiA9IChiYXNlRWwsIG9wdHMpID0+IHtcbiAgY29uc3QgeyBjdXJyZW50QnJlYWtwb2ludCB9ID0gb3B0cztcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IHsgd3JhcHBlckFuaW1hdGlvbiwgYmFja2Ryb3BBbmltYXRpb24gfSA9IGN1cnJlbnRCcmVha3BvaW50ICE9PSB1bmRlZmluZWQgPyBjcmVhdGVTaGVldEVudGVyQW5pbWF0aW9uKG9wdHMpIDogY3JlYXRlRW50ZXJBbmltYXRpb24oKTtcbiAgYmFja2Ryb3BBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKTtcbiAgd3JhcHBlckFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKSk7XG4gIHJldHVybiBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zNiwwLjY2LDAuMDQsMSknKVxuICAgIC5kdXJhdGlvbigyODApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUxlYXZlQW5pbWF0aW9uID0gKCkgPT4ge1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDApO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCkua2V5ZnJhbWVzKFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMC45OSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgwcHgpYCB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDQwcHgpJyB9LFxuICBdKTtcbiAgcmV0dXJuIHsgYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24gfTtcbn07XG4vKipcbiAqIE1kIE1vZGFsIExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBtZExlYXZlQW5pbWF0aW9uID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICBjb25zdCB7IGN1cnJlbnRCcmVha3BvaW50IH0gPSBvcHRzO1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgeyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiB9ID0gY3VycmVudEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNoZWV0TGVhdmVBbmltYXRpb24ob3B0cykgOiBjcmVhdGVMZWF2ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpO1xuICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKTtcbiAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuNDcsMCwwLjc0NSwwLjcxNSknKVxuICAgIC5kdXJhdGlvbigyMDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNoZWV0R2VzdHVyZSA9IChiYXNlRWwsIGJhY2tkcm9wRWwsIHdyYXBwZXJFbCwgaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCwgYW5pbWF0aW9uLCBicmVha3BvaW50cyA9IFtdLCBnZXRDdXJyZW50QnJlYWtwb2ludCwgb25EaXNtaXNzLCBvbkJyZWFrcG9pbnRDaGFuZ2UpID0+IHtcbiAgLy8gRGVmYXVsdHMgZm9yIHRoZSBzaGVldCBzd2lwZSBhbmltYXRpb25cbiAgY29uc3QgZGVmYXVsdEJhY2tkcm9wID0gW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAuMDEgfSxcbiAgXTtcbiAgY29uc3QgY3VzdG9tQmFja2Ryb3AgPSBbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScgfSxcbiAgICB7IG9mZnNldDogMSAtIGJhY2tkcm9wQnJlYWtwb2ludCwgb3BhY2l0eTogMCB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwIH0sXG4gIF07XG4gIGNvbnN0IFNoZWV0RGVmYXVsdHMgPSB7XG4gICAgV1JBUFBFUl9LRVlGUkFNRVM6IFtcbiAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDAlKScgfSxcbiAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJyB9LFxuICAgIF0sXG4gICAgQkFDS0RST1BfS0VZRlJBTUVTOiBiYWNrZHJvcEJyZWFrcG9pbnQgIT09IDAgPyBjdXN0b21CYWNrZHJvcCA6IGRlZmF1bHRCYWNrZHJvcCxcbiAgfTtcbiAgY29uc3QgY29udGVudEVsID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1jb250ZW50Jyk7XG4gIGNvbnN0IGhlaWdodCA9IHdyYXBwZXJFbC5jbGllbnRIZWlnaHQ7XG4gIGxldCBjdXJyZW50QnJlYWtwb2ludCA9IGluaXRpYWxCcmVha3BvaW50O1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgbGV0IGNhbkRpc21pc3NCbG9ja3NHZXN0dXJlID0gZmFsc2U7XG4gIGNvbnN0IGNhbkRpc21pc3NNYXhTdGVwID0gMC45NTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGFuaW1hdGlvbi5jaGlsZEFuaW1hdGlvbnMuZmluZCgoYW5pKSA9PiBhbmkuaWQgPT09ICd3cmFwcGVyQW5pbWF0aW9uJyk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gYW5pbWF0aW9uLmNoaWxkQW5pbWF0aW9ucy5maW5kKChhbmkpID0+IGFuaS5pZCA9PT0gJ2JhY2tkcm9wQW5pbWF0aW9uJyk7XG4gIGNvbnN0IG1heEJyZWFrcG9pbnQgPSBicmVha3BvaW50c1ticmVha3BvaW50cy5sZW5ndGggLSAxXTtcbiAgY29uc3QgbWluQnJlYWtwb2ludCA9IGJyZWFrcG9pbnRzWzBdO1xuICBjb25zdCBlbmFibGVCYWNrZHJvcCA9ICgpID0+IHtcbiAgICBiYXNlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgJ2F1dG8nKTtcbiAgICBiYWNrZHJvcEVsLnN0eWxlLnNldFByb3BlcnR5KCdwb2ludGVyLWV2ZW50cycsICdhdXRvJyk7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgYmFja2Ryb3AgaXMgZW5hYmxlZCwgZWxlbWVudHMgc3VjaFxuICAgICAqIGFzIGlucHV0cyBzaG91bGQgbm90IGJlIGZvY3VzYWJsZSBvdXRzaWRlXG4gICAgICogdGhlIHNoZWV0LlxuICAgICAqL1xuICAgIGJhc2VFbC5jbGFzc0xpc3QucmVtb3ZlKCdpb24tZGlzYWJsZS1mb2N1cy10cmFwJyk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGVCYWNrZHJvcCA9ICgpID0+IHtcbiAgICBiYXNlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcbiAgICBiYWNrZHJvcEVsLnN0eWxlLnNldFByb3BlcnR5KCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgYmFja2Ryb3AgaXMgZW5hYmxlZCwgZWxlbWVudHMgc3VjaFxuICAgICAqIGFzIGlucHV0cyBzaG91bGQgbm90IGJlIGZvY3VzYWJsZSBvdXRzaWRlXG4gICAgICogdGhlIHNoZWV0LlxuICAgICAqIEFkZGluZyB0aGlzIGNsYXNzIGRpc2FibGVzIGZvY3VzIHRyYXBwaW5nXG4gICAgICogZm9yIHRoZSBzaGVldCB0ZW1wb3JhcmlseS5cbiAgICAgKi9cbiAgICBiYXNlRWwuY2xhc3NMaXN0LmFkZCgnaW9uLWRpc2FibGUtZm9jdXMtdHJhcCcpO1xuICB9O1xuICAvKipcbiAgICogQWZ0ZXIgdGhlIGVudGVyaW5nIGFuaW1hdGlvbiBjb21wbGV0ZXMsXG4gICAqIHdlIG5lZWQgdG8gc2V0IHRoZSBhbmltYXRpb24gdG8gZ28gZnJvbVxuICAgKiBvZmZzZXQgMCB0byBvZmZzZXQgMSBzbyB0aGF0IHVzZXJzIGNhblxuICAgKiBzd2lwZSBpbiBhbnkgZGlyZWN0aW9uLiBXZSB0aGVuIHNldCB0aGVcbiAgICogYW5pbWF0aW9uIG9mZnNldCB0byB0aGUgY3VycmVudCBicmVha3BvaW50XG4gICAqIHNvIHRoZXJlIGlzIG5vIGZsaWNrZXJpbmcuXG4gICAqL1xuICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgIHdyYXBwZXJBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLldSQVBQRVJfS0VZRlJBTUVTXSk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkJBQ0tEUk9QX0tFWUZSQU1FU10pO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDEgLSBjdXJyZW50QnJlYWtwb2ludCk7XG4gICAgLyoqXG4gICAgICogSWYgYmFja2Ryb3AgaXMgbm90IGVuYWJsZWQsIHRoZW4gY29udGVudFxuICAgICAqIGJlaGluZCBtb2RhbCBzaG91bGQgYmUgY2xpY2thYmxlLiBUbyBkbyB0aGlzLCB3ZSBuZWVkXG4gICAgICogdG8gcmVtb3ZlIHBvaW50ZXItZXZlbnRzIGZyb20gaW9uLW1vZGFsIGFzIGEgd2hvbGUuXG4gICAgICogaW9uLWJhY2tkcm9wIGFuZCAubW9kYWwtd3JhcHBlciBhbHdheXMgaGF2ZSBwb2ludGVyLWV2ZW50czogYXV0b1xuICAgICAqIGFwcGxpZWQsIHNvIHRoZSBtb2RhbCBjb250ZW50IGNhbiBzdGlsbCBiZSBpbnRlcmFjdGVkIHdpdGguXG4gICAgICovXG4gICAgY29uc3Qgc2hvdWxkRW5hYmxlQmFja2Ryb3AgPSBjdXJyZW50QnJlYWtwb2ludCA+IGJhY2tkcm9wQnJlYWtwb2ludDtcbiAgICBpZiAoc2hvdWxkRW5hYmxlQmFja2Ryb3ApIHtcbiAgICAgIGVuYWJsZUJhY2tkcm9wKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGlzYWJsZUJhY2tkcm9wKCk7XG4gICAgfVxuICB9XG4gIGlmIChjb250ZW50RWwgJiYgY3VycmVudEJyZWFrcG9pbnQgIT09IG1heEJyZWFrcG9pbnQpIHtcbiAgICBjb250ZW50RWwuc2Nyb2xsWSA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNhblN0YXJ0ID0gKGRldGFpbCkgPT4ge1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBzaGVldCBpcyBmdWxseSBleHBhbmRlZCBhbmRcbiAgICAgKiB0aGUgdXNlciBpcyBzd2lwaW5nIG9uIHRoZSBjb250ZW50LFxuICAgICAqIHRoZSBnZXN0dXJlIHNob3VsZCBub3Qgc3RhcnQgdG9cbiAgICAgKiBhbGxvdyBmb3Igc2Nyb2xsaW5nIG9uIHRoZSBjb250ZW50LlxuICAgICAqL1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkZXRhaWwuZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ2lvbi1jb250ZW50Jyk7XG4gICAgY3VycmVudEJyZWFrcG9pbnQgPSBnZXRDdXJyZW50QnJlYWtwb2ludCgpO1xuICAgIGlmIChjdXJyZW50QnJlYWtwb2ludCA9PT0gMSAmJiBjb250ZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIElmIGNhbkRpc21pc3MgaXMgYW55dGhpbmcgb3RoZXIgdGhhbiBgdHJ1ZWBcbiAgICAgKiB0aGVuIHVzZXJzIHNob3VsZCBiZSBhYmxlIHRvIHN3aXBlIGRvd25cbiAgICAgKiB1bnRpbCBhIHRocmVzaG9sZCBpcyBoaXQuIEF0IHRoYXQgcG9pbnQsXG4gICAgICogdGhlIGNhcmQgbW9kYWwgc2hvdWxkIG5vdCBwcm9jZWVkIGFueSBmdXJ0aGVyLlxuICAgICAqXG4gICAgICogY2FuRGlzbWlzcyBpcyBuZXZlciBmaXJlZCB2aWEgZ2VzdHVyZSBpZiB0aGVyZSBpc1xuICAgICAqIG5vIDAgYnJlYWtwb2ludC4gSG93ZXZlciwgaXQgY2FuIGJlIGZpcmVkIGlmIHRoZSB1c2VyXG4gICAgICogcHJlc3NlcyBFc2Mgb3IgdGhlIGhhcmR3YXJlIGJhY2sgYnV0dG9uLlxuICAgICAqIFRPRE8gKEZXLTkzNylcbiAgICAgKiBSZW1vdmUgdW5kZWZpbmVkIGNoZWNrXG4gICAgICovXG4gICAgY2FuRGlzbWlzc0Jsb2Nrc0dlc3R1cmUgPSBiYXNlRWwuY2FuRGlzbWlzcyAhPT0gdW5kZWZpbmVkICYmIGJhc2VFbC5jYW5EaXNtaXNzICE9PSB0cnVlICYmIG1pbkJyZWFrcG9pbnQgPT09IDA7XG4gICAgLyoqXG4gICAgICogSWYgc3dpcGluZyBvbiB0aGUgY29udGVudFxuICAgICAqIHdlIHNob3VsZCBkaXNhYmxlIHNjcm9sbGluZyBvdGhlcndpc2VcbiAgICAgKiB0aGUgc2hlZXQgd2lsbCBleHBhbmQgYW5kIHRoZSBjb250ZW50IHdpbGwgc2Nyb2xsLlxuICAgICAqL1xuICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgIGNvbnRlbnRFbC5zY3JvbGxZID0gZmFsc2U7XG4gICAgfVxuICAgIHJhZigoKSA9PiB7XG4gICAgICAvKipcbiAgICAgICAqIERpc21pc3NlcyB0aGUgb3BlbiBrZXlib2FyZCB3aGVuIHRoZSBzaGVldCBkcmFnIGdlc3R1cmUgaXMgc3RhcnRlZC5cbiAgICAgICAqIFNldHMgdGhlIGZvY3VzIG9udG8gdGhlIG1vZGFsIGVsZW1lbnQuXG4gICAgICAgKi9cbiAgICAgIGJhc2VFbC5mb2N1cygpO1xuICAgIH0pO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDEgLSBjdXJyZW50QnJlYWtwb2ludCk7XG4gIH07XG4gIGNvbnN0IG9uTW92ZSA9IChkZXRhaWwpID0+IHtcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgY2hhbmdlIGluIGdlc3R1cmUgcG9zaXRpb24gb24gdGhlIFkgYXhpcyxcbiAgICAgKiBjb21wdXRlIHdoZXJlIHRoZSBvZmZzZXQgb2YgdGhlIGFuaW1hdGlvbiBzaG91bGQgYmVcbiAgICAgKiByZWxhdGl2ZSB0byB3aGVyZSB0aGUgdXNlciBkcmFnZ2VkLlxuICAgICAqL1xuICAgIGNvbnN0IGluaXRpYWxTdGVwID0gMSAtIGN1cnJlbnRCcmVha3BvaW50O1xuICAgIGNvbnN0IHNlY29uZFRvTGFzdEJyZWFrcG9pbnQgPSBicmVha3BvaW50cy5sZW5ndGggPiAxID8gMSAtIGJyZWFrcG9pbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHN0ZXAgPSBpbml0aWFsU3RlcCArIGRldGFpbC5kZWx0YVkgLyBoZWlnaHQ7XG4gICAgY29uc3QgaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzID0gc2Vjb25kVG9MYXN0QnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkICYmIHN0ZXAgPj0gc2Vjb25kVG9MYXN0QnJlYWtwb2ludCAmJiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgYmxvY2tpbmcgdGhlIGdlc3R1cmUgZnJvbSBkaXNtaXNzaW5nLFxuICAgICAqIHNldCB0aGUgbWF4IHN0ZXAgdmFsdWUgc28gdGhhdCB0aGUgc2hlZXQgY2Fubm90IGJlXG4gICAgICogY29tcGxldGVseSBoaWRkZW4uXG4gICAgICovXG4gICAgY29uc3QgbWF4U3RlcCA9IGlzQXR0ZW1wdGluZ0Rpc21pc3NXaXRoQ2FuRGlzbWlzcyA/IGNhbkRpc21pc3NNYXhTdGVwIDogMC45OTk5O1xuICAgIC8qKlxuICAgICAqIElmIHdlIGFyZSBibG9ja2luZyB0aGUgZ2VzdHVyZSBmcm9tXG4gICAgICogZGlzbWlzc2luZywgY2FsY3VsYXRlIHRoZSBzcHJpbmcgbW9kaWZpZXIgdmFsdWVcbiAgICAgKiB0aGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHN0YXJ0aW5nIGJyZWFrcG9pbnRcbiAgICAgKiB2YWx1ZSB0byBnaXZlIHRoZSBnZXN0dXJlIGEgc3ByaW5nLWxpa2UgZmVlbGluZy5cbiAgICAgKiBOb3RlIHRoYXQgd2hlbiBpc0F0dGVtcHRpbmdEaXNtaXNzV2l0aENhbkRpc21pc3MgaXMgdHJ1ZSxcbiAgICAgKiB0aGUgbW9kaWZpZXIgaXMgYWx3YXlzIGFkZGVkIHRvIHRoZSBicmVha3BvaW50IHRoYXRcbiAgICAgKiBhcHBlYXJzIHJpZ2h0IGFmdGVyIHRoZSAwIGJyZWFrcG9pbnQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtb2RpZmllciBpcyBlc3NlbnRpYWxseSB0aGUgcHJvZ3Jlc3Npb25cbiAgICAgKiBiZXR3ZWVuIHNlY29uZFRvTGFzdEJyZWFrcG9pbnQgYW5kIG1heFN0ZXAgd2hpY2ggaXNcbiAgICAgKiB3aHkgd2Ugc3VidHJhY3Qgc2Vjb25kVG9MYXN0QnJlYWtwb2ludC4gVGhpcyBsZXRzIHVzIGdldFxuICAgICAqIHRoZSByZXN1bHQgYXMgYSB2YWx1ZSBmcm9tIDAgdG8gMS5cbiAgICAgKi9cbiAgICBjb25zdCBwcm9jZXNzZWRTdGVwID0gaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzICYmIHNlY29uZFRvTGFzdEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZFxuICAgICAgPyBzZWNvbmRUb0xhc3RCcmVha3BvaW50ICtcbiAgICAgICAgY2FsY3VsYXRlU3ByaW5nU3RlcCgoc3RlcCAtIHNlY29uZFRvTGFzdEJyZWFrcG9pbnQpIC8gKG1heFN0ZXAgLSBzZWNvbmRUb0xhc3RCcmVha3BvaW50KSlcbiAgICAgIDogc3RlcDtcbiAgICBvZmZzZXQgPSBjbGFtcCgwLjAwMDEsIHByb2Nlc3NlZFN0ZXAsIG1heFN0ZXApO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0ZXAob2Zmc2V0KTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZGV0YWlsKSA9PiB7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgZ2VzdHVyZSByZWxlYXNlcywgd2UgbmVlZCB0byBkZXRlcm1pbmVcbiAgICAgKiB0aGUgY2xvc2VzdCBicmVha3BvaW50IHRvIHNuYXAgdG8uXG4gICAgICovXG4gICAgY29uc3QgdmVsb2NpdHkgPSBkZXRhaWwudmVsb2NpdHlZO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAzNTApIC8gaGVpZ2h0O1xuICAgIGNvbnN0IGRpZmYgPSBjdXJyZW50QnJlYWtwb2ludCAtIHRocmVzaG9sZDtcbiAgICBjb25zdCBjbG9zZXN0ID0gYnJlYWtwb2ludHMucmVkdWNlKChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gTWF0aC5hYnMoYiAtIGRpZmYpIDwgTWF0aC5hYnMoYSAtIGRpZmYpID8gYiA6IGE7XG4gICAgfSk7XG4gICAgbW92ZVNoZWV0VG9CcmVha3BvaW50KHtcbiAgICAgIGJyZWFrcG9pbnQ6IGNsb3Nlc3QsXG4gICAgICBicmVha3BvaW50T2Zmc2V0OiBvZmZzZXQsXG4gICAgICBjYW5EaXNtaXNzOiBjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZSxcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgbW92ZVNoZWV0VG9CcmVha3BvaW50ID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGJyZWFrcG9pbnQsIGNhbkRpc21pc3MsIGJyZWFrcG9pbnRPZmZzZXQgfSA9IG9wdGlvbnM7XG4gICAgLyoqXG4gICAgICogY2FuRGlzbWlzcyBzaG91bGQgb25seSBwcmV2ZW50IHNuYXBwaW5nXG4gICAgICogd2hlbiB1c2VycyBhcmUgdHJ5aW5nIHRvIGRpc21pc3MuIElmIGNhbkRpc21pc3NcbiAgICAgKiBpcyBwcmVzZW50IGJ1dCB0aGUgdXNlciBpcyB0cnlpbmcgdG8gc3dpcGUgdXB3YXJkcyxcbiAgICAgKiB3ZSBzaG91bGQgYWxsb3cgdGhhdCB0byBoYXBwZW4sXG4gICAgICovXG4gICAgY29uc3Qgc2hvdWxkUHJldmVudERpc21pc3MgPSBjYW5EaXNtaXNzICYmIGJyZWFrcG9pbnQgPT09IDA7XG4gICAgY29uc3Qgc25hcFRvQnJlYWtwb2ludCA9IHNob3VsZFByZXZlbnREaXNtaXNzID8gY3VycmVudEJyZWFrcG9pbnQgOiBicmVha3BvaW50O1xuICAgIGNvbnN0IHNob3VsZFJlbWFpbk9wZW4gPSBzbmFwVG9CcmVha3BvaW50ICE9PSAwO1xuICAgIGN1cnJlbnRCcmVha3BvaW50ID0gMDtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGFuaW1hdGlvbiBzbyB0aGF0IGl0IHBsYXlzIGZyb21cbiAgICAgKiB0aGUgbGFzdCBvZmZzZXQgdG8gdGhlIGNsb3Nlc3Qgc25hcCBwb2ludC5cbiAgICAgKi9cbiAgICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgICAgd3JhcHBlckFuaW1hdGlvbi5rZXlmcmFtZXMoW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke2JyZWFrcG9pbnRPZmZzZXQgKiAxMDB9JSlgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7KDEgLSBzbmFwVG9CcmVha3BvaW50KSAqIDEwMH0lKWAgfSxcbiAgICAgIF0pO1xuICAgICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFtcbiAgICAgICAge1xuICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICBvcGFjaXR5OiBgY2FsYyh2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KSAqICR7Z2V0QmFja2Ryb3BWYWx1ZUZvclNoZWV0KDEgLSBicmVha3BvaW50T2Zmc2V0LCBiYWNrZHJvcEJyZWFrcG9pbnQpfSlgLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgIG9wYWNpdHk6IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQoc25hcFRvQnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50KX0pYCxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RlcCgwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VzdHVyZSBzaG91bGQgcmVtYWluIGRpc2FibGVkIHVudGlsIHRoZVxuICAgICAqIHNuYXBwaW5nIGFuaW1hdGlvbiBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgZ2VzdHVyZS5lbmFibGUoZmFsc2UpO1xuICAgIGlmIChzaG91bGRQcmV2ZW50RGlzbWlzcykge1xuICAgICAgaGFuZGxlQ2FuRGlzbWlzcyhiYXNlRWwsIGFuaW1hdGlvbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFzaG91bGRSZW1haW5PcGVuKSB7XG4gICAgICBvbkRpc21pc3MoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBhbmltYXRpb25cbiAgICAgICAgLm9uRmluaXNoKCgpID0+IHtcbiAgICAgICAgaWYgKHNob3VsZFJlbWFpbk9wZW4pIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBPbmNlIHRoZSBzbmFwcGluZyBhbmltYXRpb24gY29tcGxldGVzLFxuICAgICAgICAgICAqIHdlIG5lZWQgdG8gcmVzZXQgdGhlIGFuaW1hdGlvbiB0byBnb1xuICAgICAgICAgICAqIGZyb20gMCB0byAxIHNvIHVzZXJzIGNhbiBzd2lwZSBpbiBhbnkgZGlyZWN0aW9uLlxuICAgICAgICAgICAqIFdlIHRoZW4gc2V0IHRoZSBhbmltYXRpb24gb2Zmc2V0IHRvIHRoZSBjdXJyZW50XG4gICAgICAgICAgICogYnJlYWtwb2ludCBzbyB0aGF0IGl0IHN0YXJ0cyBhdCB0aGUgc25hcHBlZCBwb3NpdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5rZXlmcmFtZXMoWy4uLlNoZWV0RGVmYXVsdHMuV1JBUFBFUl9LRVlGUkFNRVNdKTtcbiAgICAgICAgICAgICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkJBQ0tEUk9QX0tFWUZSQU1FU10pO1xuICAgICAgICAgICAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGFydCh0cnVlLCAxIC0gc25hcFRvQnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgIGN1cnJlbnRCcmVha3BvaW50ID0gc25hcFRvQnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgb25CcmVha3BvaW50Q2hhbmdlKGN1cnJlbnRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIElmIHRoZSBzaGVldCBpcyBmdWxseSBleHBhbmRlZCwgd2UgY2FuIHNhZmVseVxuICAgICAgICAgICAgICAgKiBlbmFibGUgc2Nyb2xsaW5nIGFnYWluLlxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbCAmJiBjdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludHNbYnJlYWtwb2ludHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICBjb250ZW50RWwuc2Nyb2xsWSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEJhY2tkcm9wIHNob3VsZCBiZWNvbWUgZW5hYmxlZFxuICAgICAgICAgICAgICAgKiBhZnRlciB0aGUgYmFja2Ryb3BCcmVha3BvaW50IHZhbHVlXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBjb25zdCBzaG91bGRFbmFibGVCYWNrZHJvcCA9IGN1cnJlbnRCcmVha3BvaW50ID4gYmFja2Ryb3BCcmVha3BvaW50O1xuICAgICAgICAgICAgICBpZiAoc2hvdWxkRW5hYmxlQmFja2Ryb3ApIHtcbiAgICAgICAgICAgICAgICBlbmFibGVCYWNrZHJvcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc2FibGVCYWNrZHJvcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG11c3QgYmUgYSBvbmUgdGltZSBjYWxsYmFja1xuICAgICAgICAgKiBvdGhlcndpc2UgYSBuZXcgY2FsbGJhY2sgd2lsbFxuICAgICAgICAgKiBiZSBhZGRlZCBldmVyeSB0aW1lIG9uRW5kIHJ1bnMuXG4gICAgICAgICAqL1xuICAgICAgfSwgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSlcbiAgICAgICAgLnByb2dyZXNzRW5kKDEsIDAsIDUwMCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGdlc3R1cmUgPSBjcmVhdGVHZXN0dXJlKHtcbiAgICBlbDogd3JhcHBlckVsLFxuICAgIGdlc3R1cmVOYW1lOiAnbW9kYWxTaGVldCcsXG4gICAgZ2VzdHVyZVByaW9yaXR5OiA0MCxcbiAgICBkaXJlY3Rpb246ICd5JyxcbiAgICB0aHJlc2hvbGQ6IDEwLFxuICAgIGNhblN0YXJ0LFxuICAgIG9uU3RhcnQsXG4gICAgb25Nb3ZlLFxuICAgIG9uRW5kLFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBnZXN0dXJlLFxuICAgIG1vdmVTaGVldFRvQnJlYWtwb2ludCxcbiAgfTtcbn07XG5cbmNvbnN0IG1vZGFsSW9zQ3NzID0gXCI6aG9zdHstLXdpZHRoOjEwMCU7LS1taW4td2lkdGg6YXV0bzstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OjEwMCU7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LS1vdmVyZmxvdzpoaWRkZW47LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50Oy0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OjA7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb250YWluOnN0cmljdH0ubW9kYWwtd3JhcHBlcixpb24tYmFja2Ryb3B7cG9pbnRlci1ldmVudHM6YXV0b306aG9zdCgub3ZlcmxheS1oaWRkZW4pe2Rpc3BsYXk6bm9uZX0ubW9kYWwtd3JhcHBlciwubW9kYWwtc2hhZG93e2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OnZhcigtLW92ZXJmbG93KTt6LWluZGV4OjEwfS5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjUwMHB4Oy0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1ib3R0b206MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4fX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDc2OHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjYwMHB4fX0ubW9kYWwtaGFuZGxle2xlZnQ6MHB4O3JpZ2h0OjBweDt0b3A6NXB4O2JvcmRlci1yYWRpdXM6OHB4O21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7Ym9yZGVyOjA7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC0zNTAsICNjMGMwYmUpO2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MTF9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubW9kYWwtaGFuZGxle21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX0ubW9kYWwtaGFuZGxlOjpiZWZvcmV7cGFkZGluZy1sZWZ0OjRweDtwYWRkaW5nLXJpZ2h0OjRweDtwYWRkaW5nLXRvcDo0cHg7cGFkZGluZy1ib3R0b206NHB4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjM2cHg7aGVpZ2h0OjVweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwgLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtjb250ZW50OlxcXCJcXFwifUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Lm1vZGFsLWhhbmRsZTo6YmVmb3Jle3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo0cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6NHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6NHB4O3BhZGRpbmctaW5saW5lLWVuZDo0cHh9fTpob3N0KC5tb2RhbC1zaGVldCl7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gKHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKSArIDEwcHgpKX06aG9zdCgubW9kYWwtc2hlZXQpIC5tb2RhbC13cmFwcGVyLDpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXNoYWRvd3twb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MH06aG9zdHstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuNCl9Omhvc3QoLm1vZGFsLWNhcmQpLDpob3N0KC5tb2RhbC1zaGVldCl7LS1ib3JkZXItcmFkaXVzOjEwcHh9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCl7Omhvc3R7LS1ib3JkZXItcmFkaXVzOjEwcHh9fS5tb2RhbC13cmFwcGVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCl9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpe0BzdXBwb3J0cyAod2lkdGg6IDFweCl7Omhvc3QoLm1vZGFsLWNhcmQpey0taGVpZ2h0OmNhbGMoMTAwJSAtIG1heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpIC0gMTBweCl9fUBzdXBwb3J0cyBub3QgKHdpZHRoOiAxcHgpezpob3N0KC5tb2RhbC1jYXJkKXstLWhlaWdodDpjYWxjKDEwMCUgLSA0MHB4KX19Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC13cmFwcGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC13cmFwcGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5tb2RhbC1jYXJkIC5tb2RhbC13cmFwcGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Omhvc3QoLm1vZGFsLWNhcmQpey0tYmFja2Ryb3Atb3BhY2l0eTowOy0td2lkdGg6MTAwJTstbXMtZmxleC1hbGlnbjplbmQ7YWxpZ24taXRlbXM6ZmxleC1lbmR9Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC1zaGFkb3d7ZGlzcGxheTpub25lfTpob3N0KC5tb2RhbC1jYXJkKSBpb24tYmFja2Ryb3B7cG9pbnRlci1ldmVudHM6bm9uZX19QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpezpob3N0KC5tb2RhbC1jYXJkKXstLXdpZHRoOmNhbGMoMTAwJSAtIDEyMHB4KTstLWhlaWdodDpjYWxjKDEwMCUgLSAoMTIwcHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSkpKTstLW1heC13aWR0aDo3MjBweDstLW1heC1oZWlnaHQ6MTAwMHB4Oy0tYmFja2Ryb3Atb3BhY2l0eTowOy0tYm94LXNoYWRvdzowcHggMHB4IDMwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAwLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIDAuNXMgZWFzZS1pbi1vdXR9Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC13cmFwcGVyey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX06aG9zdCgubW9kYWwtY2FyZCkgLm1vZGFsLXNoYWRvd3std2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KX19Omhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtd3JhcHBlcntib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXIsOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLm1vZGFsLXNoZWV0IC5tb2RhbC13cmFwcGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9XCI7XG5cbmNvbnN0IG1vZGFsTWRDc3MgPSBcIjpob3N0ey0td2lkdGg6MTAwJTstLW1pbi13aWR0aDphdXRvOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6MTAwJTstLW1pbi1oZWlnaHQ6YXV0bzstLW1heC1oZWlnaHQ6YXV0bzstLW92ZXJmbG93OmhpZGRlbjstLWJvcmRlci1yYWRpdXM6MDstLWJvcmRlci13aWR0aDowOy0tYm9yZGVyLXN0eWxlOm5vbmU7LS1ib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLWJveC1zaGFkb3c6bm9uZTstLWJhY2tkcm9wLW9wYWNpdHk6MDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbnRhaW46c3RyaWN0fS5tb2RhbC13cmFwcGVyLGlvbi1iYWNrZHJvcHtwb2ludGVyLWV2ZW50czphdXRvfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfS5tb2RhbC13cmFwcGVyLC5tb2RhbC1zaGFkb3d7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6dmFyKC0tb3ZlcmZsb3cpO3otaW5kZXg6MTB9Lm1vZGFsLXNoYWRvd3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpezpob3N0ey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NTAwcHg7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNzY4cHgpezpob3N0ey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NjAwcHh9fS5tb2RhbC1oYW5kbGV7bGVmdDowcHg7cmlnaHQ6MHB4O3RvcDo1cHg7Ym9yZGVyLXJhZGl1czo4cHg7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0bztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozNnB4O2hlaWdodDo1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTtib3JkZXI6MDtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTM1MCwgI2MwYzBiZSk7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDoxMX1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5tb2RhbC1oYW5kbGV7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG99fS5tb2RhbC1oYW5kbGU6OmJlZm9yZXtwYWRkaW5nLWxlZnQ6NHB4O3BhZGRpbmctcmlnaHQ6NHB4O3BhZGRpbmctdG9wOjRweDtwYWRkaW5nLWJvdHRvbTo0cHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO2NvbnRlbnQ6XFxcIlxcXCJ9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubW9kYWwtaGFuZGxlOjpiZWZvcmV7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjRweDtwYWRkaW5nLWlubGluZS1zdGFydDo0cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDo0cHg7cGFkZGluZy1pbmxpbmUtZW5kOjRweH19Omhvc3QoLm1vZGFsLXNoZWV0KXstLWhlaWdodDpjYWxjKDEwMCUgLSAodmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgMTBweCkpfTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtc2hhZG93e3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowfTpob3N0ey0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMil9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCl7Omhvc3R7LS1ib3JkZXItcmFkaXVzOjJweDstLWJveC1zaGFkb3c6MCAyOHB4IDQ4cHggcmdiYSgwLCAwLCAwLCAwLjQpfX0ubW9kYWwtd3JhcHBlcnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgNDBweCwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgNDBweCwgIDApO29wYWNpdHk6MC4wMX1cIjtcblxuY29uc3QgTW9kYWwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuZGlkUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxEaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsV2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxXaWxsRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLmRpZERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsRGlkRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLmlvbkJyZWFrcG9pbnREaWRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkJyZWFrcG9pbnREaWRDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy5kaWRQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnRTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3NTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiZGlkRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLm1vZGFsSW5kZXggPSBtb2RhbElkcysrO1xuICAgIHRoaXMuY29yZURlbGVnYXRlID0gQ29yZURlbGVnYXRlKCk7XG4gICAgdGhpcy5pc1NoZWV0TW9kYWwgPSBmYWxzZTtcbiAgICB0aGlzLmluaGVyaXRlZEF0dHJpYnV0ZXMgPSB7fTtcbiAgICB0aGlzLmlubGluZSA9IGZhbHNlO1xuICAgIC8vIFdoZXRoZXIgb3Igbm90IG1vZGFsIGlzIGJlaW5nIGRpc21pc3NlZCB2aWEgZ2VzdHVyZVxuICAgIHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByZXNlbnRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmhhc0NvbnRyb2xsZXIgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBrZXlib2FyZCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2VkIHdoZW4gdGhlIG92ZXJsYXkgaXMgcHJlc2VudGVkLlxuICAgICAqL1xuICAgIHRoaXMua2V5Ym9hcmRDbG9zZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogQSBkZWNpbWFsIHZhbHVlIGJldHdlZW4gMCBhbmQgMSB0aGF0IGluZGljYXRlcyB0aGVcbiAgICAgKiBwb2ludCBhZnRlciB3aGljaCB0aGUgYmFja2Ryb3Agd2lsbCBiZWdpbiB0byBmYWRlIGluXG4gICAgICogd2hlbiB1c2luZyBhIHNoZWV0IG1vZGFsLiBQcmlvciB0byB0aGlzIHBvaW50LCB0aGVcbiAgICAgKiBiYWNrZHJvcCB3aWxsIGJlIGhpZGRlbiBhbmQgdGhlIGNvbnRlbnQgdW5kZXJuZWF0aFxuICAgICAqIHRoZSBzaGVldCBjYW4gYmUgaW50ZXJhY3RlZCB3aXRoLiBUaGlzIHZhbHVlIGlzIGV4Y2x1c2l2ZVxuICAgICAqIG1lYW5pbmcgdGhlIGJhY2tkcm9wIHdpbGwgYmVjb21lIGFjdGl2ZSBhZnRlciB0aGUgdmFsdWVcbiAgICAgKiBzcGVjaWZpZWQuXG4gICAgICovXG4gICAgdGhpcy5iYWNrZHJvcEJyZWFrcG9pbnQgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnRlcmFjdGlvbiBiZWhhdmlvciBmb3IgdGhlIHNoZWV0IG1vZGFsIHdoZW4gdGhlIGhhbmRsZSBpcyBwcmVzc2VkLlxuICAgICAqXG4gICAgICogRGVmYXVsdHMgdG8gYFwibm9uZVwiYCwgd2hpY2ggIG1lYW5zIHRoZSBtb2RhbCB3aWxsIG5vdCBjaGFuZ2Ugc2l6ZSBvciBwb3NpdGlvbiB3aGVuIHRoZSBoYW5kbGUgaXMgcHJlc3NlZC5cbiAgICAgKiBTZXQgdG8gYFwiY3ljbGVcImAgdG8gbGV0IHRoZSBtb2RhbCBjeWNsZSBiZXR3ZWVuIGF2YWlsYWJsZSBicmVha3BvaW50cyB3aGVuIHByZXNzZWQuXG4gICAgICpcbiAgICAgKiBIYW5kbGUgYmVoYXZpb3IgaXMgdW5hdmFpbGFibGUgd2hlbiB0aGUgYGhhbmRsZWAgcHJvcGVydHkgaXMgc2V0IHRvIGBmYWxzZWAgb3JcbiAgICAgKiB3aGVuIHRoZSBgYnJlYWtwb2ludHNgIHByb3BlcnR5IGlzIG5vdCBzZXQgKHVzaW5nIGEgZnVsbHNjcmVlbiBvciBjYXJkIG1vZGFsKS5cbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZUJlaGF2aW9yID0gJ25vbmUnO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgYmUgZGlzbWlzc2VkIHdoZW4gdGhlIGJhY2tkcm9wIGlzIGNsaWNrZWQuXG4gICAgICovXG4gICAgdGhpcy5iYWNrZHJvcERpc21pc3MgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgYSBiYWNrZHJvcCB3aWxsIGJlIGRpc3BsYXllZCBiZWhpbmQgdGhlIG1vZGFsLlxuICAgICAqIFRoaXMgcHJvcGVydHkgY29udHJvbHMgd2hldGhlciBvciBub3QgdGhlIGJhY2tkcm9wXG4gICAgICogZGFya2VucyB0aGUgc2NyZWVuIHdoZW4gdGhlIG1vZGFsIGlzIHByZXNlbnRlZC5cbiAgICAgKiBJdCBkb2VzIG5vdCBjb250cm9sIHdoZXRoZXIgb3Igbm90IHRoZSBiYWNrZHJvcFxuICAgICAqIGlzIGFjdGl2ZSBvciBwcmVzZW50IGluIHRoZSBET00uXG4gICAgICovXG4gICAgdGhpcy5zaG93QmFja2Ryb3AgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgYW5pbWF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RhbCBjYW4gYmUgc3dpcGVkIHRvIGRpc21pc3MuIE9ubHkgYXBwbGllcyBpbiBpT1MgbW9kZS5cbiAgICAgKiBAZGVwcmVjYXRlZCAtIFRvIHByZXZlbnQgbW9kYWxzIGZyb20gZGlzbWlzc2luZywgdXNlIGNhbkRpc21pc3MgaW5zdGVhZC5cbiAgICAgKi9cbiAgICB0aGlzLnN3aXBlVG9DbG9zZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgb3Blbi4gSWYgYGZhbHNlYCwgdGhlIG1vZGFsIHdpbGwgY2xvc2UuXG4gICAgICogVXNlIHRoaXMgaWYgeW91IG5lZWQgZmluZXIgZ3JhaW5lZCBjb250cm9sIG92ZXIgcHJlc2VudGF0aW9uLCBvdGhlcndpc2VcbiAgICAgKiBqdXN0IHVzZSB0aGUgbW9kYWxDb250cm9sbGVyIG9yIHRoZSBgdHJpZ2dlcmAgcHJvcGVydHkuXG4gICAgICogTm90ZTogYGlzT3BlbmAgd2lsbCBub3QgYXV0b21hdGljYWxseSBiZSBzZXQgYmFjayB0byBgZmFsc2VgIHdoZW5cbiAgICAgKiB0aGUgbW9kYWwgZGlzbWlzc2VzLiBZb3Ugd2lsbCBuZWVkIHRvIGRvIHRoYXQgaW4geW91ciBjb2RlLlxuICAgICAqL1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHBhc3NlZCBpbnRvIGBpb24tbW9kYWxgIHdpbGxcbiAgICAgKiBhdXRvbWF0aWNhbGx5IGJlIG1vdW50ZWQgd2hlbiB0aGUgbW9kYWwgaXMgY3JlYXRlZC4gVGhlXG4gICAgICogY29tcG9uZW50IHdpbGwgcmVtYWluIG1vdW50ZWQgZXZlbiB3aGVuIHRoZSBtb2RhbCBpcyBkaXNtaXNzZWQuXG4gICAgICogSG93ZXZlciwgdGhlIGNvbXBvbmVudCB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoZSBtb2RhbCBpc1xuICAgICAqIGRlc3Ryb3llZC4gVGhpcyBwcm9wZXJ0eSBpcyBub3QgcmVhY3RpdmUgYW5kIHNob3VsZCBvbmx5IGJlXG4gICAgICogdXNlZCB3aGVuIGluaXRpYWxseSBjcmVhdGluZyBhIG1vZGFsLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBmZWF0dXJlIG9ubHkgYXBwbGllcyB0byBpbmxpbmUgbW9kYWxzIGluIEphdmFTY3JpcHRcbiAgICAgKiBmcmFtZXdvcmtzIHN1Y2ggYXMgQW5ndWxhciwgUmVhY3QsIGFuZCBWdWUuXG4gICAgICovXG4gICAgdGhpcy5rZWVwQ29udGVudHNNb3VudGVkID0gZmFsc2U7XG4gICAgdGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHRyaWdnZXIsIGVsLCBkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uIH0gPSB0aGlzO1xuICAgICAgaWYgKGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24pIHtcbiAgICAgICAgZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgaWYgKHRyaWdnZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0cmlnZ2VyRWwgPSB0cmlnZ2VyICE9PSB1bmRlZmluZWQgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VyKSA6IG51bGw7XG4gICAgICBpZiAoIXRyaWdnZXJFbCkge1xuICAgICAgICBwcmludElvbldhcm5pbmcoYEEgdHJpZ2dlciBlbGVtZW50IHdpdGggdGhlIElEIFwiJHt0cmlnZ2VyfVwiIHdhcyBub3QgZm91bmQgaW4gdGhlIERPTS4gVGhlIHRyaWdnZXIgZWxlbWVudCBtdXN0IGJlIGluIHRoZSBET00gd2hlbiB0aGUgXCJ0cmlnZ2VyXCIgcHJvcGVydHkgaXMgc2V0IG9uIGlvbi1tb2RhbC5gLCB0aGlzLmVsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uID0gKHRyaWdFbCwgbW9kYWxFbCkgPT4ge1xuICAgICAgICBjb25zdCBvcGVuTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgICAgbW9kYWxFbC5wcmVzZW50KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRyaWdFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Nb2RhbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgdHJpZ0VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICB0aGlzLmRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gPSBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24odHJpZ2dlckVsLCBlbCk7XG4gICAgfTtcbiAgICB0aGlzLm9uSGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHNoZWV0VHJhbnNpdGlvbiwgaGFuZGxlQmVoYXZpb3IgfSA9IHRoaXM7XG4gICAgICBpZiAoaGFuZGxlQmVoYXZpb3IgIT09ICdjeWNsZScgfHwgc2hlZXRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGVldCBtb2RhbCBzaG91bGQgbm90IGFkdmFuY2UgdG8gdGhlIG5leHQgYnJlYWtwb2ludFxuICAgICAgICAgKiBpZiB0aGUgaGFuZGxlIGJlaGF2aW9yIGlzIG5vdCBgY3ljbGVgIG9yIGlmIHRoZSBoYW5kbGVcbiAgICAgICAgICogaXMgY2xpY2tlZCB3aGlsZSB0aGUgc2hlZXQgaXMgbW92aW5nIHRvIGEgYnJlYWtwb2ludC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubW92ZVRvTmV4dEJyZWFrcG9pbnQoKTtcbiAgICB9O1xuICAgIHRoaXMub25CYWNrZHJvcFRhcCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgc2hlZXRUcmFuc2l0aW9uIH0gPSB0aGlzO1xuICAgICAgaWYgKHNoZWV0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBoYW5kbGUgaXMgZG91YmxlIGNsaWNrZWQgYXQgdGhlIGxhcmdlc3QgYnJlYWtwb2ludCxcbiAgICAgICAgICogaXQgd2lsbCBzdGFydCB0byBtb3ZlIHRvIHRoZSBmaXJzdCBicmVha3BvaW50LiBXaGlsZSB0cmFuc2l0aW9uaW5nLFxuICAgICAgICAgKiB0aGUgYmFja2Ryb3Agd2lsbCBvZnRlbiByZWNlaXZlIHRoZSBzZWNvbmQgY2xpY2suIFdlIHByZXZlbnQgdGhlXG4gICAgICAgICAqIGJhY2tkcm9wIGZyb20gZGlzbWlzc2luZyB0aGUgbW9kYWwgd2hpbGUgbW92aW5nIGJldHdlZW4gYnJlYWtwb2ludHMuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBCQUNLRFJPUCk7XG4gICAgfTtcbiAgICB0aGlzLm9uTGlmZWN5Y2xlID0gKG1vZGFsRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gdGhpcy51c2Vyc0VsZW1lbnQ7XG4gICAgICBjb25zdCBuYW1lID0gTElGRUNZQ0xFX01BUFttb2RhbEV2ZW50LnR5cGVdO1xuICAgICAgaWYgKGVsICYmIG5hbWUpIHtcbiAgICAgICAgY29uc3QgZXYgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZSwge1xuICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgICAgIGRldGFpbDogbW9kYWxFdmVudC5kZXRhaWwsXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIG9uSXNPcGVuQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSAmJiBvbGRWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucHJlc2VudCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gZmFsc2UgJiYgb2xkVmFsdWUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgIH1cbiAgfVxuICBvblRyaWdnZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgfVxuICBhc3luYyBzd2lwZVRvQ2xvc2VDaGFuZ2VkKGVuYWJsZSkge1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUoZW5hYmxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5hYmxlKSB7XG4gICAgICB0aGlzLmluaXRTd2lwZVRvQ2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgYnJlYWtwb2ludHNDaGFuZ2VkKGJyZWFrcG9pbnRzKSB7XG4gICAgaWYgKGJyZWFrcG9pbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc29ydGVkQnJlYWtwb2ludHMgPSBicmVha3BvaW50cy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbnN0IHsgY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uLCBlbCB9ID0gdGhpcztcbiAgICBwcmVwYXJlT3ZlcmxheShlbCk7XG4gICAgY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgeyBkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uIH0gPSB0aGlzO1xuICAgIGlmIChkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uKSB7XG4gICAgICBkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGNvbnN0IHsgYnJlYWtwb2ludHMsIGluaXRpYWxCcmVha3BvaW50LCBzd2lwZVRvQ2xvc2UsIGVsIH0gPSB0aGlzO1xuICAgIHRoaXMuaW5oZXJpdGVkQXR0cmlidXRlcyA9IGluaGVyaXRBdHRyaWJ1dGVzKGVsLCBbJ2FyaWEtbGFiZWwnLCAncm9sZSddKTtcbiAgICAvKipcbiAgICAgKiBJZiB1c2VyIGhhcyBjdXN0b20gSUQgc2V0IHRoZW4gd2Ugc2hvdWxkXG4gICAgICogbm90IGFzc2lnbiB0aGUgZGVmYXVsdCBpbmNyZW1lbnRpbmcgSUQuXG4gICAgICovXG4gICAgdGhpcy5tb2RhbElkID0gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoJ2lkJykgPyB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnaWQnKSA6IGBpb24tbW9kYWwtJHt0aGlzLm1vZGFsSW5kZXh9YDtcbiAgICBjb25zdCBpc1NoZWV0TW9kYWwgPSAodGhpcy5pc1NoZWV0TW9kYWwgPSBicmVha3BvaW50cyAhPT0gdW5kZWZpbmVkICYmIGluaXRpYWxCcmVha3BvaW50ICE9PSB1bmRlZmluZWQpO1xuICAgIGlmIChpc1NoZWV0TW9kYWwpIHtcbiAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSB0aGlzLmluaXRpYWxCcmVha3BvaW50O1xuICAgIH1cbiAgICBpZiAoYnJlYWtwb2ludHMgIT09IHVuZGVmaW5lZCAmJiBpbml0aWFsQnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkICYmICFicmVha3BvaW50cy5pbmNsdWRlcyhpbml0aWFsQnJlYWtwb2ludCkpIHtcbiAgICAgIHByaW50SW9uV2FybmluZygnWW91ciBicmVha3BvaW50cyBhcnJheSBtdXN0IGluY2x1ZGUgdGhlIGluaXRpYWxCcmVha3BvaW50IHZhbHVlLicpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVUb0Nsb3NlKSB7XG4gICAgICBwcmludElvbldhcm5pbmcoJ3N3aXBlVG9DbG9zZSBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGNhbkRpc21pc3MuXFxuXFxuSWYgeW91IHdhbnQgYSBjYXJkIG1vZGFsIHRvIGJlIHN3aXBlYWJsZSwgc2V0IGNhbkRpc21pc3MgdG8gYHRydWVgLiBJbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlIG9mIElvbmljLCBzd2lwZVRvQ2xvc2Ugd2lsbCBiZSByZW1vdmVkLCBhbmQgYWxsIGNhcmQgbW9kYWxzIHdpbGwgYmUgc3dpcGVhYmxlIGJ5IGRlZmF1bHQuJyk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgLyoqXG4gICAgICogSWYgbW9kYWwgd2FzIHJlbmRlcmVkIHdpdGggaXNPcGVuPVwidHJ1ZVwiXG4gICAgICogdGhlbiB3ZSBzaG91bGQgb3BlbiBtb2RhbCBpbW1lZGlhdGVseS5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgIHJhZigoKSA9PiB0aGlzLnByZXNlbnQoKSk7XG4gICAgfVxuICAgIHRoaXMuYnJlYWtwb2ludHNDaGFuZ2VkKHRoaXMuYnJlYWtwb2ludHMpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IGFuIG92ZXJsYXlcbiAgICogaXMgYmVpbmcgdXNlZCBpbmxpbmUgb3IgdmlhIGEgY29udHJvbGxlci9KU1xuICAgKiBhbmQgcmV0dXJucyB0aGUgY29ycmVjdCBkZWxlZ2F0ZS5cbiAgICogQnkgZGVmYXVsdCwgc3Vic2VxdWVudCBjYWxscyB0byBnZXREZWxlZ2F0ZVxuICAgKiB3aWxsIHVzZSBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBkZWxlZ2F0ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNhbGxpbmcgZGlzbWlzcyBhZnRlclxuICAgKiBwcmVzZW50IHNvIHRoYXQgdGhlIGNvcnJlY3QgZGVsZWdhdGUgaXMgZ2l2ZW4uXG4gICAqL1xuICBnZXREZWxlZ2F0ZShmb3JjZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMud29ya2luZ0RlbGVnYXRlICYmICFmb3JjZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVsZWdhdGU6IHRoaXMud29ya2luZ0RlbGVnYXRlLFxuICAgICAgICBpbmxpbmU6IHRoaXMuaW5saW5lLFxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdXNpbmcgb3ZlcmxheSBpbmxpbmVcbiAgICAgKiB3ZSBwb3RlbnRpYWxseSBuZWVkIHRvIHVzZSB0aGUgY29yZURlbGVnYXRlXG4gICAgICogc28gdGhhdCB0aGlzIHdvcmtzIGluIHZhbmlsbGEgSlMgYXBwcy5cbiAgICAgKiBJZiBhIGRldmVsb3BlciBoYXMgcHJlc2VudGVkIHRoaXMgY29tcG9uZW50XG4gICAgICogdmlhIGEgY29udHJvbGxlciwgdGhlbiB3ZSBjYW4gYXNzdW1lXG4gICAgICogdGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IGluIHRoZVxuICAgICAqIGNvcnJlY3QgcGxhY2UuXG4gICAgICovXG4gICAgY29uc3QgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG4gICAgY29uc3QgaW5saW5lID0gKHRoaXMuaW5saW5lID0gcGFyZW50RWwgIT09IG51bGwgJiYgIXRoaXMuaGFzQ29udHJvbGxlcik7XG4gICAgY29uc3QgZGVsZWdhdGUgPSAodGhpcy53b3JraW5nRGVsZWdhdGUgPSBpbmxpbmUgPyB0aGlzLmRlbGVnYXRlIHx8IHRoaXMuY29yZURlbGVnYXRlIDogdGhpcy5kZWxlZ2F0ZSk7XG4gICAgcmV0dXJuIHsgaW5saW5lLCBkZWxlZ2F0ZSB9O1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZVxuICAgKiBtb2RhbCBpcyBhbGxvd2VkIHRvIGRpc21pc3MgYmFzZWRcbiAgICogb24gdGhlIHN0YXRlIG9mIHRoZSBjYW5EaXNtaXNzIHByb3AuXG4gICAqL1xuICBhc3luYyBjaGVja0NhbkRpc21pc3MoZGF0YSwgcm9sZSkge1xuICAgIGNvbnN0IHsgY2FuRGlzbWlzcyB9ID0gdGhpcztcbiAgICAvKipcbiAgICAgKiBUT0RPIChGVy05MzcpIC0gUmVtb3ZlIHRoZSBmb2xsb3dpbmcgY2hlY2sgaW5cbiAgICAgKiB0aGUgbmV4dCBtYWpvciByZWxlYXNlIG9mIElvbmljLlxuICAgICAqL1xuICAgIGlmIChjYW5EaXNtaXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNhbkRpc21pc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjYW5EaXNtaXNzKGRhdGEsIHJvbGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2FuRGlzbWlzcztcbiAgfVxuICAvKipcbiAgICogUHJlc2VudCB0aGUgbW9kYWwgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgYXN5bmMgcHJlc2VudCgpIHtcbiAgICBpZiAodGhpcy5wcmVzZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBhbiBpbmxpbmUgbW9kYWxcbiAgICAgKiBhbmQgZGlzbWlzc2luZyBhIG1vZGFsIGl0IGlzIHBvc3NpYmxlIHRvXG4gICAgICogcXVpY2tseSBwcmVzZW50IHRoZSBtb2RhbCB3aGlsZSBpdCBpc1xuICAgICAqIGRpc21pc3NpbmcuIFdlIG5lZWQgdG8gYXdhaXQgYW55IGN1cnJlbnRcbiAgICAgKiB0cmFuc2l0aW9uIHRvIGFsbG93IHRoZSBkaXNtaXNzIHRvIGZpbmlzaFxuICAgICAqIGJlZm9yZSBwcmVzZW50aW5nIGFnYWluLlxuICAgICAqL1xuICAgIGlmICh0aGlzLmN1cnJlbnRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBtb2RhbCBpcyBwcmVzZW50ZWQgbXVsdGlwbGUgdGltZXMgKGlubGluZSBtb2RhbHMpLCB3ZVxuICAgICAqIG5lZWQgdG8gcmVzZXQgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCB0byB0aGUgaW5pdGlhbCBicmVha3BvaW50LlxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSB0aGlzLmluaXRpYWxCcmVha3BvaW50O1xuICAgIGNvbnN0IHsgaW5saW5lLCBkZWxlZ2F0ZSB9ID0gdGhpcy5nZXREZWxlZ2F0ZSh0cnVlKTtcbiAgICB0aGlzLnVzZXJzRWxlbWVudCA9IGF3YWl0IGF0dGFjaENvbXBvbmVudChkZWxlZ2F0ZSwgdGhpcy5lbCwgdGhpcy5jb21wb25lbnQsIFsnaW9uLXBhZ2UnXSwgdGhpcy5jb21wb25lbnRQcm9wcywgaW5saW5lKTtcbiAgICBhd2FpdCBkZWVwUmVhZHkodGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgIHdyaXRlVGFzaygoKSA9PiB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbW9kYWwnKSk7XG4gICAgdGhpcy5jdXJyZW50VHJhbnNpdGlvbiA9IHByZXNlbnQodGhpcywgJ21vZGFsRW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiwgbWRFbnRlckFuaW1hdGlvbiwge1xuICAgICAgcHJlc2VudGluZ0VsOiB0aGlzLnByZXNlbnRpbmdFbGVtZW50LFxuICAgICAgY3VycmVudEJyZWFrcG9pbnQ6IHRoaXMuaW5pdGlhbEJyZWFrcG9pbnQsXG4gICAgICBiYWNrZHJvcEJyZWFrcG9pbnQ6IHRoaXMuYmFja2Ryb3BCcmVha3BvaW50LFxuICAgIH0pO1xuICAgIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSAqL1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIG5lZWRzIHRvIGJlIHNldHVwIGJlZm9yZSBhbnlcbiAgICAgICAqIG5vbi10cmFuc2l0aW9uIGFzeW5jIHdvcmsgc28gaXQgY2FuIGJlIGRlcmVmZXJlbmNlZFxuICAgICAgICogaW4gdGhlIGRpc21pc3MgbWV0aG9kLiBUaGUgZGlzbWlzcyBtZXRob2RcbiAgICAgICAqIG9ubHkgd2FpdHMgZm9yIHRoZSBlbnRlcmluZyB0cmFuc2l0aW9uXG4gICAgICAgKiB0byBmaW5pc2guIEl0IGRvZXMgbm90IHdhaXQgZm9yIGFsbCBvZiB0aGUgYHByZXNlbnRgXG4gICAgICAgKiBtZXRob2QgdG8gcmVzb2x2ZS5cbiAgICAgICAqL1xuICAgICAgdGhpcy5rZXlib2FyZE9wZW5DYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFdoZW4gdGhlIG5hdGl2ZSBrZXlib2FyZCBpcyBvcGVuZWQgYW5kIHRoZSB3ZWJ2aWV3XG4gICAgICAgICAgICogaXMgcmVzaXplZCwgdGhlIGdlc3R1cmUgaW1wbGVtZW50YXRpb24gd2lsbCBiZWNvbWUgdW5yZXNwb25zaXZlXG4gICAgICAgICAgICogYW5kIGVudGVyIGEgZnJlZS1zY3JvbGwgbW9kZS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIFdoZW4gdGhlIGtleWJvYXJkIGlzIG9wZW5lZCwgd2UgZGlzYWJsZSB0aGUgZ2VzdHVyZSBmb3JcbiAgICAgICAgICAgKiBhIHNpbmdsZSBmcmFtZSBhbmQgcmUtZW5hYmxlIG9uY2UgdGhlIGNvbnRlbnRzIGhhdmUgcmVwb3NpdGlvbmVkXG4gICAgICAgICAgICogZnJvbSB0aGUga2V5Ym9hcmQgcGxhY2VtZW50LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUoZmFsc2UpO1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXN0dXJlKSB7XG4gICAgICAgICAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihLRVlCT0FSRF9ESURfT1BFTiwgdGhpcy5rZXlib2FyZE9wZW5DYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRPRE8gKEZXLTkzNykgLSBJbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlIG9mIElvbmljLCBhbGwgY2FyZCBtb2RhbHNcbiAgICAgKiB3aWxsIGJlIHN3aXBlYWJsZSBieSBkZWZhdWx0LiBjYW5EaXNtaXNzIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWYgdGhlXG4gICAgICogbW9kYWwgY2FuIGJlIGRpc21pc3NlZC4gVGhpcyBjaGVjayBzaG91bGQgY2hhbmdlIHRvIGNoZWNrIHRoZSBwcmVzZW5jZSBvZlxuICAgICAqIHByZXNlbnRpbmdFbGVtZW50IGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBJZiB3ZSBkaWQgbm90IGRvIHRoaXMgY2hlY2ssIHRoZW4gbm90IHVzaW5nIHN3aXBlVG9DbG9zZSB3b3VsZCBtZWFuIHlvdSBjb3VsZFxuICAgICAqIG5vdCBydW4gY2FuRGlzbWlzcyBvbiBzd2lwZSBhcyB0aGVyZSB3b3VsZCBiZSBubyBzd2lwZSBnZXN0dXJlIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY29uc3QgaGFzQ2FyZE1vZGFsID0gdGhpcy5wcmVzZW50aW5nRWxlbWVudCAhPT0gdW5kZWZpbmVkICYmICh0aGlzLnN3aXBlVG9DbG9zZSB8fCB0aGlzLmNhbkRpc21pc3MgIT09IHVuZGVmaW5lZCk7XG4gICAgLyoqXG4gICAgICogV2UgbmVlZCB0byBjaGFuZ2UgdGhlIHN0YXR1cyBiYXIgYXQgdGhlXG4gICAgICogc3RhcnQgb2YgdGhlIGFuaW1hdGlvbiBzbyB0aGF0IGl0IGNvbXBsZXRlc1xuICAgICAqIGJ5IHRoZSB0aW1lIHRoZSBjYXJkIGFuaW1hdGlvbiBpcyBkb25lLlxuICAgICAqL1xuICAgIGlmIChoYXNDYXJkTW9kYWwgJiYgZ2V0SW9uTW9kZSh0aGlzKSA9PT0gJ2lvcycpIHtcbiAgICAgIC8vIENhY2hlIHRoZSBvcmlnaW5hbCBzdGF0dXMgYmFyIGNvbG9yIGJlZm9yZSB0aGUgbW9kYWwgaXMgcHJlc2VudGVkXG4gICAgICB0aGlzLnN0YXR1c0JhclN0eWxlID0gYXdhaXQgU3RhdHVzQmFyLmdldFN0eWxlKCk7XG4gICAgICBzZXRDYXJkU3RhdHVzQmFyRGFyaygpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uO1xuICAgIGlmICh0aGlzLmlzU2hlZXRNb2RhbCkge1xuICAgICAgdGhpcy5pbml0U2hlZXRHZXN0dXJlKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhhc0NhcmRNb2RhbCkge1xuICAgICAgdGhpcy5pbml0U3dpcGVUb0Nsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cbiAgaW5pdFN3aXBlVG9DbG9zZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGdldElvbk1vZGUodGhpcykgIT09ICdpb3MnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XG4gICAgLy8gQWxsIG9mIHRoZSBlbGVtZW50cyBuZWVkZWQgZm9yIHRoZSBzd2lwZSBnZXN0dXJlXG4gICAgLy8gc2hvdWxkIGJlIGluIHRoZSBET00gYW5kIHJlZmVyZW5jZWQgYnkgbm93LCBleGNlcHRcbiAgICAvLyBmb3IgdGhlIHByZXNlbnRpbmcgZWxcbiAgICBjb25zdCBhbmltYXRpb25CdWlsZGVyID0gdGhpcy5sZWF2ZUFuaW1hdGlvbiB8fCBjb25maWcuZ2V0KCdtb2RhbExlYXZlJywgaW9zTGVhdmVBbmltYXRpb24pO1xuICAgIGNvbnN0IGFuaSA9ICh0aGlzLmFuaW1hdGlvbiA9IGFuaW1hdGlvbkJ1aWxkZXIoZWwsIHsgcHJlc2VudGluZ0VsOiB0aGlzLnByZXNlbnRpbmdFbGVtZW50IH0pKTtcbiAgICBjb25zdCBjb250ZW50RWwgPSBmaW5kSW9uQ29udGVudChlbCk7XG4gICAgaWYgKCFjb250ZW50RWwpIHtcbiAgICAgIHByaW50SW9uQ29udGVudEVycm9yTXNnKGVsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdHVzQmFyU3R5bGUgPSAoX2EgPSB0aGlzLnN0YXR1c0JhclN0eWxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTdHlsZS5EZWZhdWx0O1xuICAgIHRoaXMuZ2VzdHVyZSA9IGNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUoZWwsIGFuaSwgc3RhdHVzQmFyU3R5bGUsICgpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogV2hpbGUgdGhlIGdlc3R1cmUgYW5pbWF0aW9uIGlzIGZpbmlzaGluZ1xuICAgICAgICogaXQgaXMgcG9zc2libGUgZm9yIGEgdXNlciB0byB0YXAgdGhlIGJhY2tkcm9wLlxuICAgICAgICogVGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlIGRpc21pc3MgYW5pbWF0aW9uXG4gICAgICAgKiBiZWluZyBwbGF5ZWQgYWdhaW4uIFR5cGljYWxseSB0aGlzIGlzIGF2b2lkZWRcbiAgICAgICAqIGJ5IHNldHRpbmcgYHByZXNlbnRlZCA9IGZhbHNlYCBvbiB0aGUgb3ZlcmxheVxuICAgICAgICogY29tcG9uZW50OyBob3dldmVyLCB3ZSBjYW5ub3QgZG8gdGhhdCBoZXJlIGFzXG4gICAgICAgKiB0aGF0IHdvdWxkIHByZXZlbnQgdGhlIGVsZW1lbnQgZnJvbSBiZWluZ1xuICAgICAgICogcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgIHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5hbmltYXRpb24ub25GaW5pc2goYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBHRVNUVVJFKTtcbiAgICAgICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgfVxuICBpbml0U2hlZXRHZXN0dXJlKCkge1xuICAgIGNvbnN0IHsgd3JhcHBlckVsLCBpbml0aWFsQnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50IH0gPSB0aGlzO1xuICAgIGlmICghd3JhcHBlckVsIHx8IGluaXRpYWxCcmVha3BvaW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uQnVpbGRlciA9IHRoaXMuZW50ZXJBbmltYXRpb24gfHwgY29uZmlnLmdldCgnbW9kYWxFbnRlcicsIGlvc0VudGVyQW5pbWF0aW9uKTtcbiAgICBjb25zdCBhbmkgPSAodGhpcy5hbmltYXRpb24gPSBhbmltYXRpb25CdWlsZGVyKHRoaXMuZWwsIHtcbiAgICAgIHByZXNlbnRpbmdFbDogdGhpcy5wcmVzZW50aW5nRWxlbWVudCxcbiAgICAgIGN1cnJlbnRCcmVha3BvaW50OiBpbml0aWFsQnJlYWtwb2ludCxcbiAgICAgIGJhY2tkcm9wQnJlYWtwb2ludCxcbiAgICB9KSk7XG4gICAgYW5pLnByb2dyZXNzU3RhcnQodHJ1ZSwgMSk7XG4gICAgY29uc3QgeyBnZXN0dXJlLCBtb3ZlU2hlZXRUb0JyZWFrcG9pbnQgfSA9IGNyZWF0ZVNoZWV0R2VzdHVyZSh0aGlzLmVsLCB0aGlzLmJhY2tkcm9wRWwsIHdyYXBwZXJFbCwgaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCwgYW5pLCB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzLCAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRoaXMuY3VycmVudEJyZWFrcG9pbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7IH0sICgpID0+IHRoaXMuc2hlZXRPbkRpc21pc3MoKSwgKGJyZWFrcG9pbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRCcmVha3BvaW50ICE9PSBicmVha3BvaW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xuICAgICAgICB0aGlzLmlvbkJyZWFrcG9pbnREaWRDaGFuZ2UuZW1pdCh7IGJyZWFrcG9pbnQgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5nZXN0dXJlID0gZ2VzdHVyZTtcbiAgICB0aGlzLm1vdmVTaGVldFRvQnJlYWtwb2ludCA9IG1vdmVTaGVldFRvQnJlYWtwb2ludDtcbiAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICB9XG4gIHNoZWV0T25EaXNtaXNzKCkge1xuICAgIC8qKlxuICAgICAqIFdoaWxlIHRoZSBnZXN0dXJlIGFuaW1hdGlvbiBpcyBmaW5pc2hpbmdcbiAgICAgKiBpdCBpcyBwb3NzaWJsZSBmb3IgYSB1c2VyIHRvIHRhcCB0aGUgYmFja2Ryb3AuXG4gICAgICogVGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlIGRpc21pc3MgYW5pbWF0aW9uXG4gICAgICogYmVpbmcgcGxheWVkIGFnYWluLiBUeXBpY2FsbHkgdGhpcyBpcyBhdm9pZGVkXG4gICAgICogYnkgc2V0dGluZyBgcHJlc2VudGVkID0gZmFsc2VgIG9uIHRoZSBvdmVybGF5XG4gICAgICogY29tcG9uZW50OyBob3dldmVyLCB3ZSBjYW5ub3QgZG8gdGhhdCBoZXJlIGFzXG4gICAgICogdGhhdCB3b3VsZCBwcmV2ZW50IHRoZSBlbGVtZW50IGZyb20gYmVpbmdcbiAgICAgKiByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmFuaW1hdGlvbi5vbkZpbmlzaChhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gMDtcbiAgICAgIHRoaXMuaW9uQnJlYWtwb2ludERpZENoYW5nZS5lbWl0KHsgYnJlYWtwb2ludDogdGhpcy5jdXJyZW50QnJlYWtwb2ludCB9KTtcbiAgICAgIGF3YWl0IHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIEdFU1RVUkUpO1xuICAgICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBtb2RhbCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgbW9kYWwuIEZvciBleGFtcGxlLCAnY2FuY2VsJyBvciAnYmFja2Ryb3AnLlxuICAgKi9cbiAgYXN5bmMgZGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nICYmIHJvbGUgIT09IEdFU1RVUkUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgYSBjYW5EaXNtaXNzIGhhbmRsZXIgaXMgcmVzcG9uc2libGVcbiAgICAgKiBmb3IgY2FsbGluZyB0aGUgZGlzbWlzcyBtZXRob2QsIHdlIHNob3VsZFxuICAgICAqIG5vdCBydW4gdGhlIGNhbkRpc21pc3MgY2hlY2sgYWdhaW4uXG4gICAgICovXG4gICAgaWYgKHJvbGUgIT09ICdoYW5kbGVyJyAmJiAhKGF3YWl0IHRoaXMuY2hlY2tDYW5EaXNtaXNzKGRhdGEsIHJvbGUpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXZSBuZWVkIHRvIHN0YXJ0IHRoZSBzdGF0dXMgYmFyIGNoYW5nZVxuICAgICAqIGJlZm9yZSB0aGUgYW5pbWF0aW9uIHNvIHRoYXQgdGhlIGNoYW5nZVxuICAgICAqIGZpbmlzaGVzIHdoZW4gdGhlIGRpc21pc3MgYW5pbWF0aW9uIGRvZXMuXG4gICAgICogVE9ETyAoRlctOTM3KVxuICAgICAqL1xuICAgIGNvbnN0IGhhc0NhcmRNb2RhbCA9IHRoaXMucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiAodGhpcy5zd2lwZVRvQ2xvc2UgfHwgdGhpcy5jYW5EaXNtaXNzICE9PSB1bmRlZmluZWQpO1xuICAgIGlmIChoYXNDYXJkTW9kYWwgJiYgZ2V0SW9uTW9kZSh0aGlzKSA9PT0gJ2lvcycpIHtcbiAgICAgIHNldENhcmRTdGF0dXNCYXJEZWZhdWx0KHRoaXMuc3RhdHVzQmFyU3R5bGUpO1xuICAgIH1cbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5rZXlib2FyZE9wZW5DYWxsYmFjaykge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoS0VZQk9BUkRfRElEX09QRU4sIHRoaXMua2V5Ym9hcmRPcGVuQ2FsbGJhY2spO1xuICAgICAgdGhpcy5rZXlib2FyZE9wZW5DYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBhbiBpbmxpbmUgbW9kYWxcbiAgICAgKiBhbmQgcHJlc2VudGluZyBhIG1vZGFsIGl0IGlzIHBvc3NpYmxlIHRvXG4gICAgICogcXVpY2tseSBkaXNtaXNzIHRoZSBtb2RhbCB3aGlsZSBpdCBpc1xuICAgICAqIHByZXNlbnRpbmcuIFdlIG5lZWQgdG8gYXdhaXQgYW55IGN1cnJlbnRcbiAgICAgKiB0cmFuc2l0aW9uIHRvIGFsbG93IHRoZSBwcmVzZW50IHRvIGZpbmlzaFxuICAgICAqIGJlZm9yZSBkaXNtaXNzaW5nIGFnYWluLlxuICAgICAqL1xuICAgIGlmICh0aGlzLmN1cnJlbnRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgfVxuICAgIGNvbnN0IGVudGVyaW5nQW5pbWF0aW9uID0gYWN0aXZlQW5pbWF0aW9ucy5nZXQodGhpcykgfHwgW107XG4gICAgdGhpcy5jdXJyZW50VHJhbnNpdGlvbiA9IGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ21vZGFsTGVhdmUnLCBpb3NMZWF2ZUFuaW1hdGlvbiwgbWRMZWF2ZUFuaW1hdGlvbiwge1xuICAgICAgcHJlc2VudGluZ0VsOiB0aGlzLnByZXNlbnRpbmdFbGVtZW50LFxuICAgICAgY3VycmVudEJyZWFrcG9pbnQ6IChfYSA9IHRoaXMuY3VycmVudEJyZWFrcG9pbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuaW5pdGlhbEJyZWFrcG9pbnQsXG4gICAgICBiYWNrZHJvcEJyZWFrcG9pbnQ6IHRoaXMuYmFja2Ryb3BCcmVha3BvaW50LFxuICAgIH0pO1xuICAgIGNvbnN0IGRpc21pc3NlZCA9IGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgaWYgKGRpc21pc3NlZCkge1xuICAgICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gdGhpcy5nZXREZWxlZ2F0ZSgpO1xuICAgICAgYXdhaXQgZGV0YWNoQ29tcG9uZW50KGRlbGVnYXRlLCB0aGlzLnVzZXJzRWxlbWVudCk7XG4gICAgICB3cml0ZVRhc2soKCkgPT4gdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LW1vZGFsJykpO1xuICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgICAgdGhpcy5nZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGVudGVyaW5nQW5pbWF0aW9uLmZvckVhY2goKGFuaSkgPT4gYW5pLmRlc3Ryb3koKSk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jdXJyZW50VHJhbnNpdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gZGlzbWlzc2VkO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1vZGFsIGRpZCBkaXNtaXNzLlxuICAgKi9cbiAgb25EaWREaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uTW9kYWxEaWREaXNtaXNzJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgbW9kYWwgd2lsbCBkaXNtaXNzLlxuICAgKi9cbiAgb25XaWxsRGlzbWlzcygpIHtcbiAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbk1vZGFsV2lsbERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBhIHNoZWV0IHN0eWxlIG1vZGFsIHRvIGEgc3BlY2lmaWMgYnJlYWtwb2ludC4gVGhlIGJyZWFrcG9pbnQgdmFsdWUgbXVzdFxuICAgKiBiZSBhIHZhbHVlIGRlZmluZWQgaW4geW91ciBgYnJlYWtwb2ludHNgIGFycmF5LlxuICAgKi9cbiAgYXN5bmMgc2V0Q3VycmVudEJyZWFrcG9pbnQoYnJlYWtwb2ludCkge1xuICAgIGlmICghdGhpcy5pc1NoZWV0TW9kYWwpIHtcbiAgICAgIHByaW50SW9uV2FybmluZygnc2V0Q3VycmVudEJyZWFrcG9pbnQgaXMgb25seSBzdXBwb3J0ZWQgb24gc2hlZXQgbW9kYWxzLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYnJlYWtwb2ludHMuaW5jbHVkZXMoYnJlYWtwb2ludCkpIHtcbiAgICAgIHByaW50SW9uV2FybmluZyhgQXR0ZW1wdGVkIHRvIHNldCBpbnZhbGlkIGJyZWFrcG9pbnQgdmFsdWUgJHticmVha3BvaW50fS4gUGxlYXNlIGRvdWJsZSBjaGVjayB0aGF0IHRoZSBicmVha3BvaW50IHZhbHVlIGlzIHBhcnQgb2YgeW91ciBkZWZpbmVkIGJyZWFrcG9pbnRzLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGN1cnJlbnRCcmVha3BvaW50LCBtb3ZlU2hlZXRUb0JyZWFrcG9pbnQsIGNhbkRpc21pc3MsIGJyZWFrcG9pbnRzIH0gPSB0aGlzO1xuICAgIGlmIChjdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW92ZVNoZWV0VG9CcmVha3BvaW50KSB7XG4gICAgICB0aGlzLnNoZWV0VHJhbnNpdGlvbiA9IG1vdmVTaGVldFRvQnJlYWtwb2ludCh7XG4gICAgICAgIGJyZWFrcG9pbnQsXG4gICAgICAgIGJyZWFrcG9pbnRPZmZzZXQ6IDEgLSBjdXJyZW50QnJlYWtwb2ludCxcbiAgICAgICAgY2FuRGlzbWlzczogY2FuRGlzbWlzcyAhPT0gdW5kZWZpbmVkICYmIGNhbkRpc21pc3MgIT09IHRydWUgJiYgYnJlYWtwb2ludHNbMF0gPT09IDAsXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHRoaXMuc2hlZXRUcmFuc2l0aW9uO1xuICAgICAgdGhpcy5zaGVldFRyYW5zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQgb2YgYSBzaGVldCBzdHlsZSBtb2RhbFxuICAgKi9cbiAgYXN5bmMgZ2V0Q3VycmVudEJyZWFrcG9pbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJyZWFrcG9pbnQ7XG4gIH1cbiAgYXN5bmMgbW92ZVRvTmV4dEJyZWFrcG9pbnQoKSB7XG4gICAgY29uc3QgeyBicmVha3BvaW50cywgY3VycmVudEJyZWFrcG9pbnQgfSA9IHRoaXM7XG4gICAgaWYgKCFicmVha3BvaW50cyB8fCBjdXJyZW50QnJlYWtwb2ludCA9PSBudWxsKSB7XG4gICAgICAvKipcbiAgICAgICAqIElmIHRoZSBtb2RhbCBkb2VzIG5vdCBoYXZlIGJyZWFrcG9pbnRzIGFuZC9vciB0aGUgY3VycmVudFxuICAgICAgICogYnJlYWtwb2ludCBpcyBub3Qgc2V0LCB3ZSBjYW4ndCBtb3ZlIHRvIHRoZSBuZXh0IGJyZWFrcG9pbnQuXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYWxsb3dlZEJyZWFrcG9pbnRzID0gYnJlYWtwb2ludHMuZmlsdGVyKChiKSA9PiBiICE9PSAwKTtcbiAgICBjb25zdCBjdXJyZW50QnJlYWtwb2ludEluZGV4ID0gYWxsb3dlZEJyZWFrcG9pbnRzLmluZGV4T2YoY3VycmVudEJyZWFrcG9pbnQpO1xuICAgIGNvbnN0IG5leHRCcmVha3BvaW50SW5kZXggPSAoY3VycmVudEJyZWFrcG9pbnRJbmRleCArIDEpICUgYWxsb3dlZEJyZWFrcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCBuZXh0QnJlYWtwb2ludCA9IGFsbG93ZWRCcmVha3BvaW50c1tuZXh0QnJlYWtwb2ludEluZGV4XTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQgdG8gdGhlIG5leHQgYXZhaWxhYmxlIGJyZWFrcG9pbnQuXG4gICAgICogSWYgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBpcyB0aGUgbGFzdCBicmVha3BvaW50LCB3ZSBzZXQgdGhlIGN1cnJlbnRcbiAgICAgKiBicmVha3BvaW50IHRvIHRoZSBmaXJzdCBub24temVybyBicmVha3BvaW50IHRvIGF2b2lkIGRpc21pc3NpbmcgdGhlIHNoZWV0LlxuICAgICAqL1xuICAgIGF3YWl0IHRoaXMuc2V0Q3VycmVudEJyZWFrcG9pbnQobmV4dEJyZWFrcG9pbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGhhbmRsZSwgaXNTaGVldE1vZGFsLCBwcmVzZW50aW5nRWxlbWVudCwgaHRtbEF0dHJpYnV0ZXMsIGhhbmRsZUJlaGF2aW9yLCBpbmhlcml0ZWRBdHRyaWJ1dGVzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNob3dIYW5kbGUgPSBoYW5kbGUgIT09IGZhbHNlICYmIGlzU2hlZXRNb2RhbDtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCB7IG1vZGFsSWQgfSA9IHRoaXM7XG4gICAgY29uc3QgaXNDYXJkTW9kYWwgPSBwcmVzZW50aW5nRWxlbWVudCAhPT0gdW5kZWZpbmVkICYmIG1vZGUgPT09ICdpb3MnO1xuICAgIGNvbnN0IGlzSGFuZGxlQ3ljbGUgPSBoYW5kbGVCZWhhdmlvciA9PT0gJ2N5Y2xlJztcbiAgICByZXR1cm4gKGgoSG9zdCwgT2JqZWN0LmFzc2lnbih7IFwibm8tcm91dGVyXCI6IHRydWUsIHRhYmluZGV4OiBcIi0xXCIgfSwgaHRtbEF0dHJpYnV0ZXMsIHsgc3R5bGU6IHtcbiAgICAgICAgekluZGV4OiBgJHsyMDAwMCArIHRoaXMub3ZlcmxheUluZGV4fWAsXG4gICAgICB9LCBjbGFzczogT2JqZWN0LmFzc2lnbih7IFttb2RlXTogdHJ1ZSwgWydtb2RhbC1kZWZhdWx0J106ICFpc0NhcmRNb2RhbCAmJiAhaXNTaGVldE1vZGFsLCBbYG1vZGFsLWNhcmRgXTogaXNDYXJkTW9kYWwsIFtgbW9kYWwtc2hlZXRgXTogaXNTaGVldE1vZGFsLCAnb3ZlcmxheS1oaWRkZW4nOiB0cnVlIH0sIGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSwgaWQ6IG1vZGFsSWQsIG9uSW9uQmFja2Ryb3BUYXA6IHRoaXMub25CYWNrZHJvcFRhcCwgb25Jb25Nb2RhbERpZFByZXNlbnQ6IHRoaXMub25MaWZlY3ljbGUsIG9uSW9uTW9kYWxXaWxsUHJlc2VudDogdGhpcy5vbkxpZmVjeWNsZSwgb25Jb25Nb2RhbFdpbGxEaXNtaXNzOiB0aGlzLm9uTGlmZWN5Y2xlLCBvbklvbk1vZGFsRGlkRGlzbWlzczogdGhpcy5vbkxpZmVjeWNsZSB9KSwgaChcImlvbi1iYWNrZHJvcFwiLCB7IHJlZjogKGVsKSA9PiAodGhpcy5iYWNrZHJvcEVsID0gZWwpLCB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzLCBwYXJ0OiBcImJhY2tkcm9wXCIgfSksIG1vZGUgPT09ICdpb3MnICYmIGgoXCJkaXZcIiwgeyBjbGFzczogXCJtb2RhbC1zaGFkb3dcIiB9KSwgaChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIC8qXG4gICAgICAgIHJvbGUgYW5kIGFyaWEtbW9kYWwgbXVzdCBiZSB1c2VkIG9uIHRoZVxuICAgICAgICBzYW1lIGVsZW1lbnQuIFRoZXkgbXVzdCBhbHNvIGJlIHNldCBpbnNpZGUgdGhlXG4gICAgICAgIHNoYWRvdyBET00gb3RoZXJ3aXNlIGlvbi1idXR0b24gd2lsbCBub3QgYmUgaGlnaGxpZ2h0ZWRcbiAgICAgICAgd2hlbiB1c2luZyBWb2ljZU92ZXI6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yNDcxMzRcbiAgICAgICovXG4gICAgICByb2xlOiBcImRpYWxvZ1wiXG4gICAgfSwgaW5oZXJpdGVkQXR0cmlidXRlcywgeyBcImFyaWEtbW9kYWxcIjogXCJ0cnVlXCIsIGNsYXNzOiBcIm1vZGFsLXdyYXBwZXIgaW9uLW92ZXJsYXktd3JhcHBlclwiLCBwYXJ0OiBcImNvbnRlbnRcIiwgcmVmOiAoZWwpID0+ICh0aGlzLndyYXBwZXJFbCA9IGVsKSB9KSwgc2hvd0hhbmRsZSAmJiAoaChcImJ1dHRvblwiLCB7IGNsYXNzOiBcIm1vZGFsLWhhbmRsZVwiLFxuICAgICAgLy8gUHJldmVudHMgdGhlIGhhbmRsZSBmcm9tIHJlY2VpdmluZyBrZXlib2FyZCBmb2N1cyB3aGVuIGl0IGRvZXMgbm90IGN5Y2xlXG4gICAgICB0YWJJbmRleDogIWlzSGFuZGxlQ3ljbGUgPyAtMSA6IDAsIFwiYXJpYS1sYWJlbFwiOiBcIkFjdGl2YXRlIHRvIGFkanVzdCB0aGUgc2l6ZSBvZiB0aGUgZGlhbG9nIG92ZXJsYXlpbmcgdGhlIHNjcmVlblwiLCBvbkNsaWNrOiBpc0hhbmRsZUN5Y2xlID8gdGhpcy5vbkhhbmRsZUNsaWNrIDogdW5kZWZpbmVkLCBwYXJ0OiBcImhhbmRsZVwiIH0pKSwgaChcInNsb3RcIiwgbnVsbCkpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiaXNPcGVuXCI6IFtcIm9uSXNPcGVuQ2hhbmdlXCJdLFxuICAgIFwidHJpZ2dlclwiOiBbXCJvblRyaWdnZXJDaGFuZ2VcIl0sXG4gICAgXCJzd2lwZVRvQ2xvc2VcIjogW1wic3dpcGVUb0Nsb3NlQ2hhbmdlZFwiXVxuICB9OyB9XG59O1xuY29uc3QgTElGRUNZQ0xFX01BUCA9IHtcbiAgaW9uTW9kYWxEaWRQcmVzZW50OiAnaW9uVmlld0RpZEVudGVyJyxcbiAgaW9uTW9kYWxXaWxsUHJlc2VudDogJ2lvblZpZXdXaWxsRW50ZXInLFxuICBpb25Nb2RhbFdpbGxEaXNtaXNzOiAnaW9uVmlld1dpbGxMZWF2ZScsXG4gIGlvbk1vZGFsRGlkRGlzbWlzczogJ2lvblZpZXdEaWRMZWF2ZScsXG59O1xubGV0IG1vZGFsSWRzID0gMDtcbk1vZGFsLnN0eWxlID0ge1xuICBpb3M6IG1vZGFsSW9zQ3NzLFxuICBtZDogbW9kYWxNZENzc1xufTtcblxuZXhwb3J0IHsgTW9kYWwgYXMgaW9uX21vZGFsIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuY29uc3QgaG9zdENvbnRleHQgPSAoc2VsZWN0b3IsIGVsKSA9PiB7XG4gIHJldHVybiBlbC5jbG9zZXN0KHNlbGVjdG9yKSAhPT0gbnVsbDtcbn07XG4vKipcbiAqIENyZWF0ZSB0aGUgbW9kZSBhbmQgY29sb3IgY2xhc3NlcyBmb3IgdGhlIGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgY2xhc3NlcyBwYXNzZWQgaW5cbiAqL1xuY29uc3QgY3JlYXRlQ29sb3JDbGFzc2VzID0gKGNvbG9yLCBjc3NDbGFzc01hcCkgPT4ge1xuICByZXR1cm4gdHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJyAmJiBjb2xvci5sZW5ndGggPiAwXG4gICAgPyBPYmplY3QuYXNzaWduKHsgJ2lvbi1jb2xvcic6IHRydWUsIFtgaW9uLWNvbG9yLSR7Y29sb3J9YF06IHRydWUgfSwgY3NzQ2xhc3NNYXApIDogY3NzQ2xhc3NNYXA7XG59O1xuY29uc3QgZ2V0Q2xhc3NMaXN0ID0gKGNsYXNzZXMpID0+IHtcbiAgaWYgKGNsYXNzZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBjbGFzc2VzLnNwbGl0KCcgJyk7XG4gICAgcmV0dXJuIGFycmF5XG4gICAgICAuZmlsdGVyKChjKSA9PiBjICE9IG51bGwpXG4gICAgICAubWFwKChjKSA9PiBjLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoKGMpID0+IGMgIT09ICcnKTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuY29uc3QgZ2V0Q2xhc3NNYXAgPSAoY2xhc3NlcykgPT4ge1xuICBjb25zdCBtYXAgPSB7fTtcbiAgZ2V0Q2xhc3NMaXN0KGNsYXNzZXMpLmZvckVhY2goKGMpID0+IChtYXBbY10gPSB0cnVlKSk7XG4gIHJldHVybiBtYXA7XG59O1xuY29uc3QgU0NIRU1FID0gL15bYS16XVthLXowLTkrXFwtLl0qOi87XG5jb25zdCBvcGVuVVJMID0gYXN5bmMgKHVybCwgZXYsIGRpcmVjdGlvbiwgYW5pbWF0aW9uKSA9PiB7XG4gIGlmICh1cmwgIT0gbnVsbCAmJiB1cmxbMF0gIT09ICcjJyAmJiAhU0NIRU1FLnRlc3QodXJsKSkge1xuICAgIGNvbnN0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICBpZiAocm91dGVyKSB7XG4gICAgICBpZiAoZXYgIT0gbnVsbCkge1xuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHVybCwgZGlyZWN0aW9uLCBhbmltYXRpb24pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVDb2xvckNsYXNzZXMgYXMgYywgZ2V0Q2xhc3NNYXAgYXMgZywgaG9zdENvbnRleHQgYXMgaCwgb3BlblVSTCBhcyBvIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJlIiwiY3JlYXRlRXZlbnQiLCJjIiwid3JpdGVUYXNrIiwiaCIsIkgiLCJIb3N0IiwiaSIsImdldEVsZW1lbnQiLCJiIiwiZ2V0SW9uTW9kZSIsImNvbmZpZyIsImYiLCJmaW5kQ2xvc2VzdElvbkNvbnRlbnQiLCJpc0lvbkNvbnRlbnQiLCJkIiwiZGlzYWJsZUNvbnRlbnRTY3JvbGxZIiwicmVzZXRDb250ZW50U2Nyb2xsWSIsImEiLCJmaW5kSW9uQ29udGVudCIsInAiLCJwcmludElvbkNvbnRlbnRFcnJvck1zZyIsIkMiLCJDb3JlRGVsZWdhdGUiLCJhdHRhY2hDb21wb25lbnQiLCJkZXRhY2hDb21wb25lbnQiLCJnIiwiZ2V0RWxlbWVudFJvb3QiLCJsIiwiY2xhbXAiLCJyYWYiLCJqIiwiaW5oZXJpdEF0dHJpYnV0ZXMiLCJLRVlCT0FSRF9ESURfT1BFTiIsInByaW50SW9uV2FybmluZyIsInciLCJ3aW4iLCJHIiwiR0VTVFVSRSIsIkIiLCJCQUNLRFJPUCIsInByZXBhcmVPdmVybGF5IiwicHJlc2VudCIsImFjdGl2ZUFuaW1hdGlvbnMiLCJkaXNtaXNzIiwiZXZlbnRNZXRob2QiLCJnZXRDbGFzc01hcCIsImRlZXBSZWFkeSIsImNyZWF0ZUFuaW1hdGlvbiIsImdldFRpbWVHaXZlblByb2dyZXNzaW9uIiwiY3JlYXRlR2VzdHVyZSIsIlN0eWxlIiwiU3RhdHVzQmFyIiwiZ2V0RW5naW5lIiwiX2EiLCJDYXBhY2l0b3IiLCJpc1BsdWdpbkF2YWlsYWJsZSIsIlBsdWdpbnMiLCJzdXBwb3J0c0RlZmF1bHRTdGF0dXNCYXJTdHlsZSIsIlBsdWdpbkhlYWRlcnMiLCJzZXRTdHlsZSIsIm9wdGlvbnMiLCJlbmdpbmUiLCJnZXRTdHlsZSIsIkRlZmF1bHQiLCJzdHlsZSIsImdldEluZm8iLCJnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQiLCJ4IiwiYmFja2Ryb3BCcmVha3BvaW50Iiwic2xvcGUiLCJzZXRDYXJkU3RhdHVzQmFyRGFyayIsImlubmVyV2lkdGgiLCJEYXJrIiwic2V0Q2FyZFN0YXR1c0JhckRlZmF1bHQiLCJkZWZhdWx0U3R5bGUiLCJoYW5kbGVDYW5EaXNtaXNzIiwiZWwiLCJhbmltYXRpb24iLCJjYW5EaXNtaXNzIiwic2hvdWxkRGlzbWlzcyIsInVuZGVmaW5lZCIsImlzUnVubmluZyIsIm9uRmluaXNoIiwib25lVGltZUNhbGxiYWNrIiwiY2FsY3VsYXRlU3ByaW5nU3RlcCIsInQiLCJTd2lwZVRvQ2xvc2VEZWZhdWx0cyIsIk1JTl9QUkVTRU5USU5HX1NDQUxFIiwiY3JlYXRlU3dpcGVUb0Nsb3NlR2VzdHVyZSIsInN0YXR1c0JhclN0eWxlIiwib25EaXNtaXNzIiwiRElTTUlTU19USFJFU0hPTEQiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJpc09wZW4iLCJjYW5EaXNtaXNzQmxvY2tzR2VzdHVyZSIsImNvbnRlbnRFbCIsInNjcm9sbEVsIiwiY2FuRGlzbWlzc01heFN0ZXAiLCJpbml0aWFsU2Nyb2xsWSIsImxhc3RTdGVwIiwiZ2V0U2Nyb2xsWSIsInNjcm9sbFkiLCJjYW5TdGFydCIsImRldGFpbCIsInRhcmdldCIsImV2ZW50IiwiY2xvc2VzdCIsInJvb3QiLCJxdWVyeVNlbGVjdG9yIiwiaGFzUmVmcmVzaGVySW5Db250ZW50Iiwic2Nyb2xsVG9wIiwiZm9vdGVyIiwib25TdGFydCIsImRlbHRhWSIsInByb2dyZXNzU3RhcnQiLCJvbk1vdmUiLCJzdGVwIiwiaXNBdHRlbXB0aW5nRGlzbWlzc1dpdGhDYW5EaXNtaXNzIiwibWF4U3RlcCIsInByb2Nlc3NlZFN0ZXAiLCJjbGFtcGVkU3RlcCIsInByb2dyZXNzU3RlcCIsIm9uRW5kIiwidmVsb2NpdHkiLCJ2ZWxvY2l0eVkiLCJ0aHJlc2hvbGQiLCJzaG91bGRDb21wbGV0ZSIsIm5ld1N0ZXBWYWx1ZSIsImVhc2luZyIsImR1cmF0aW9uIiwiY29tcHV0ZUR1cmF0aW9uIiwiZ2VzdHVyZSIsImVuYWJsZSIsInByb2dyZXNzRW5kIiwiZ2VzdHVyZU5hbWUiLCJnZXN0dXJlUHJpb3JpdHkiLCJkaXJlY3Rpb24iLCJyZW1haW5pbmciLCJNYXRoIiwiYWJzIiwiY3JlYXRlU2hlZXRFbnRlckFuaW1hdGlvbiIsIm9wdHMiLCJjdXJyZW50QnJlYWtwb2ludCIsInNob3VsZFNob3dCYWNrZHJvcCIsImluaXRpYWxCYWNrZHJvcCIsImJhY2tkcm9wQW5pbWF0aW9uIiwiZnJvbVRvIiwiYmVmb3JlU3R5bGVzIiwiYWZ0ZXJDbGVhclN0eWxlcyIsIndyYXBwZXJBbmltYXRpb24iLCJrZXlmcmFtZXMiLCJvZmZzZXQiLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwiY3JlYXRlU2hlZXRMZWF2ZUFuaW1hdGlvbiIsImJhY2tkcm9wVmFsdWUiLCJkZWZhdWx0QmFja2Ryb3AiLCJjdXN0b21CYWNrZHJvcCIsImNyZWF0ZUVudGVyQW5pbWF0aW9uJDEiLCJpb3NFbnRlckFuaW1hdGlvbiIsImJhc2VFbCIsInByZXNlbnRpbmdFbCIsImFkZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYmFzZUFuaW1hdGlvbiIsImFkZEFuaW1hdGlvbiIsImlzTW9iaWxlIiwid2luZG93IiwiaGFzQ2FyZE1vZGFsIiwidGFnTmFtZSIsInByZXNlbnRpbmdFbGVtZW50IiwicHJlc2VudGluZ0VsUm9vdCIsInByZXNlbnRpbmdBbmltYXRpb24iLCJvdmVyZmxvdyIsImJvZHlFbCIsImRvY3VtZW50IiwiYm9keSIsInRyYW5zZm9ybU9mZnNldCIsIkNTUyIsInN1cHBvcnRzIiwibW9kYWxUcmFuc2Zvcm0iLCJ0b1ByZXNlbnRpbmdTY2FsZSIsImZpbmFsVHJhbnNmb3JtIiwiYWZ0ZXJTdHlsZXMiLCJiZWZvcmVBZGRXcml0ZSIsInNldFByb3BlcnR5IiwiZmlsdGVyIiwiYm9yZGVyUmFkaXVzIiwic2hhZG93QW5pbWF0aW9uIiwiY3JlYXRlTGVhdmVBbmltYXRpb24kMSIsImlvc0xlYXZlQW5pbWF0aW9uIiwiYmVmb3JlQ2xlYXJTdHlsZXMiLCJjdXJyZW50U3RlcCIsIm51bU1vZGFscyIsIkFycmF5IiwiZnJvbSIsIm0iLCJsZW5ndGgiLCJjcmVhdGVFbnRlckFuaW1hdGlvbiIsIm1kRW50ZXJBbmltYXRpb24iLCJjcmVhdGVMZWF2ZUFuaW1hdGlvbiIsIm1kTGVhdmVBbmltYXRpb24iLCJjcmVhdGVTaGVldEdlc3R1cmUiLCJiYWNrZHJvcEVsIiwid3JhcHBlckVsIiwiaW5pdGlhbEJyZWFrcG9pbnQiLCJicmVha3BvaW50cyIsImdldEN1cnJlbnRCcmVha3BvaW50Iiwib25CcmVha3BvaW50Q2hhbmdlIiwiU2hlZXREZWZhdWx0cyIsIldSQVBQRVJfS0VZRlJBTUVTIiwiQkFDS0RST1BfS0VZRlJBTUVTIiwiY2xpZW50SGVpZ2h0IiwiY2hpbGRBbmltYXRpb25zIiwiZmluZCIsImFuaSIsImlkIiwibWF4QnJlYWtwb2ludCIsIm1pbkJyZWFrcG9pbnQiLCJlbmFibGVCYWNrZHJvcCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRpc2FibGVCYWNrZHJvcCIsImFkZCIsInNob3VsZEVuYWJsZUJhY2tkcm9wIiwiY29udGVudCIsImZvY3VzIiwiaW5pdGlhbFN0ZXAiLCJzZWNvbmRUb0xhc3RCcmVha3BvaW50IiwiZGlmZiIsInJlZHVjZSIsIm1vdmVTaGVldFRvQnJlYWtwb2ludCIsImJyZWFrcG9pbnQiLCJicmVha3BvaW50T2Zmc2V0Iiwic2hvdWxkUHJldmVudERpc21pc3MiLCJzbmFwVG9CcmVha3BvaW50Iiwic2hvdWxkUmVtYWluT3BlbiIsIlByb21pc2UiLCJyZXNvbHZlIiwibW9kYWxJb3NDc3MiLCJtb2RhbE1kQ3NzIiwiTW9kYWwiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJkaWRQcmVzZW50Iiwid2lsbFByZXNlbnQiLCJ3aWxsRGlzbWlzcyIsImRpZERpc21pc3MiLCJpb25CcmVha3BvaW50RGlkQ2hhbmdlIiwiZGlkUHJlc2VudFNob3J0aGFuZCIsIndpbGxQcmVzZW50U2hvcnRoYW5kIiwid2lsbERpc21pc3NTaG9ydGhhbmQiLCJkaWREaXNtaXNzU2hvcnRoYW5kIiwibW9kYWxJbmRleCIsIm1vZGFsSWRzIiwiY29yZURlbGVnYXRlIiwiaXNTaGVldE1vZGFsIiwiaW5oZXJpdGVkQXR0cmlidXRlcyIsImlubGluZSIsImdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nIiwicHJlc2VudGVkIiwiaGFzQ29udHJvbGxlciIsImtleWJvYXJkQ2xvc2UiLCJoYW5kbGVCZWhhdmlvciIsImJhY2tkcm9wRGlzbWlzcyIsInNob3dCYWNrZHJvcCIsImFuaW1hdGVkIiwic3dpcGVUb0Nsb3NlIiwia2VlcENvbnRlbnRzTW91bnRlZCIsImNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbiIsInRyaWdnZXIiLCJkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uIiwidHJpZ2dlckVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0cmlnRWwiLCJtb2RhbEVsIiwib3Blbk1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkhhbmRsZUNsaWNrIiwic2hlZXRUcmFuc2l0aW9uIiwibW92ZVRvTmV4dEJyZWFrcG9pbnQiLCJvbkJhY2tkcm9wVGFwIiwib25MaWZlY3ljbGUiLCJtb2RhbEV2ZW50IiwidXNlcnNFbGVtZW50IiwibmFtZSIsIkxJRkVDWUNMRV9NQVAiLCJ0eXBlIiwiZXYiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGlzcGF0Y2hFdmVudCIsIm9uSXNPcGVuQ2hhbmdlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIm9uVHJpZ2dlckNoYW5nZSIsInN3aXBlVG9DbG9zZUNoYW5nZWQiLCJpbml0U3dpcGVUb0Nsb3NlIiwiYnJlYWtwb2ludHNDaGFuZ2VkIiwic29ydGVkQnJlYWtwb2ludHMiLCJzb3J0IiwiY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImNvbXBvbmVudFdpbGxMb2FkIiwibW9kYWxJZCIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImluY2x1ZGVzIiwiY29tcG9uZW50RGlkTG9hZCIsImdldERlbGVnYXRlIiwiZm9yY2UiLCJ3b3JraW5nRGVsZWdhdGUiLCJkZWxlZ2F0ZSIsInBhcmVudEVsIiwicGFyZW50Tm9kZSIsImNoZWNrQ2FuRGlzbWlzcyIsImRhdGEiLCJyb2xlIiwiY3VycmVudFRyYW5zaXRpb24iLCJjb21wb25lbnQiLCJjb21wb25lbnRQcm9wcyIsImtleWJvYXJkT3BlbkNhbGxiYWNrIiwiaW5pdFNoZWV0R2VzdHVyZSIsImFuaW1hdGlvbkJ1aWxkZXIiLCJsZWF2ZUFuaW1hdGlvbiIsImdldCIsImVudGVyQW5pbWF0aW9uIiwic2hlZXRPbkRpc21pc3MiLCJlbWl0IiwiZW50ZXJpbmdBbmltYXRpb24iLCJkaXNtaXNzZWQiLCJkZXN0cm95IiwiZm9yRWFjaCIsIm9uRGlkRGlzbWlzcyIsIm9uV2lsbERpc21pc3MiLCJzZXRDdXJyZW50QnJlYWtwb2ludCIsImFsbG93ZWRCcmVha3BvaW50cyIsImN1cnJlbnRCcmVha3BvaW50SW5kZXgiLCJpbmRleE9mIiwibmV4dEJyZWFrcG9pbnRJbmRleCIsIm5leHRCcmVha3BvaW50IiwicmVuZGVyIiwiaGFuZGxlIiwiaHRtbEF0dHJpYnV0ZXMiLCJzaG93SGFuZGxlIiwibW9kZSIsImlzQ2FyZE1vZGFsIiwiaXNIYW5kbGVDeWNsZSIsIk9iamVjdCIsImFzc2lnbiIsInRhYmluZGV4IiwiekluZGV4Iiwib3ZlcmxheUluZGV4IiwiY2xhc3MiLCJjc3NDbGFzcyIsIm9uSW9uQmFja2Ryb3BUYXAiLCJvbklvbk1vZGFsRGlkUHJlc2VudCIsIm9uSW9uTW9kYWxXaWxsUHJlc2VudCIsIm9uSW9uTW9kYWxXaWxsRGlzbWlzcyIsIm9uSW9uTW9kYWxEaWREaXNtaXNzIiwicmVmIiwidmlzaWJsZSIsInRhcHBhYmxlIiwicGFydCIsInRhYkluZGV4Iiwib25DbGljayIsIndhdGNoZXJzIiwiaW9uTW9kYWxEaWRQcmVzZW50IiwiaW9uTW9kYWxXaWxsUHJlc2VudCIsImlvbk1vZGFsV2lsbERpc21pc3MiLCJpb25Nb2RhbERpZERpc21pc3MiLCJpb3MiLCJtZCIsImlvbl9tb2RhbCIsImhvc3RDb250ZXh0Iiwic2VsZWN0b3IiLCJjcmVhdGVDb2xvckNsYXNzZXMiLCJjb2xvciIsImNzc0NsYXNzTWFwIiwiZ2V0Q2xhc3NMaXN0IiwiY2xhc3NlcyIsImFycmF5IiwiaXNBcnJheSIsInNwbGl0IiwibWFwIiwidHJpbSIsIlNDSEVNRSIsIm9wZW5VUkwiLCJ1cmwiLCJ0ZXN0Iiwicm91dGVyIiwicHJldmVudERlZmF1bHQiLCJwdXNoIiwibyJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8ifQ==