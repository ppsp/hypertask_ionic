"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-picker-column-internal_entry_js"],{

/***/ 25919:
/*!*******************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-picker-column-internal.entry.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_picker_column_internal": () => (/* binding */ PickerColumnInternal)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 40320);
/* harmony import */ var _ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-c74e4951.js */ 9656);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 97140);
/* harmony import */ var _haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./haptic-029a46f6.js */ 56745);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-7670341c.js */ 17548);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */





const pickerColumnInternalIosCss = ":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty,:host .picker-item.picker-item-disabled{scroll-snap-align:none;cursor:default}:host .picker-item.picker-item-disabled{opacity:0.4}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}";
const pickerColumnInternalMdCss = ":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty,:host .picker-item.picker-item-disabled{scroll-snap-align:none;cursor:default}:host .picker-item.picker-item-disabled{opacity:0.4}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}:host .picker-item-active{color:var(--ion-color-base)}";
const PickerColumnInternal = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionChange = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionChange", 7);
    this.isScrolling = false;
    this.isColumnVisible = false;
    this.canExitInputMode = true;
    this.isActive = false;
    /**
     * A list of options to be displayed in the picker
     */

    this.items = [];
    /**
     * The color to use from your application's color palette.
     * Default options are: `"primary"`, `"secondary"`, `"tertiary"`, `"success"`, `"warning"`, `"danger"`, `"light"`, `"medium"`, and `"dark"`.
     * For more information on colors, see [theming](/docs/theming/basics).
     */

    this.color = 'primary';
    /**
     * If `true`, tapping the picker will
     * reveal a number input keyboard that lets
     * the user type in values for each picker
     * column. This is useful when working
     * with time pickers.
     *
     * @internal
     */

    this.numericInput = false;

    this.centerPickerItemInView = (target, smooth = true, canExitInputMode = true) => {
      const {
        el,
        isColumnVisible
      } = this;

      if (isColumnVisible) {
        // (Vertical offset from parent) - (three empty picker rows) + (half the height of the target to ensure the scroll triggers)
        const top = target.offsetTop - 3 * target.clientHeight + target.clientHeight / 2;

        if (el.scrollTop !== top) {
          /**
           * Setting this flag prevents input
           * mode from exiting in the picker column's
           * scroll callback. This is useful when the user manually
           * taps an item or types on the keyboard as both
           * of these can cause a scroll to occur.
           */
          this.canExitInputMode = canExitInputMode;
          el.scroll({
            top,
            left: 0,
            behavior: smooth ? 'smooth' : undefined
          });
        }
      }
    };
    /**
     * When ionInputModeChange is emitted, each column
     * needs to check if it is the one being made available
     * for text entry.
     */


    this.inputModeChange = ev => {
      if (!this.numericInput) {
        return;
      }

      const {
        useInputMode,
        inputModeColumn
      } = ev.detail;
      /**
       * If inputModeColumn is undefined then this means
       * all numericInput columns are being selected.
       */

      const isColumnActive = inputModeColumn === undefined || inputModeColumn === this.el;

      if (!useInputMode || !isColumnActive) {
        this.setInputModeActive(false);
        return;
      }

      this.setInputModeActive(true);
    };
    /**
     * Setting isActive will cause a re-render.
     * As a result, we do not want to cause the
     * re-render mid scroll as this will cause
     * the picker column to jump back to
     * whatever value was selected at the
     * start of the scroll interaction.
     */


    this.setInputModeActive = state => {
      if (this.isScrolling) {
        this.scrollEndCallback = () => {
          this.isActive = state;
        };

        return;
      }

      this.isActive = state;
    };
    /**
     * When the column scrolls, the component
     * needs to determine which item is centered
     * in the view and will emit an ionChange with
     * the item object.
     */


    this.initializeScrollListener = () => {
      const {
        el
      } = this;
      let timeout;
      let activeEl = this.activeItem;

      const scrollCallback = () => {
        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.r)(() => {
          if (timeout) {
            clearTimeout(timeout);
            timeout = undefined;
          }

          if (!this.isScrolling) {
            (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__.a)();
            this.isScrolling = true;
          }
          /**
           * Select item in the center of the column
           * which is the month/year that we want to select
           */


          const bbox = el.getBoundingClientRect();
          const centerX = bbox.x + bbox.width / 2;
          const centerY = bbox.y + bbox.height / 2;
          const activeElement = el.shadowRoot.elementFromPoint(centerX, centerY);

          if (activeEl !== null) {
            activeEl.classList.remove(PICKER_COL_ACTIVE);
          }

          if (activeElement === null || activeElement.disabled) {
            return;
          }
          /**
           * If we are selecting a new value,
           * we need to run haptics again.
           */


          if (activeElement !== activeEl) {
            (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__.b)();

            if (this.canExitInputMode) {
              /**
               * The native iOS wheel picker
               * only dismisses the keyboard
               * once the selected item has changed
               * as a result of a swipe
               * from the user. If `canExitInputMode` is
               * `false` then this means that the
               * scroll is happening as a result of
               * the `value` property programmatically changing
               * either by an application or by the user via the keyboard.
               */
              this.exitInputMode();
            }
          }

          activeEl = activeElement;
          activeElement.classList.add(PICKER_COL_ACTIVE);
          timeout = setTimeout(() => {
            this.isScrolling = false;
            (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__.h)();
            /**
             * Certain tasks (such as those that
             * cause re-renders) should only be done
             * once scrolling has finished, otherwise
             * flickering may occur.
             */

            const {
              scrollEndCallback
            } = this;

            if (scrollEndCallback) {
              scrollEndCallback();
              this.scrollEndCallback = undefined;
            }
            /**
             * Reset this flag as the
             * next scroll interaction could
             * be a scroll from the user. In this
             * case, we should exit input mode.
             */


            this.canExitInputMode = true;
            const dataIndex = activeElement.getAttribute('data-index');
            /**
             * If no value it is
             * possible we hit one of the
             * empty padding columns.
             */

            if (dataIndex === null) {
              return;
            }

            const index = parseInt(dataIndex, 10);
            const selectedItem = this.items[index];

            if (selectedItem.value !== this.value) {
              this.setValue(selectedItem.value);
            }
          }, 250);
        });
      };
      /**
       * Wrap this in an raf so that the scroll callback
       * does not fire when component is initially shown.
       */


      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.r)(() => {
        el.addEventListener('scroll', scrollCallback);

        this.destroyScrollListener = () => {
          el.removeEventListener('scroll', scrollCallback);
        };
      });
    };
    /**
     * Tells the parent picker to
     * exit text entry mode. This is only called
     * when the selected item changes during scroll, so
     * we know that the user likely wants to scroll
     * instead of type.
     */


    this.exitInputMode = () => {
      const {
        parentEl
      } = this;
      if (parentEl == null) return;
      parentEl.exitInputMode();
      /**
       * setInputModeActive only takes
       * effect once scrolling stops to avoid
       * a component re-render while scrolling.
       * However, we want the visual active
       * indicator to go away immediately, so
       * we call classList.remove here.
       */

      this.el.classList.remove('picker-column-active');
    };
  }

  valueChange() {
    if (this.isColumnVisible) {
      /**
       * Only scroll the active item into view when the picker column
       * is actively visible to the user.
       */
      this.scrollActiveItemIntoView();
    }
  }
  /**
   * Only setup scroll listeners
   * when the picker is visible, otherwise
   * the container will have a scroll
   * height of 0px.
   */


  componentWillLoad() {
    const visibleCallback = entries => {
      var _a;

      const ev = entries[0];

      if (ev.isIntersecting) {
        this.isColumnVisible = true;
        /**
         * Because this initial call to scrollActiveItemIntoView has to fire before
         * the scroll listener is set up, we need to manage the active class manually.
         */

        const oldActive = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.el).querySelector(`.${PICKER_COL_ACTIVE}`);
        oldActive === null || oldActive === void 0 ? void 0 : oldActive.classList.remove(PICKER_COL_ACTIVE);
        this.scrollActiveItemIntoView();
        (_a = this.activeItem) === null || _a === void 0 ? void 0 : _a.classList.add(PICKER_COL_ACTIVE);
        this.initializeScrollListener();
      } else {
        this.isColumnVisible = false;

        if (this.destroyScrollListener) {
          this.destroyScrollListener();
          this.destroyScrollListener = undefined;
        }
      }
    };

    new IntersectionObserver(visibleCallback, {
      threshold: 0.001
    }).observe(this.el);
    const parentEl = this.parentEl = this.el.closest('ion-picker-internal');

    if (parentEl !== null) {
      // TODO(FW-2832): type
      parentEl.addEventListener('ionInputModeChange', ev => this.inputModeChange(ev));
    }
  }

  componentDidRender() {
    var _a;

    const {
      activeItem,
      items,
      isColumnVisible,
      value
    } = this;

    if (isColumnVisible) {
      if (activeItem) {
        this.scrollActiveItemIntoView();
      } else if (((_a = items[0]) === null || _a === void 0 ? void 0 : _a.value) !== value) {
        /**
         * If the picker column does not have an active item and the current value
         * does not match the first item in the picker column, that means
         * the value is out of bounds. In this case, we assign the value to the
         * first item to match the scroll position of the column.
         *
         */
        this.setValue(items[0].value);
      }
    }
  }
  /** @internal  */


  scrollActiveItemIntoView() {
    var _this = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const activeEl = _this.activeItem;

      if (activeEl) {
        _this.centerPickerItemInView(activeEl, false, false);
      }
    })();
  }
  /**
   * Sets the value prop and fires the ionChange event.
   * This is used when we need to fire ionChange from
   * user-generated events that cannot be caught with normal
   * input/change event listeners.
   * @internal
   */


  setValue(value) {
    var _this2 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        items
      } = _this2;
      _this2.value = value;
      const findItem = items.find(item => item.value === value && item.disabled !== true);

      if (findItem) {
        _this2.ionChange.emit(findItem);
      }
    })();
  }

  get activeItem() {
    return (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.el).querySelector(`.picker-item[data-value="${this.value}"]:not([disabled])`);
  }

  render() {
    const {
      items,
      color,
      isActive,
      numericInput
    } = this;
    const mode = (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      tabindex: 0,
      class: (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__.c)(color, {
        [mode]: true,
        ['picker-column-active']: isActive,
        ['picker-column-numeric-input']: numericInput
      })
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty",
      "aria-hidden": "true"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty",
      "aria-hidden": "true"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty",
      "aria-hidden": "true"
    }, "\u00A0"), items.map((item, index) => {
      return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
        tabindex: "-1",
        class: {
          'picker-item': true,
          'picker-item-disabled': item.disabled || false
        },
        "data-value": item.value,
        "data-index": index,
        onClick: ev => {
          this.centerPickerItemInView(ev.target, true);
        },
        disabled: item.disabled
      }, item.text);
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty",
      "aria-hidden": "true"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty",
      "aria-hidden": "true"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty",
      "aria-hidden": "true"
    }, "\u00A0"));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "value": ["valueChange"]
    };
  }

};
const PICKER_COL_ACTIVE = 'picker-item-active';
PickerColumnInternal.style = {
  ios: pickerColumnInternalIosCss,
  md: pickerColumnInternalMdCss
};


/***/ }),

/***/ 17548:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/theme-7670341c.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createColorClasses),
/* harmony export */   "g": () => (/* binding */ getClassMap),
/* harmony export */   "h": () => (/* binding */ hostContext),
/* harmony export */   "o": () => (/* binding */ openURL)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const hostContext = (selector, el) => {
  return el.closest(selector) !== null;
};
/**
 * Create the mode and color classes for the component based on the classes passed in
 */


const createColorClasses = (color, cssClassMap) => {
  return typeof color === 'string' && color.length > 0 ? Object.assign({
    'ion-color': true,
    [`ion-color-${color}`]: true
  }, cssClassMap) : cssClassMap;
};

const getClassList = classes => {
  if (classes !== undefined) {
    const array = Array.isArray(classes) ? classes : classes.split(' ');
    return array.filter(c => c != null).map(c => c.trim()).filter(c => c !== '');
  }

  return [];
};

const getClassMap = classes => {
  const map = {};
  getClassList(classes).forEach(c => map[c] = true);
  return map;
};

const SCHEME = /^[a-z][a-z0-9+\-.]*:/;

const openURL = /*#__PURE__*/function () {
  var _ref = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (url, ev, direction, animation) {
    if (url != null && url[0] !== '#' && !SCHEME.test(url)) {
      const router = document.querySelector('ion-router');

      if (router) {
        if (ev != null) {
          ev.preventDefault();
        }

        return router.push(url, direction, animation);
      }
    }

    return false;
  });

  return function openURL(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBpY2tlci1jb2x1bW4taW50ZXJuYWxfZW50cnlfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1vQiwwQkFBMEIsR0FBRywyMENBQW5DO0FBRUEsTUFBTUMseUJBQXlCLEdBQUcsaTRDQUFsQztBQUVBLE1BQU1DLG9CQUFvQixHQUFHLE1BQU07QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0FBQ25CdkIsSUFBQUEscURBQWdCLENBQUMsSUFBRCxFQUFPdUIsT0FBUCxDQUFoQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJ0QixxREFBVyxDQUFDLElBQUQsRUFBTyxXQUFQLEVBQW9CLENBQXBCLENBQTVCO0FBQ0EsU0FBS3VCLFdBQUwsR0FBbUIsS0FBbkI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEtBQXZCO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLEtBQWhCO0FBQ0E7QUFDSjtBQUNBOztBQUNJLFNBQUtDLEtBQUwsR0FBYSxFQUFiO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLQyxLQUFMLEdBQWEsU0FBYjtBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLQyxZQUFMLEdBQW9CLEtBQXBCOztBQUNBLFNBQUtDLHNCQUFMLEdBQThCLENBQUNDLE1BQUQsRUFBU0MsTUFBTSxHQUFHLElBQWxCLEVBQXdCUCxnQkFBZ0IsR0FBRyxJQUEzQyxLQUFvRDtBQUNoRixZQUFNO0FBQUVRLFFBQUFBLEVBQUY7QUFBTVQsUUFBQUE7QUFBTixVQUEwQixJQUFoQzs7QUFDQSxVQUFJQSxlQUFKLEVBQXFCO0FBQ25CO0FBQ0EsY0FBTVUsR0FBRyxHQUFHSCxNQUFNLENBQUNJLFNB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akgsQ0FBRCxJQUFPQSxDQUFDLEtBQUssRUFIaEIsQ0FBUDtBQUlEOztBQUNELFNBQU8sRUFBUDtBQUNELENBVEQ7O0FBVUEsTUFBTW1ILFdBQVcsR0FBSVAsT0FBRCxJQUFhO0FBQy9CLFFBQU1mLEdBQUcsR0FBRyxFQUFaO0FBQ0FjLEVBQUFBLFlBQVksQ0FBQ0MsT0FBRCxDQUFaLENBQXNCUSxPQUF0QixDQUErQnBILENBQUQsSUFBUTZGLEdBQUcsQ0FBQzdGLENBQUQsQ0FBSCxHQUFTLElBQS9DO0FBQ0EsU0FBTzZGLEdBQVA7QUFDRCxDQUpEOztBQUtBLE1BQU13QixNQUFNLEdBQUcsc0JBQWY7O0FBQ0EsTUFBTUMsT0FBTztBQUFBLGtKQUFHLFdBQU9DLEdBQVAsRUFBWTNGLEVBQVosRUFBZ0I0RixTQUFoQixFQUEyQkMsU0FBM0IsRUFBeUM7QUFDdkQsUUFBSUYsR0FBRyxJQUFJLElBQVAsSUFBZUEsR0FBRyxDQUFDLENBQUQsQ0FBSCxLQUFXLEdBQTFCLElBQWlDLENBQUNGLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZSCxHQUFaLENBQXRDLEVBQXdEO0FBQ3RELFlBQU1JLE1BQU0sR0FBR0MsUUFBUSxDQUFDN0MsYUFBVCxDQUF1QixZQUF2QixDQUFmOztBQUNBLFVBQUk0QyxNQUFKLEVBQVk7QUFDVixZQUFJL0YsRUFBRSxJQUFJLElBQVYsRUFBZ0I7QUFDZEEsVUFBQUEsRUFBRSxDQUFDaUcsY0FBSDtBQUNEOztBQUNELGVBQU9GLE1BQU0sQ0FBQ0csSUFBUCxDQUFZUCxHQUFaLEVBQWlCQyxTQUFqQixFQUE0QkMsU0FBNUIsQ0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxLQUFQO0FBQ0QsR0FYWTs7QUFBQSxrQkFBUEgsT0FBTztBQUFBO0FBQUE7QUFBQSxHQUFiIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcGlja2VyLWNvbHVtbi1pbnRlcm5hbC5lbnRyeS5qcyIsIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL3RoZW1lLTc2NzAzNDFjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGUgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCwgaSBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC04ZTY5MjQ0NS5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUgfSBmcm9tICcuL2lvbmljLWdsb2JhbC1jNzRlNDk1MS5qcyc7XG5pbXBvcnQgeyByIGFzIHJhZiwgZyBhcyBnZXRFbGVtZW50Um9vdCB9IGZyb20gJy4vaGVscGVycy0zYjM5MGU0OC5qcyc7XG5pbXBvcnQgeyBhIGFzIGhhcHRpY1NlbGVjdGlvblN0YXJ0LCBiIGFzIGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQsIGggYXMgaGFwdGljU2VsZWN0aW9uRW5kIH0gZnJvbSAnLi9oYXB0aWMtMDI5YTQ2ZjYuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDb2xvckNsYXNzZXMgfSBmcm9tICcuL3RoZW1lLTc2NzAzNDFjLmpzJztcblxuY29uc3QgcGlja2VyQ29sdW1uSW50ZXJuYWxJb3NDc3MgPSBcIjpob3N0e3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDowcHg7cGFkZGluZy1ib3R0b206MHB4O2hlaWdodDoyMDBweDtvdXRsaW5lOm5vbmU7Zm9udC1zaXplOjIycHg7LXdlYmtpdC1zY3JvbGwtc25hcC10eXBlOnkgbWFuZGF0b3J5Oy1tcy1zY3JvbGwtc25hcC10eXBlOnkgbWFuZGF0b3J5O3Njcm9sbC1zbmFwLXR5cGU6eSBtYW5kYXRvcnk7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTpzY3JvbGw7c2Nyb2xsYmFyLXdpZHRoOm5vbmU7dGV4dC1hbGlnbjpjZW50ZXJ9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6aG9zdHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTZweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTZweDtwYWRkaW5nLWlubGluZS1lbmQ6MTZweH19Omhvc3Q6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX06aG9zdCAucGlja2VyLWl0ZW17cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MDttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDozNHB4O2JvcmRlcjowcHg7b3V0bGluZTpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6aW5oZXJpdDtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHksIGluaGVyaXQpO2ZvbnQtc2l6ZTppbmhlcml0O2xpbmUtaGVpZ2h0OjM0cHg7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO2N1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbjtzY3JvbGwtc25hcC1hbGlnbjpjZW50ZXJ9Omhvc3QgLnBpY2tlci1pdGVtLWVtcHR5LDpob3N0IC5waWNrZXItaXRlbS5waWNrZXItaXRlbS1kaXNhYmxlZHtzY3JvbGwtc25hcC1hbGlnbjpub25lO2N1cnNvcjpkZWZhdWx0fTpob3N0IC5waWNrZXItaXRlbS5waWNrZXItaXRlbS1kaXNhYmxlZHtvcGFjaXR5OjAuNH06aG9zdCgucGlja2VyLWNvbHVtbi1hY3RpdmUpIC5waWNrZXItaXRlbS5waWNrZXItaXRlbS1hY3RpdmV7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7Omhvc3QoOmZvY3VzKXtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi1jb2xvci1iYXNlLXJnYiksIDAuMil9fVwiO1xuXG5jb25zdCBwaWNrZXJDb2x1bW5JbnRlcm5hbE1kQ3NzID0gXCI6aG9zdHtwYWRkaW5nLWxlZnQ6MTZweDtwYWRkaW5nLXJpZ2h0OjE2cHg7cGFkZGluZy10b3A6MHB4O3BhZGRpbmctYm90dG9tOjBweDtoZWlnaHQ6MjAwcHg7b3V0bGluZTpub25lO2ZvbnQtc2l6ZToyMnB4Oy13ZWJraXQtc2Nyb2xsLXNuYXAtdHlwZTp5IG1hbmRhdG9yeTstbXMtc2Nyb2xsLXNuYXAtdHlwZTp5IG1hbmRhdG9yeTtzY3JvbGwtc25hcC10eXBlOnkgbWFuZGF0b3J5O292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6c2Nyb2xsO3Njcm9sbGJhci13aWR0aDpub25lO3RleHQtYWxpZ246Y2VudGVyfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Omhvc3R7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fTpob3N0Ojotd2Via2l0LXNjcm9sbGJhcntkaXNwbGF5Om5vbmV9Omhvc3QgLnBpY2tlci1pdGVte3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtoZWlnaHQ6MzRweDtib3JkZXI6MHB4O291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOmluaGVyaXQ7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtmb250LXNpemU6aW5oZXJpdDtsaW5lLWhlaWdodDozNHB4O3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzpoaWRkZW47c2Nyb2xsLXNuYXAtYWxpZ246Y2VudGVyfTpob3N0IC5waWNrZXItaXRlbS1lbXB0eSw6aG9zdCAucGlja2VyLWl0ZW0ucGlja2VyLWl0ZW0tZGlzYWJsZWR7c2Nyb2xsLXNuYXAtYWxpZ246bm9uZTtjdXJzb3I6ZGVmYXVsdH06aG9zdCAucGlja2VyLWl0ZW0ucGlja2VyLWl0ZW0tZGlzYWJsZWR7b3BhY2l0eTowLjR9Omhvc3QoLnBpY2tlci1jb2x1bW4tYWN0aXZlKSAucGlja2VyLWl0ZW0ucGlja2VyLWl0ZW0tYWN0aXZle2NvbG9yOnZhcigtLWlvbi1jb2xvci1iYXNlKX1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpezpob3N0KDpmb2N1cyl7b3V0bGluZTpub25lO2JhY2tncm91bmQ6cmdiYSh2YXIoLS1pb24tY29sb3ItYmFzZS1yZ2IpLCAwLjIpfX06aG9zdCAucGlja2VyLWl0ZW0tYWN0aXZle2NvbG9yOnZhcigtLWlvbi1jb2xvci1iYXNlKX1cIjtcblxuY29uc3QgUGlja2VyQ29sdW1uSW50ZXJuYWwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuaW9uQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25DaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb2x1bW5WaXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5jYW5FeGl0SW5wdXRNb2RlID0gdHJ1ZTtcbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIG9wdGlvbnMgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBwaWNrZXJcbiAgICAgKi9cbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIGNvbG9yIHRvIHVzZSBmcm9tIHlvdXIgYXBwbGljYXRpb24ncyBjb2xvciBwYWxldHRlLlxuICAgICAqIERlZmF1bHQgb3B0aW9ucyBhcmU6IGBcInByaW1hcnlcImAsIGBcInNlY29uZGFyeVwiYCwgYFwidGVydGlhcnlcImAsIGBcInN1Y2Nlc3NcImAsIGBcIndhcm5pbmdcImAsIGBcImRhbmdlclwiYCwgYFwibGlnaHRcImAsIGBcIm1lZGl1bVwiYCwgYW5kIGBcImRhcmtcImAuXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gY29sb3JzLCBzZWUgW3RoZW1pbmddKC9kb2NzL3RoZW1pbmcvYmFzaWNzKS5cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yID0gJ3ByaW1hcnknO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGFwcGluZyB0aGUgcGlja2VyIHdpbGxcbiAgICAgKiByZXZlYWwgYSBudW1iZXIgaW5wdXQga2V5Ym9hcmQgdGhhdCBsZXRzXG4gICAgICogdGhlIHVzZXIgdHlwZSBpbiB2YWx1ZXMgZm9yIGVhY2ggcGlja2VyXG4gICAgICogY29sdW1uLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHdvcmtpbmdcbiAgICAgKiB3aXRoIHRpbWUgcGlja2Vycy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMubnVtZXJpY0lucHV0ID0gZmFsc2U7XG4gICAgdGhpcy5jZW50ZXJQaWNrZXJJdGVtSW5WaWV3ID0gKHRhcmdldCwgc21vb3RoID0gdHJ1ZSwgY2FuRXhpdElucHV0TW9kZSA9IHRydWUpID0+IHtcbiAgICAgIGNvbnN0IHsgZWwsIGlzQ29sdW1uVmlzaWJsZSB9ID0gdGhpcztcbiAgICAgIGlmIChpc0NvbHVtblZpc2libGUpIHtcbiAgICAgICAgLy8gKFZlcnRpY2FsIG9mZnNldCBmcm9tIHBhcmVudCkgLSAodGhyZWUgZW1wdHkgcGlja2VyIHJvd3MpICsgKGhhbGYgdGhlIGhlaWdodCBvZiB0aGUgdGFyZ2V0IHRvIGVuc3VyZSB0aGUgc2Nyb2xsIHRyaWdnZXJzKVxuICAgICAgICBjb25zdCB0b3AgPSB0YXJnZXQub2Zmc2V0VG9wIC0gMyAqIHRhcmdldC5jbGllbnRIZWlnaHQgKyB0YXJnZXQuY2xpZW50SGVpZ2h0IC8gMjtcbiAgICAgICAgaWYgKGVsLnNjcm9sbFRvcCAhPT0gdG9wKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogU2V0dGluZyB0aGlzIGZsYWcgcHJldmVudHMgaW5wdXRcbiAgICAgICAgICAgKiBtb2RlIGZyb20gZXhpdGluZyBpbiB0aGUgcGlja2VyIGNvbHVtbidzXG4gICAgICAgICAgICogc2Nyb2xsIGNhbGxiYWNrLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRoZSB1c2VyIG1hbnVhbGx5XG4gICAgICAgICAgICogdGFwcyBhbiBpdGVtIG9yIHR5cGVzIG9uIHRoZSBrZXlib2FyZCBhcyBib3RoXG4gICAgICAgICAgICogb2YgdGhlc2UgY2FuIGNhdXNlIGEgc2Nyb2xsIHRvIG9jY3VyLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMuY2FuRXhpdElucHV0TW9kZSA9IGNhbkV4aXRJbnB1dE1vZGU7XG4gICAgICAgICAgZWwuc2Nyb2xsKHtcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICBiZWhhdmlvcjogc21vb3RoID8gJ3Ntb290aCcgOiB1bmRlZmluZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gaW9uSW5wdXRNb2RlQ2hhbmdlIGlzIGVtaXR0ZWQsIGVhY2ggY29sdW1uXG4gICAgICogbmVlZHMgdG8gY2hlY2sgaWYgaXQgaXMgdGhlIG9uZSBiZWluZyBtYWRlIGF2YWlsYWJsZVxuICAgICAqIGZvciB0ZXh0IGVudHJ5LlxuICAgICAqL1xuICAgIHRoaXMuaW5wdXRNb2RlQ2hhbmdlID0gKGV2KSA9PiB7XG4gICAgICBpZiAoIXRoaXMubnVtZXJpY0lucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdXNlSW5wdXRNb2RlLCBpbnB1dE1vZGVDb2x1bW4gfSA9IGV2LmRldGFpbDtcbiAgICAgIC8qKlxuICAgICAgICogSWYgaW5wdXRNb2RlQ29sdW1uIGlzIHVuZGVmaW5lZCB0aGVuIHRoaXMgbWVhbnNcbiAgICAgICAqIGFsbCBudW1lcmljSW5wdXQgY29sdW1ucyBhcmUgYmVpbmcgc2VsZWN0ZWQuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGlzQ29sdW1uQWN0aXZlID0gaW5wdXRNb2RlQ29sdW1uID09PSB1bmRlZmluZWQgfHwgaW5wdXRNb2RlQ29sdW1uID09PSB0aGlzLmVsO1xuICAgICAgaWYgKCF1c2VJbnB1dE1vZGUgfHwgIWlzQ29sdW1uQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuc2V0SW5wdXRNb2RlQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRJbnB1dE1vZGVBY3RpdmUodHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIGlzQWN0aXZlIHdpbGwgY2F1c2UgYSByZS1yZW5kZXIuXG4gICAgICogQXMgYSByZXN1bHQsIHdlIGRvIG5vdCB3YW50IHRvIGNhdXNlIHRoZVxuICAgICAqIHJlLXJlbmRlciBtaWQgc2Nyb2xsIGFzIHRoaXMgd2lsbCBjYXVzZVxuICAgICAqIHRoZSBwaWNrZXIgY29sdW1uIHRvIGp1bXAgYmFjayB0b1xuICAgICAqIHdoYXRldmVyIHZhbHVlIHdhcyBzZWxlY3RlZCBhdCB0aGVcbiAgICAgKiBzdGFydCBvZiB0aGUgc2Nyb2xsIGludGVyYWN0aW9uLlxuICAgICAqL1xuICAgIHRoaXMuc2V0SW5wdXRNb2RlQWN0aXZlID0gKHN0YXRlKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc1Njcm9sbGluZykge1xuICAgICAgICB0aGlzLnNjcm9sbEVuZENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBzdGF0ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0FjdGl2ZSA9IHN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgY29sdW1uIHNjcm9sbHMsIHRoZSBjb21wb25lbnRcbiAgICAgKiBuZWVkcyB0byBkZXRlcm1pbmUgd2hpY2ggaXRlbSBpcyBjZW50ZXJlZFxuICAgICAqIGluIHRoZSB2aWV3IGFuZCB3aWxsIGVtaXQgYW4gaW9uQ2hhbmdlIHdpdGhcbiAgICAgKiB0aGUgaXRlbSBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5pbml0aWFsaXplU2Nyb2xsTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGVsIH0gPSB0aGlzO1xuICAgICAgbGV0IHRpbWVvdXQ7XG4gICAgICBsZXQgYWN0aXZlRWwgPSB0aGlzLmFjdGl2ZUl0ZW07XG4gICAgICBjb25zdCBzY3JvbGxDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgdGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0aGlzLmlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICBoYXB0aWNTZWxlY3Rpb25TdGFydCgpO1xuICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFNlbGVjdCBpdGVtIGluIHRoZSBjZW50ZXIgb2YgdGhlIGNvbHVtblxuICAgICAgICAgICAqIHdoaWNoIGlzIHRoZSBtb250aC95ZWFyIHRoYXQgd2Ugd2FudCB0byBzZWxlY3RcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBiYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgY29uc3QgY2VudGVyWCA9IGJib3gueCArIGJib3gud2lkdGggLyAyO1xuICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSBiYm94LnkgKyBiYm94LmhlaWdodCAvIDI7XG4gICAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGVsLnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludChjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgICBpZiAoYWN0aXZlRWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGFjdGl2ZUVsLmNsYXNzTGlzdC5yZW1vdmUoUElDS0VSX0NPTF9BQ1RJVkUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50LmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHdlIGFyZSBzZWxlY3RpbmcgYSBuZXcgdmFsdWUsXG4gICAgICAgICAgICogd2UgbmVlZCB0byBydW4gaGFwdGljcyBhZ2Fpbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gYWN0aXZlRWwpIHtcbiAgICAgICAgICAgIGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbkV4aXRJbnB1dE1vZGUpIHtcbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFRoZSBuYXRpdmUgaU9TIHdoZWVsIHBpY2tlclxuICAgICAgICAgICAgICAgKiBvbmx5IGRpc21pc3NlcyB0aGUga2V5Ym9hcmRcbiAgICAgICAgICAgICAgICogb25jZSB0aGUgc2VsZWN0ZWQgaXRlbSBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgKiBhcyBhIHJlc3VsdCBvZiBhIHN3aXBlXG4gICAgICAgICAgICAgICAqIGZyb20gdGhlIHVzZXIuIElmIGBjYW5FeGl0SW5wdXRNb2RlYCBpc1xuICAgICAgICAgICAgICAgKiBgZmFsc2VgIHRoZW4gdGhpcyBtZWFucyB0aGF0IHRoZVxuICAgICAgICAgICAgICAgKiBzY3JvbGwgaXMgaGFwcGVuaW5nIGFzIGEgcmVzdWx0IG9mXG4gICAgICAgICAgICAgICAqIHRoZSBgdmFsdWVgIHByb3BlcnR5IHByb2dyYW1tYXRpY2FsbHkgY2hhbmdpbmdcbiAgICAgICAgICAgICAgICogZWl0aGVyIGJ5IGFuIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSB1c2VyIHZpYSB0aGUga2V5Ym9hcmQuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aXZlRWwgPSBhY3RpdmVFbGVtZW50O1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChQSUNLRVJfQ09MX0FDVElWRSk7XG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaGFwdGljU2VsZWN0aW9uRW5kKCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENlcnRhaW4gdGFza3MgKHN1Y2ggYXMgdGhvc2UgdGhhdFxuICAgICAgICAgICAgICogY2F1c2UgcmUtcmVuZGVycykgc2hvdWxkIG9ubHkgYmUgZG9uZVxuICAgICAgICAgICAgICogb25jZSBzY3JvbGxpbmcgaGFzIGZpbmlzaGVkLCBvdGhlcndpc2VcbiAgICAgICAgICAgICAqIGZsaWNrZXJpbmcgbWF5IG9jY3VyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB7IHNjcm9sbEVuZENhbGxiYWNrIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHNjcm9sbEVuZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHNjcm9sbEVuZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIHRoaXMuc2Nyb2xsRW5kQ2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlc2V0IHRoaXMgZmxhZyBhcyB0aGVcbiAgICAgICAgICAgICAqIG5leHQgc2Nyb2xsIGludGVyYWN0aW9uIGNvdWxkXG4gICAgICAgICAgICAgKiBiZSBhIHNjcm9sbCBmcm9tIHRoZSB1c2VyLiBJbiB0aGlzXG4gICAgICAgICAgICAgKiBjYXNlLCB3ZSBzaG91bGQgZXhpdCBpbnB1dCBtb2RlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmNhbkV4aXRJbnB1dE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZGF0YUluZGV4ID0gYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgbm8gdmFsdWUgaXQgaXNcbiAgICAgICAgICAgICAqIHBvc3NpYmxlIHdlIGhpdCBvbmUgb2YgdGhlXG4gICAgICAgICAgICAgKiBlbXB0eSBwYWRkaW5nIGNvbHVtbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChkYXRhSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChkYXRhSW5kZXgsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbS52YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlKHNlbGVjdGVkSXRlbS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjUwKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwIHRoaXMgaW4gYW4gcmFmIHNvIHRoYXQgdGhlIHNjcm9sbCBjYWxsYmFja1xuICAgICAgICogZG9lcyBub3QgZmlyZSB3aGVuIGNvbXBvbmVudCBpcyBpbml0aWFsbHkgc2hvd24uXG4gICAgICAgKi9cbiAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5kZXN0cm95U2Nyb2xsTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsQ2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZWxscyB0aGUgcGFyZW50IHBpY2tlciB0b1xuICAgICAqIGV4aXQgdGV4dCBlbnRyeSBtb2RlLiBUaGlzIGlzIG9ubHkgY2FsbGVkXG4gICAgICogd2hlbiB0aGUgc2VsZWN0ZWQgaXRlbSBjaGFuZ2VzIGR1cmluZyBzY3JvbGwsIHNvXG4gICAgICogd2Uga25vdyB0aGF0IHRoZSB1c2VyIGxpa2VseSB3YW50cyB0byBzY3JvbGxcbiAgICAgKiBpbnN0ZWFkIG9mIHR5cGUuXG4gICAgICovXG4gICAgdGhpcy5leGl0SW5wdXRNb2RlID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBwYXJlbnRFbCB9ID0gdGhpcztcbiAgICAgIGlmIChwYXJlbnRFbCA9PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgICBwYXJlbnRFbC5leGl0SW5wdXRNb2RlKCk7XG4gICAgICAvKipcbiAgICAgICAqIHNldElucHV0TW9kZUFjdGl2ZSBvbmx5IHRha2VzXG4gICAgICAgKiBlZmZlY3Qgb25jZSBzY3JvbGxpbmcgc3RvcHMgdG8gYXZvaWRcbiAgICAgICAqIGEgY29tcG9uZW50IHJlLXJlbmRlciB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICAgKiBIb3dldmVyLCB3ZSB3YW50IHRoZSB2aXN1YWwgYWN0aXZlXG4gICAgICAgKiBpbmRpY2F0b3IgdG8gZ28gYXdheSBpbW1lZGlhdGVseSwgc29cbiAgICAgICAqIHdlIGNhbGwgY2xhc3NMaXN0LnJlbW92ZSBoZXJlLlxuICAgICAgICovXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BpY2tlci1jb2x1bW4tYWN0aXZlJyk7XG4gICAgfTtcbiAgfVxuICB2YWx1ZUNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5pc0NvbHVtblZpc2libGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogT25seSBzY3JvbGwgdGhlIGFjdGl2ZSBpdGVtIGludG8gdmlldyB3aGVuIHRoZSBwaWNrZXIgY29sdW1uXG4gICAgICAgKiBpcyBhY3RpdmVseSB2aXNpYmxlIHRvIHRoZSB1c2VyLlxuICAgICAgICovXG4gICAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1JbnRvVmlldygpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogT25seSBzZXR1cCBzY3JvbGwgbGlzdGVuZXJzXG4gICAqIHdoZW4gdGhlIHBpY2tlciBpcyB2aXNpYmxlLCBvdGhlcndpc2VcbiAgICogdGhlIGNvbnRhaW5lciB3aWxsIGhhdmUgYSBzY3JvbGxcbiAgICogaGVpZ2h0IG9mIDBweC5cbiAgICovXG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGNvbnN0IHZpc2libGVDYWxsYmFjayA9IChlbnRyaWVzKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBldiA9IGVudHJpZXNbMF07XG4gICAgICBpZiAoZXYuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgdGhpcy5pc0NvbHVtblZpc2libGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmVjYXVzZSB0aGlzIGluaXRpYWwgY2FsbCB0byBzY3JvbGxBY3RpdmVJdGVtSW50b1ZpZXcgaGFzIHRvIGZpcmUgYmVmb3JlXG4gICAgICAgICAqIHRoZSBzY3JvbGwgbGlzdGVuZXIgaXMgc2V0IHVwLCB3ZSBuZWVkIHRvIG1hbmFnZSB0aGUgYWN0aXZlIGNsYXNzIG1hbnVhbGx5LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgb2xkQWN0aXZlID0gZ2V0RWxlbWVudFJvb3QodGhpcy5lbCkucXVlcnlTZWxlY3RvcihgLiR7UElDS0VSX0NPTF9BQ1RJVkV9YCk7XG4gICAgICAgIG9sZEFjdGl2ZSA9PT0gbnVsbCB8fCBvbGRBY3RpdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9sZEFjdGl2ZS5jbGFzc0xpc3QucmVtb3ZlKFBJQ0tFUl9DT0xfQUNUSVZFKTtcbiAgICAgICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtSW50b1ZpZXcoKTtcbiAgICAgICAgKF9hID0gdGhpcy5hY3RpdmVJdGVtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LmFkZChQSUNLRVJfQ09MX0FDVElWRSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNjcm9sbExpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0NvbHVtblZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveVNjcm9sbExpc3RlbmVyKSB7XG4gICAgICAgICAgdGhpcy5kZXN0cm95U2Nyb2xsTGlzdGVuZXIoKTtcbiAgICAgICAgICB0aGlzLmRlc3Ryb3lTY3JvbGxMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHZpc2libGVDYWxsYmFjaywgeyB0aHJlc2hvbGQ6IDAuMDAxIH0pLm9ic2VydmUodGhpcy5lbCk7XG4gICAgY29uc3QgcGFyZW50RWwgPSAodGhpcy5wYXJlbnRFbCA9IHRoaXMuZWwuY2xvc2VzdCgnaW9uLXBpY2tlci1pbnRlcm5hbCcpKTtcbiAgICBpZiAocGFyZW50RWwgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE8oRlctMjgzMik6IHR5cGVcbiAgICAgIHBhcmVudEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lvbklucHV0TW9kZUNoYW5nZScsIChldikgPT4gdGhpcy5pbnB1dE1vZGVDaGFuZ2UoZXYpKTtcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGFjdGl2ZUl0ZW0sIGl0ZW1zLCBpc0NvbHVtblZpc2libGUsIHZhbHVlIH0gPSB0aGlzO1xuICAgIGlmIChpc0NvbHVtblZpc2libGUpIHtcbiAgICAgIGlmIChhY3RpdmVJdGVtKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbUludG9WaWV3KCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgoKF9hID0gaXRlbXNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZSkgIT09IHZhbHVlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgcGlja2VyIGNvbHVtbiBkb2VzIG5vdCBoYXZlIGFuIGFjdGl2ZSBpdGVtIGFuZCB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAgICAgKiBkb2VzIG5vdCBtYXRjaCB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgcGlja2VyIGNvbHVtbiwgdGhhdCBtZWFuc1xuICAgICAgICAgKiB0aGUgdmFsdWUgaXMgb3V0IG9mIGJvdW5kcy4gSW4gdGhpcyBjYXNlLCB3ZSBhc3NpZ24gdGhlIHZhbHVlIHRvIHRoZVxuICAgICAgICAgKiBmaXJzdCBpdGVtIHRvIG1hdGNoIHRoZSBzY3JvbGwgcG9zaXRpb24gb2YgdGhlIGNvbHVtbi5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0VmFsdWUoaXRlbXNbMF0udmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKiogQGludGVybmFsICAqL1xuICBhc3luYyBzY3JvbGxBY3RpdmVJdGVtSW50b1ZpZXcoKSB7XG4gICAgY29uc3QgYWN0aXZlRWwgPSB0aGlzLmFjdGl2ZUl0ZW07XG4gICAgaWYgKGFjdGl2ZUVsKSB7XG4gICAgICB0aGlzLmNlbnRlclBpY2tlckl0ZW1JblZpZXcoYWN0aXZlRWwsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBwcm9wIGFuZCBmaXJlcyB0aGUgaW9uQ2hhbmdlIGV2ZW50LlxuICAgKiBUaGlzIGlzIHVzZWQgd2hlbiB3ZSBuZWVkIHRvIGZpcmUgaW9uQ2hhbmdlIGZyb21cbiAgICogdXNlci1nZW5lcmF0ZWQgZXZlbnRzIHRoYXQgY2Fubm90IGJlIGNhdWdodCB3aXRoIG5vcm1hbFxuICAgKiBpbnB1dC9jaGFuZ2UgZXZlbnQgbGlzdGVuZXJzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3QgeyBpdGVtcyB9ID0gdGhpcztcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgY29uc3QgZmluZEl0ZW0gPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLnZhbHVlID09PSB2YWx1ZSAmJiBpdGVtLmRpc2FibGVkICE9PSB0cnVlKTtcbiAgICBpZiAoZmluZEl0ZW0pIHtcbiAgICAgIHRoaXMuaW9uQ2hhbmdlLmVtaXQoZmluZEl0ZW0pO1xuICAgIH1cbiAgfVxuICBnZXQgYWN0aXZlSXRlbSgpIHtcbiAgICByZXR1cm4gZ2V0RWxlbWVudFJvb3QodGhpcy5lbCkucXVlcnlTZWxlY3RvcihgLnBpY2tlci1pdGVtW2RhdGEtdmFsdWU9XCIke3RoaXMudmFsdWV9XCJdOm5vdChbZGlzYWJsZWRdKWApO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGl0ZW1zLCBjb2xvciwgaXNBY3RpdmUsIG51bWVyaWNJbnB1dCB9ID0gdGhpcztcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyB0YWJpbmRleDogMCwgY2xhc3M6IGNyZWF0ZUNvbG9yQ2xhc3Nlcyhjb2xvciwge1xuICAgICAgICBbbW9kZV06IHRydWUsXG4gICAgICAgIFsncGlja2VyLWNvbHVtbi1hY3RpdmUnXTogaXNBY3RpdmUsXG4gICAgICAgIFsncGlja2VyLWNvbHVtbi1udW1lcmljLWlucHV0J106IG51bWVyaWNJbnB1dCxcbiAgICAgIH0pIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJwaWNrZXItaXRlbSBwaWNrZXItaXRlbS1lbXB0eVwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0sIFwiXFx1MDBBMFwiKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1pdGVtIHBpY2tlci1pdGVtLWVtcHR5XCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSwgXCJcXHUwMEEwXCIpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWl0ZW0gcGlja2VyLWl0ZW0tZW1wdHlcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9LCBcIlxcdTAwQTBcIiksIGl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiAoaChcImJ1dHRvblwiLCB7IHRhYmluZGV4OiBcIi0xXCIsIGNsYXNzOiB7XG4gICAgICAgICAgJ3BpY2tlci1pdGVtJzogdHJ1ZSxcbiAgICAgICAgICAncGlja2VyLWl0ZW0tZGlzYWJsZWQnOiBpdGVtLmRpc2FibGVkIHx8IGZhbHNlLFxuICAgICAgICB9LCBcImRhdGEtdmFsdWVcIjogaXRlbS52YWx1ZSwgXCJkYXRhLWluZGV4XCI6IGluZGV4LCBvbkNsaWNrOiAoZXYpID0+IHtcbiAgICAgICAgICB0aGlzLmNlbnRlclBpY2tlckl0ZW1JblZpZXcoZXYudGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgfSwgZGlzYWJsZWQ6IGl0ZW0uZGlzYWJsZWQgfSwgaXRlbS50ZXh0KSk7XG4gICAgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJwaWNrZXItaXRlbSBwaWNrZXItaXRlbS1lbXB0eVwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0sIFwiXFx1MDBBMFwiKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1pdGVtIHBpY2tlci1pdGVtLWVtcHR5XCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSwgXCJcXHUwMEEwXCIpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWl0ZW0gcGlja2VyLWl0ZW0tZW1wdHlcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9LCBcIlxcdTAwQTBcIikpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ2YWx1ZVwiOiBbXCJ2YWx1ZUNoYW5nZVwiXVxuICB9OyB9XG59O1xuY29uc3QgUElDS0VSX0NPTF9BQ1RJVkUgPSAncGlja2VyLWl0ZW0tYWN0aXZlJztcblBpY2tlckNvbHVtbkludGVybmFsLnN0eWxlID0ge1xuICBpb3M6IHBpY2tlckNvbHVtbkludGVybmFsSW9zQ3NzLFxuICBtZDogcGlja2VyQ29sdW1uSW50ZXJuYWxNZENzc1xufTtcblxuZXhwb3J0IHsgUGlja2VyQ29sdW1uSW50ZXJuYWwgYXMgaW9uX3BpY2tlcl9jb2x1bW5faW50ZXJuYWwgfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5jb25zdCBob3N0Q29udGV4dCA9IChzZWxlY3RvciwgZWwpID0+IHtcbiAgcmV0dXJuIGVsLmNsb3Nlc3Qoc2VsZWN0b3IpICE9PSBudWxsO1xufTtcbi8qKlxuICogQ3JlYXRlIHRoZSBtb2RlIGFuZCBjb2xvciBjbGFzc2VzIGZvciB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHRoZSBjbGFzc2VzIHBhc3NlZCBpblxuICovXG5jb25zdCBjcmVhdGVDb2xvckNsYXNzZXMgPSAoY29sb3IsIGNzc0NsYXNzTWFwKSA9PiB7XG4gIHJldHVybiB0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnICYmIGNvbG9yLmxlbmd0aCA+IDBcbiAgICA/IE9iamVjdC5hc3NpZ24oeyAnaW9uLWNvbG9yJzogdHJ1ZSwgW2Bpb24tY29sb3ItJHtjb2xvcn1gXTogdHJ1ZSB9LCBjc3NDbGFzc01hcCkgOiBjc3NDbGFzc01hcDtcbn07XG5jb25zdCBnZXRDbGFzc0xpc3QgPSAoY2xhc3NlcykgPT4ge1xuICBpZiAoY2xhc3NlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgYXJyYXkgPSBBcnJheS5pc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IGNsYXNzZXMuc3BsaXQoJyAnKTtcbiAgICByZXR1cm4gYXJyYXlcbiAgICAgIC5maWx0ZXIoKGMpID0+IGMgIT0gbnVsbClcbiAgICAgIC5tYXAoKGMpID0+IGMudHJpbSgpKVxuICAgICAgLmZpbHRlcigoYykgPT4gYyAhPT0gJycpO1xuICB9XG4gIHJldHVybiBbXTtcbn07XG5jb25zdCBnZXRDbGFzc01hcCA9IChjbGFzc2VzKSA9PiB7XG4gIGNvbnN0IG1hcCA9IHt9O1xuICBnZXRDbGFzc0xpc3QoY2xhc3NlcykuZm9yRWFjaCgoYykgPT4gKG1hcFtjXSA9IHRydWUpKTtcbiAgcmV0dXJuIG1hcDtcbn07XG5jb25zdCBTQ0hFTUUgPSAvXlthLXpdW2EtejAtOStcXC0uXSo6LztcbmNvbnN0IG9wZW5VUkwgPSBhc3luYyAodXJsLCBldiwgZGlyZWN0aW9uLCBhbmltYXRpb24pID0+IHtcbiAgaWYgKHVybCAhPSBudWxsICYmIHVybFswXSAhPT0gJyMnICYmICFTQ0hFTUUudGVzdCh1cmwpKSB7XG4gICAgY29uc3Qgcm91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlcicpO1xuICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgIGlmIChldiAhPSBudWxsKSB7XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcm91dGVyLnB1c2godXJsLCBkaXJlY3Rpb24sIGFuaW1hdGlvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUNvbG9yQ2xhc3NlcyBhcyBjLCBnZXRDbGFzc01hcCBhcyBnLCBob3N0Q29udGV4dCBhcyBoLCBvcGVuVVJMIGFzIG8gfTtcbiJdLCJuYW1lcyI6WyJyIiwicmVnaXN0ZXJJbnN0YW5jZSIsImUiLCJjcmVhdGVFdmVudCIsImgiLCJIIiwiSG9zdCIsImkiLCJnZXRFbGVtZW50IiwiYiIsImdldElvbk1vZGUiLCJyYWYiLCJnIiwiZ2V0RWxlbWVudFJvb3QiLCJhIiwiaGFwdGljU2VsZWN0aW9uU3RhcnQiLCJoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkIiwiaGFwdGljU2VsZWN0aW9uRW5kIiwiYyIsImNyZWF0ZUNvbG9yQ2xhc3NlcyIsInBpY2tlckNvbHVtbkludGVybmFsSW9zQ3NzIiwicGlja2VyQ29sdW1uSW50ZXJuYWxNZENzcyIsIlBpY2tlckNvbHVtbkludGVybmFsIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwiaW9uQ2hhbmdlIiwiaXNTY3JvbGxpbmciLCJpc0NvbHVtblZpc2libGUiLCJjYW5FeGl0SW5wdXRNb2RlIiwiaXNBY3RpdmUiLCJpdGVtcyIsImNvbG9yIiwibnVtZXJpY0lucHV0IiwiY2VudGVyUGlja2VySXRlbUluVmlldyIsInRhcmdldCIsInNtb290aCIsImVsIiwidG9wIiwib2Zmc2V0VG9wIiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsIiwibGVmdCIsImJlaGF2aW9yIiwidW5kZWZpbmVkIiwiaW5wdXRNb2RlQ2hhbmdlIiwiZXYiLCJ1c2VJbnB1dE1vZGUiLCJpbnB1dE1vZGVDb2x1bW4iLCJkZXRhaWwiLCJpc0NvbHVtbkFjdGl2ZSIsInNldElucHV0TW9kZUFjdGl2ZSIsInN0YXRlIiwic2Nyb2xsRW5kQ2FsbGJhY2siLCJpbml0aWFsaXplU2Nyb2xsTGlzdGVuZXIiLCJ0aW1lb3V0IiwiYWN0aXZlRWwiLCJhY3RpdmVJdGVtIiwic2Nyb2xsQ2FsbGJhY2siLCJjbGVhclRpbWVvdXQiLCJiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2VudGVyWCIsIngiLCJ3aWR0aCIsImNlbnRlclkiLCJ5IiwiaGVpZ2h0IiwiYWN0aXZlRWxlbWVudCIsInNoYWRvd1Jvb3QiLCJlbGVtZW50RnJvbVBvaW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiUElDS0VSX0NPTF9BQ1RJVkUiLCJkaXNhYmxlZCIsImV4aXRJbnB1dE1vZGUiLCJhZGQiLCJzZXRUaW1lb3V0IiwiZGF0YUluZGV4IiwiZ2V0QXR0cmlidXRlIiwiaW5kZXgiLCJwYXJzZUludCIsInNlbGVjdGVkSXRlbSIsInZhbHVlIiwic2V0VmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVzdHJveVNjcm9sbExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcmVudEVsIiwidmFsdWVDaGFuZ2UiLCJzY3JvbGxBY3RpdmVJdGVtSW50b1ZpZXciLCJjb21wb25lbnRXaWxsTG9hZCIsInZpc2libGVDYWxsYmFjayIsImVudHJpZXMiLCJfYSIsImlzSW50ZXJzZWN0aW5nIiwib2xkQWN0aXZlIiwicXVlcnlTZWxlY3RvciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwidGhyZXNob2xkIiwib2JzZXJ2ZSIsImNsb3Nlc3QiLCJjb21wb25lbnREaWRSZW5kZXIiLCJmaW5kSXRlbSIsImZpbmQiLCJpdGVtIiwiZW1pdCIsInJlbmRlciIsIm1vZGUiLCJ0YWJpbmRleCIsImNsYXNzIiwibWFwIiwib25DbGljayIsInRleHQiLCJ3YXRjaGVycyIsInN0eWxlIiwiaW9zIiwibWQiLCJpb25fcGlja2VyX2NvbHVtbl9pbnRlcm5hbCIsImhvc3RDb250ZXh0Iiwic2VsZWN0b3IiLCJjc3NDbGFzc01hcCIsImxlbmd0aCIsIk9iamVjdCIsImFzc2lnbiIsImdldENsYXNzTGlzdCIsImNsYXNzZXMiLCJhcnJheSIsIkFycmF5IiwiaXNBcnJheSIsInNwbGl0IiwiZmlsdGVyIiwidHJpbSIsImdldENsYXNzTWFwIiwiZm9yRWFjaCIsIlNDSEVNRSIsIm9wZW5VUkwiLCJ1cmwiLCJkaXJlY3Rpb24iLCJhbmltYXRpb24iLCJ0ZXN0Iiwicm91dGVyIiwiZG9jdW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsInB1c2giLCJvIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyJ9