"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-popover_entry_js"],{

/***/ 75057:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/index-c4b11676.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ printRequiredElementError),
/* harmony export */   "b": () => (/* binding */ printIonError),
/* harmony export */   "p": () => (/* binding */ printIonWarning)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
/**
 * Logs a warning to the console with an Ionic prefix
 * to indicate the library that is warning the developer.
 *
 * @param message - The string message to be logged to the console.
 */
const printIonWarning = (message, ...params) => {
  return console.warn(`[Ionic Warning]: ${message}`, ...params);
};
/*
 * Logs an error to the console with an Ionic prefix
 * to indicate the library that is warning the developer.
 *
 * @param message - The string message to be logged to the console.
 * @param params - Additional arguments to supply to the console.error.
 */
const printIonError = (message, ...params) => {
  return console.error(`[Ionic Error]: ${message}`, ...params);
};
/**
 * Prints an error informing developers that an implementation requires an element to be used
 * within a specific selector.
 *
 * @param el The web component element this is requiring the element.
 * @param targetSelectors The selector or selectors that were not found.
 */
const printRequiredElementError = (el, ...targetSelectors) => {
  return console.error(`<${el.tagName.toLowerCase()}> must be used inside ${targetSelectors.join(' or ')}.`);
};




/***/ }),

/***/ 99459:
/*!****************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-popover.entry.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_popover": () => (/* binding */ Popover)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 40320);
/* harmony import */ var _ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-c74e4951.js */ 9656);
/* harmony import */ var _framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./framework-delegate-c3305a28.js */ 74293);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 97140);
/* harmony import */ var _index_c4b11676_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index-c4b11676.js */ 75057);
/* harmony import */ var _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./overlays-58fa8e4d.js */ 31921);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./theme-7670341c.js */ 17548);
/* harmony import */ var _index_27c7e5c4_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-27c7e5c4.js */ 94784);
/* harmony import */ var _animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./animation-4ff3f603.js */ 23449);
/* harmony import */ var _hardware_back_button_490df115_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hardware-back-button-490df115.js */ 79222);
/* harmony import */ var _index_33ffec25_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./index-33ffec25.js */ 51356);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */











/**
 * Returns the dimensions of the popover
 * arrow on `ios` mode. If arrow is disabled
 * returns (0, 0).
 */

const getArrowDimensions = arrowEl => {
  if (!arrowEl) {
    return {
      arrowWidth: 0,
      arrowHeight: 0
    };
  }

  const {
    width,
    height
  } = arrowEl.getBoundingClientRect();
  return {
    arrowWidth: width,
    arrowHeight: height
  };
};
/**
 * Returns the recommended dimensions of the popover
 * that takes into account whether or not the width
 * should match the trigger width.
 */


const getPopoverDimensions = (size, contentEl, triggerEl) => {
  const contentDimentions = contentEl.getBoundingClientRect();
  const contentHeight = contentDimentions.height;
  let contentWidth = contentDimentions.width;

  if (size === 'cover' && triggerEl) {
    const triggerDimensions = triggerEl.getBoundingClientRect();
    contentWidth = triggerDimensions.width;
  }

  return {
    contentWidth,
    contentHeight
  };
};

const configureDismissInteraction = (triggerEl, triggerAction, popoverEl, parentPopoverEl) => {
  let dismissCallbacks = [];
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.g)(parentPopoverEl);
  const parentContentEl = root.querySelector('.popover-content');

  switch (triggerAction) {
    case 'hover':
      dismissCallbacks = [{
        /**
         * Do not use mouseover here
         * as this will causes the event to
         * be dispatched on each underlying
         * element rather than on the popover
         * content as a whole.
         */
        eventName: 'mouseenter',
        callback: ev => {
          /**
           * Do not dismiss the popover is we
           * are hovering over its trigger.
           * This would be easier if we used mouseover
           * but this would cause the event to be dispatched
           * more often than we would like, potentially
           * causing performance issues.
           */
          const element = document.elementFromPoint(ev.clientX, ev.clientY);

          if (element === triggerEl) {
            return;
          }

          popoverEl.dismiss(undefined, undefined, false);
        }
      }];
      break;

    case 'context-menu':
    case 'click':
    default:
      dismissCallbacks = [{
        eventName: 'click',
        callback: ev => {
          /**
           * Do not dismiss the popover is we
           * are hovering over its trigger.
           */
          const target = ev.target;
          const closestTrigger = target.closest('[data-ion-popover-trigger]');

          if (closestTrigger === triggerEl) {
            /**
             * stopPropagation here so if the
             * popover has dismissOnSelect="true"
             * the popover does not dismiss since
             * we just clicked a trigger element.
             */
            ev.stopPropagation();
            return;
          }

          popoverEl.dismiss(undefined, undefined, false);
        }
      }];
      break;
  }

  dismissCallbacks.forEach(({
    eventName,
    callback
  }) => parentContentEl.addEventListener(eventName, callback));
  return () => {
    dismissCallbacks.forEach(({
      eventName,
      callback
    }) => parentContentEl.removeEventListener(eventName, callback));
  };
};
/**
 * Configures the triggerEl to respond
 * to user interaction based upon the triggerAction
 * prop that devs have defined.
 */


const configureTriggerInteraction = (triggerEl, triggerAction, popoverEl) => {
  let triggerCallbacks = [];
  /**
   * Based upon the kind of trigger interaction
   * the user wants, we setup the correct event
   * listeners.
   */

  switch (triggerAction) {
    case 'hover':
      let hoverTimeout;
      triggerCallbacks = [{
        eventName: 'mouseenter',
        callback: function () {
          var _ref = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
            ev.stopPropagation();

            if (hoverTimeout) {
              clearTimeout(hoverTimeout);
            }
            /**
             * Hovering over a trigger should not
             * immediately open the next popover.
             */


            hoverTimeout = setTimeout(() => {
              (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => {
                popoverEl.presentFromTrigger(ev);
                hoverTimeout = undefined;
              });
            }, 100);
          });

          return function callback(_x) {
            return _ref.apply(this, arguments);
          };
        }()
      }, {
        eventName: 'mouseleave',
        callback: ev => {
          if (hoverTimeout) {
            clearTimeout(hoverTimeout);
          }
          /**
           * If mouse is over another popover
           * that is not this popover then we should
           * close this popover.
           */


          const target = ev.relatedTarget;

          if (!target) {
            return;
          }

          if (target.closest('ion-popover') !== popoverEl) {
            popoverEl.dismiss(undefined, undefined, false);
          }
        }
      }, {
        /**
         * stopPropagation here prevents the popover
         * from dismissing when dismiss-on-select="true".
         */
        eventName: 'click',
        callback: ev => ev.stopPropagation()
      }, {
        eventName: 'ionPopoverActivateTrigger',
        callback: ev => popoverEl.presentFromTrigger(ev, true)
      }];
      break;

    case 'context-menu':
      triggerCallbacks = [{
        eventName: 'contextmenu',
        callback: ev => {
          /**
           * Prevents the platform context
           * menu from appearing.
           */
          ev.preventDefault();
          popoverEl.presentFromTrigger(ev);
        }
      }, {
        eventName: 'click',
        callback: ev => ev.stopPropagation()
      }, {
        eventName: 'ionPopoverActivateTrigger',
        callback: ev => popoverEl.presentFromTrigger(ev, true)
      }];
      break;

    case 'click':
    default:
      triggerCallbacks = [{
        /**
         * Do not do a stopPropagation() here
         * because if you had two click triggers
         * then clicking the first trigger and then
         * clicking the second trigger would not cause
         * the first popover to dismiss.
         */
        eventName: 'click',
        callback: ev => popoverEl.presentFromTrigger(ev)
      }, {
        eventName: 'ionPopoverActivateTrigger',
        callback: ev => popoverEl.presentFromTrigger(ev, true)
      }];
      break;
  }

  triggerCallbacks.forEach(({
    eventName,
    callback
  }) => triggerEl.addEventListener(eventName, callback));
  triggerEl.setAttribute('data-ion-popover-trigger', 'true');
  return () => {
    triggerCallbacks.forEach(({
      eventName,
      callback
    }) => triggerEl.removeEventListener(eventName, callback));
    triggerEl.removeAttribute('data-ion-popover-trigger');
  };
};
/**
 * Returns the index of an ion-item in an array of ion-items.
 */


const getIndexOfItem = (items, item) => {
  if (!item || item.tagName !== 'ION-ITEM') {
    return -1;
  }

  return items.findIndex(el => el === item);
};
/**
 * Given an array of elements and a currently focused ion-item
 * returns the next ion-item relative to the focused one or
 * undefined.
 */


const getNextItem = (items, currentItem) => {
  const currentItemIndex = getIndexOfItem(items, currentItem);
  return items[currentItemIndex + 1];
};
/**
 * Given an array of elements and a currently focused ion-item
 * returns the previous ion-item relative to the focused one or
 * undefined.
 */


const getPrevItem = (items, currentItem) => {
  const currentItemIndex = getIndexOfItem(items, currentItem);
  return items[currentItemIndex - 1];
};
/** Focus the internal button of the ion-item */


const focusItem = item => {
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.g)(item);
  const button = root.querySelector('button');

  if (button) {
    (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => button.focus());
  }
};
/**
 * Returns `true` if `el` has been designated
 * as a trigger element for an ion-popover.
 */


const isTriggerElement = el => el.hasAttribute('data-ion-popover-trigger');

const configureKeyboardInteraction = popoverEl => {
  const callback = /*#__PURE__*/function () {
    var _ref2 = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
      var _a;

      const activeElement = document.activeElement;
      let items = [];
      const targetTagName = (_a = ev.target) === null || _a === void 0 ? void 0 : _a.tagName;
      /**
       * Only handle custom keyboard interactions for the host popover element
       * and children ion-item elements.
       */

      if (targetTagName !== 'ION-POPOVER' && targetTagName !== 'ION-ITEM') {
        return;
      }
      /**
       * Complex selectors with :not() are :not supported
       * in older versions of Chromium so we need to do a
       * try/catch here so errors are not thrown.
       */


      try {
        /**
         * Select all ion-items that are not children of child popovers.
         * i.e. only select ion-item elements that are part of this popover
         */
        items = Array.from(popoverEl.querySelectorAll('ion-item:not(ion-popover ion-popover *):not([disabled])'));
        /* eslint-disable-next-line */
      } catch (_b) {}

      switch (ev.key) {
        /**
         * If we are in a child popover
         * then pressing the left arrow key
         * should close this popover and move
         * focus to the popover that presented
         * this one.
         */
        case 'ArrowLeft':
          const parentPopover = yield popoverEl.getParentPopover();

          if (parentPopover) {
            popoverEl.dismiss(undefined, undefined, false);
          }

          break;

        /**
         * ArrowDown should move focus to the next focusable ion-item.
         */

        case 'ArrowDown':
          // Disable movement/scroll with keyboard
          ev.preventDefault();
          const nextItem = getNextItem(items, activeElement);

          if (nextItem !== undefined) {
            focusItem(nextItem);
          }

          break;

        /**
         * ArrowUp should move focus to the previous focusable ion-item.
         */

        case 'ArrowUp':
          // Disable movement/scroll with keyboard
          ev.preventDefault();
          const prevItem = getPrevItem(items, activeElement);

          if (prevItem !== undefined) {
            focusItem(prevItem);
          }

          break;

        /**
         * Home should move focus to the first focusable ion-item.
         */

        case 'Home':
          ev.preventDefault();
          const firstItem = items[0];

          if (firstItem !== undefined) {
            focusItem(firstItem);
          }

          break;

        /**
         * End should move focus to the last focusable ion-item.
         */

        case 'End':
          ev.preventDefault();
          const lastItem = items[items.length - 1];

          if (lastItem !== undefined) {
            focusItem(lastItem);
          }

          break;

        /**
         * ArrowRight, Spacebar, or Enter should activate
         * the currently focused trigger item to open a
         * popover if the element is a trigger item.
         */

        case 'ArrowRight':
        case ' ':
        case 'Enter':
          if (activeElement && isTriggerElement(activeElement)) {
            const rightEvent = new CustomEvent('ionPopoverActivateTrigger');
            activeElement.dispatchEvent(rightEvent);
          }

          break;
      }
    });

    return function callback(_x2) {
      return _ref2.apply(this, arguments);
    };
  }();

  popoverEl.addEventListener('keydown', callback);
  return () => popoverEl.removeEventListener('keydown', callback);
};
/**
 * Positions a popover by taking into account
 * the reference point, preferred side, alignment
 * and viewport dimensions.
 */


const getPopoverPosition = (isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, triggerEl, event) => {
  var _a;

  let referenceCoordinates = {
    top: 0,
    left: 0,
    width: 0,
    height: 0
  };
  /**
   * Calculate position relative to the
   * x-y coordinates in the event that
   * was passed in
   */

  switch (reference) {
    case 'event':
      if (!event) {
        return defaultPosition;
      }

      const mouseEv = event;
      referenceCoordinates = {
        top: mouseEv.clientY,
        left: mouseEv.clientX,
        width: 1,
        height: 1
      };
      break;

    /**
     * Calculate position relative to the bounding
     * box on either the trigger element
     * specified via the `trigger` prop or
     * the target specified on the event
     * that was passed in.
     */

    case 'trigger':
    default:
      const customEv = event;
      /**
       * ionShadowTarget is used when we need to align the
       * popover with an element inside of the shadow root
       * of an Ionic component. Ex: Presenting a popover
       * by clicking on the collapsed indicator inside
       * of `ion-breadcrumb` and centering it relative
       * to the indicator rather than `ion-breadcrumb`
       * as a whole.
       */

      const actualTriggerEl = triggerEl || ((_a = customEv === null || customEv === void 0 ? void 0 : customEv.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (customEv === null || customEv === void 0 ? void 0 : customEv.target);

      if (!actualTriggerEl) {
        return defaultPosition;
      }

      const triggerBoundingBox = actualTriggerEl.getBoundingClientRect();
      referenceCoordinates = {
        top: triggerBoundingBox.top,
        left: triggerBoundingBox.left,
        width: triggerBoundingBox.width,
        height: triggerBoundingBox.height
      };
      break;
  }
  /**
   * Get top/left offset that would allow
   * popover to be positioned on the
   * preferred side of the reference.
   */


  const coordinates = calculatePopoverSide(side, referenceCoordinates, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL);
  /**
   * Get the top/left adjustments that
   * would allow the popover content
   * to have the correct alignment.
   */

  const alignedCoordinates = calculatePopoverAlign(align, side, referenceCoordinates, contentWidth, contentHeight);
  const top = coordinates.top + alignedCoordinates.top;
  const left = coordinates.left + alignedCoordinates.left;
  const {
    arrowTop,
    arrowLeft
  } = calculateArrowPosition(side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL);
  const {
    originX,
    originY
  } = calculatePopoverOrigin(side, align, isRTL);
  return {
    top,
    left,
    referenceCoordinates,
    arrowTop,
    arrowLeft,
    originX,
    originY
  };
};
/**
 * Determines the transform-origin
 * of the popover animation so that it
 * is in line with what the side and alignment
 * prop values are. Currently only used
 * with the MD animation.
 */


const calculatePopoverOrigin = (side, align, isRTL) => {
  switch (side) {
    case 'top':
      return {
        originX: getOriginXAlignment(align),
        originY: 'bottom'
      };

    case 'bottom':
      return {
        originX: getOriginXAlignment(align),
        originY: 'top'
      };

    case 'left':
      return {
        originX: 'right',
        originY: getOriginYAlignment(align)
      };

    case 'right':
      return {
        originX: 'left',
        originY: getOriginYAlignment(align)
      };

    case 'start':
      return {
        originX: isRTL ? 'left' : 'right',
        originY: getOriginYAlignment(align)
      };

    case 'end':
      return {
        originX: isRTL ? 'right' : 'left',
        originY: getOriginYAlignment(align)
      };
  }
};

const getOriginXAlignment = align => {
  switch (align) {
    case 'start':
      return 'left';

    case 'center':
      return 'center';

    case 'end':
      return 'right';
  }
};

const getOriginYAlignment = align => {
  switch (align) {
    case 'start':
      return 'top';

    case 'center':
      return 'center';

    case 'end':
      return 'bottom';
  }
};
/**
 * Calculates where the arrow positioning
 * should be relative to the popover content.
 */


const calculateArrowPosition = (side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL) => {
  /**
   * Note: When side is left, right, start, or end, the arrow is
   * been rotated using a `transform`, so to move the arrow up or down
   * by its dimension, you need to use `arrowWidth`.
   */
  const leftPosition = {
    arrowTop: top + contentHeight / 2 - arrowWidth / 2,
    arrowLeft: left + contentWidth - arrowWidth / 2
  };
  /**
   * Move the arrow to the left by arrowWidth and then
   * again by half of its width because we have rotated
   * the arrow using a transform.
   */

  const rightPosition = {
    arrowTop: top + contentHeight / 2 - arrowWidth / 2,
    arrowLeft: left - arrowWidth * 1.5
  };

  switch (side) {
    case 'top':
      return {
        arrowTop: top + contentHeight,
        arrowLeft: left + contentWidth / 2 - arrowWidth / 2
      };

    case 'bottom':
      return {
        arrowTop: top - arrowHeight,
        arrowLeft: left + contentWidth / 2 - arrowWidth / 2
      };

    case 'left':
      return leftPosition;

    case 'right':
      return rightPosition;

    case 'start':
      return isRTL ? rightPosition : leftPosition;

    case 'end':
      return isRTL ? leftPosition : rightPosition;

    default:
      return {
        arrowTop: 0,
        arrowLeft: 0
      };
  }
};
/**
 * Calculates the required top/left
 * values needed to position the popover
 * content on the side specified in the
 * `side` prop.
 */


const calculatePopoverSide = (side, triggerBoundingBox, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL) => {
  const sideLeft = {
    top: triggerBoundingBox.top,
    left: triggerBoundingBox.left - contentWidth - arrowWidth
  };
  const sideRight = {
    top: triggerBoundingBox.top,
    left: triggerBoundingBox.left + triggerBoundingBox.width + arrowWidth
  };

  switch (side) {
    case 'top':
      return {
        top: triggerBoundingBox.top - contentHeight - arrowHeight,
        left: triggerBoundingBox.left
      };

    case 'right':
      return sideRight;

    case 'bottom':
      return {
        top: triggerBoundingBox.top + triggerBoundingBox.height + arrowHeight,
        left: triggerBoundingBox.left
      };

    case 'left':
      return sideLeft;

    case 'start':
      return isRTL ? sideRight : sideLeft;

    case 'end':
      return isRTL ? sideLeft : sideRight;
  }
};
/**
 * Calculates the required top/left
 * offset values needed to provide the
 * correct alignment regardless while taking
 * into account the side the popover is on.
 */


const calculatePopoverAlign = (align, side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (align) {
    case 'center':
      return calculatePopoverCenterAlign(side, triggerBoundingBox, contentWidth, contentHeight);

    case 'end':
      return calculatePopoverEndAlign(side, triggerBoundingBox, contentWidth, contentHeight);

    case 'start':
    default:
      return {
        top: 0,
        left: 0
      };
  }
};
/**
 * Calculate the end alignment for
 * the popover. If side is on the x-axis
 * then the align values refer to the top
 * and bottom margins of the content.
 * If side is on the y-axis then the
 * align values refer to the left and right
 * margins of the content.
 */


const calculatePopoverEndAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (side) {
    case 'start':
    case 'end':
    case 'left':
    case 'right':
      return {
        top: -(contentHeight - triggerBoundingBox.height),
        left: 0
      };

    case 'top':
    case 'bottom':
    default:
      return {
        top: 0,
        left: -(contentWidth - triggerBoundingBox.width)
      };
  }
};
/**
 * Calculate the center alignment for
 * the popover. If side is on the x-axis
 * then the align values refer to the top
 * and bottom margins of the content.
 * If side is on the y-axis then the
 * align values refer to the left and right
 * margins of the content.
 */


const calculatePopoverCenterAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (side) {
    case 'start':
    case 'end':
    case 'left':
    case 'right':
      return {
        top: -(contentHeight / 2 - triggerBoundingBox.height / 2),
        left: 0
      };

    case 'top':
    case 'bottom':
    default:
      return {
        top: 0,
        left: -(contentWidth / 2 - triggerBoundingBox.width / 2)
      };
  }
};
/**
 * Adjusts popover positioning coordinates
 * such that popover does not appear offscreen
 * or overlapping safe area bounds.
 */


const calculateWindowAdjustment = (side, coordTop, coordLeft, bodyPadding, bodyWidth, bodyHeight, contentWidth, contentHeight, safeAreaMargin, contentOriginX, contentOriginY, triggerCoordinates, coordArrowTop = 0, coordArrowLeft = 0, arrowHeight = 0) => {
  let arrowTop = coordArrowTop;
  const arrowLeft = coordArrowLeft;
  let left = coordLeft;
  let top = coordTop;
  let bottom;
  let originX = contentOriginX;
  let originY = contentOriginY;
  let checkSafeAreaLeft = false;
  let checkSafeAreaRight = false;
  const triggerTop = triggerCoordinates ? triggerCoordinates.top + triggerCoordinates.height : bodyHeight / 2 - contentHeight / 2;
  const triggerHeight = triggerCoordinates ? triggerCoordinates.height : 0;
  let addPopoverBottomClass = false;
  /**
   * Adjust popover so it does not
   * go off the left of the screen.
   */

  if (left < bodyPadding + safeAreaMargin) {
    left = bodyPadding;
    checkSafeAreaLeft = true;
    originX = 'left';
    /**
     * Adjust popover so it does not
     * go off the right of the screen.
     */
  } else if (contentWidth + bodyPadding + left + safeAreaMargin > bodyWidth) {
    checkSafeAreaRight = true;
    left = bodyWidth - contentWidth - bodyPadding;
    originX = 'right';
  }
  /**
   * Adjust popover so it does not
   * go off the top of the screen.
   * If popover is on the left or the right of
   * the trigger, then we should not adjust top
   * margins.
   */


  if (triggerTop + triggerHeight + contentHeight > bodyHeight && (side === 'top' || side === 'bottom')) {
    if (triggerTop - contentHeight > 0) {
      /**
       * While we strive to align the popover with the trigger
       * on smaller screens this is not always possible. As a result,
       * we adjust the popover up so that it does not hang
       * off the bottom of the screen. However, we do not want to move
       * the popover up so much that it goes off the top of the screen.
       *
       * We chose 12 here so that the popover position looks a bit nicer as
       * it is not right up against the edge of the screen.
       */
      top = Math.max(12, triggerTop - contentHeight - triggerHeight - (arrowHeight - 1));
      arrowTop = top + contentHeight;
      originY = 'bottom';
      addPopoverBottomClass = true;
      /**
       * If not enough room for popover to appear
       * above trigger, then cut it off.
       */
    } else {
      bottom = bodyPadding;
    }
  }

  return {
    top,
    left,
    bottom,
    originX,
    originY,
    checkSafeAreaLeft,
    checkSafeAreaRight,
    arrowTop,
    arrowLeft,
    addPopoverBottomClass
  };
};

const shouldShowArrow = (side, didAdjustBounds = false, ev, trigger) => {
  /**
   * If no event provided and
   * we do not have a trigger,
   * then this popover was likely
   * presented via the popoverController
   * or users called `present` manually.
   * In this case, the arrow should not be
   * shown as we do not have a reference.
   */
  if (!ev && !trigger) {
    return false;
  }
  /**
   * If popover is on the left or the right
   * of a trigger, but we needed to adjust the
   * popover due to screen bounds, then we should
   * hide the arrow as it will never be pointing
   * at the trigger.
   */


  if (side !== 'top' && side !== 'bottom' && didAdjustBounds) {
    return false;
  }

  return true;
};

const POPOVER_IOS_BODY_PADDING = 5;
/**
 * iOS Popover Enter Animation
 */
// TODO(FW-2832): types

const iosEnterAnimation = (baseEl, opts) => {
  var _a;

  const {
    event: ev,
    size,
    trigger,
    reference,
    side,
    align
  } = opts;
  const doc = baseEl.ownerDocument;
  const isRTL = doc.dir === 'rtl';
  const bodyWidth = doc.defaultView.innerWidth;
  const bodyHeight = doc.defaultView.innerHeight;
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const arrowEl = root.querySelector('.popover-arrow');
  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);
  const {
    contentWidth,
    contentHeight
  } = getPopoverDimensions(size, contentEl, referenceSizeEl);
  const {
    arrowWidth,
    arrowHeight
  } = getArrowDimensions(arrowEl);
  const defaultPosition = {
    top: bodyHeight / 2 - contentHeight / 2,
    left: bodyWidth / 2 - contentWidth / 2,
    originX: isRTL ? 'right' : 'left',
    originY: 'top'
  };
  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, trigger, ev);
  const padding = size === 'cover' ? 0 : POPOVER_IOS_BODY_PADDING;
  const margin = size === 'cover' ? 0 : 25;
  const {
    originX,
    originY,
    top,
    left,
    bottom,
    checkSafeAreaLeft,
    checkSafeAreaRight,
    arrowTop,
    arrowLeft,
    addPopoverBottomClass
  } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, margin, results.originX, results.originY, results.referenceCoordinates, results.arrowTop, results.arrowLeft, arrowHeight);
  const baseAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.01, 1);
  return baseAnimation.easing('ease').duration(100).beforeAddWrite(() => {
    if (size === 'cover') {
      baseEl.style.setProperty('--width', `${contentWidth}px`);
    }

    if (addPopoverBottomClass) {
      baseEl.classList.add('popover-bottom');
    }

    if (bottom !== undefined) {
      contentEl.style.setProperty('bottom', `${bottom}px`);
    }

    const safeAreaLeft = ' + var(--ion-safe-area-left, 0)';
    const safeAreaRight = ' - var(--ion-safe-area-right, 0)';
    let leftValue = `${left}px`;

    if (checkSafeAreaLeft) {
      leftValue = `${left}px${safeAreaLeft}`;
    }

    if (checkSafeAreaRight) {
      leftValue = `${left}px${safeAreaRight}`;
    }

    contentEl.style.setProperty('top', `calc(${top}px + var(--offset-y, 0))`);
    contentEl.style.setProperty('left', `calc(${leftValue} + var(--offset-x, 0))`);
    contentEl.style.setProperty('transform-origin', `${originY} ${originX}`);

    if (arrowEl !== null) {
      const didAdjustBounds = results.top !== top || results.left !== left;
      const showArrow = shouldShowArrow(side, didAdjustBounds, ev, trigger);

      if (showArrow) {
        arrowEl.style.setProperty('top', `calc(${arrowTop}px + var(--offset-y, 0))`);
        arrowEl.style.setProperty('left', `calc(${arrowLeft}px + var(--offset-x, 0))`);
      } else {
        arrowEl.style.setProperty('display', 'none');
      }
    }
  }).addAnimation([backdropAnimation, wrapperAnimation]);
};
/**
 * iOS Popover Leave Animation
 */


const iosLeaveAnimation = baseEl => {
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const arrowEl = root.querySelector('.popover-arrow');
  const baseAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);
  return baseAnimation.easing('ease').afterAddWrite(() => {
    baseEl.style.removeProperty('--width');
    baseEl.classList.remove('popover-bottom');
    contentEl.style.removeProperty('top');
    contentEl.style.removeProperty('left');
    contentEl.style.removeProperty('bottom');
    contentEl.style.removeProperty('transform-origin');

    if (arrowEl) {
      arrowEl.style.removeProperty('top');
      arrowEl.style.removeProperty('left');
      arrowEl.style.removeProperty('display');
    }
  }).duration(300).addAnimation([backdropAnimation, wrapperAnimation]);
};

const POPOVER_MD_BODY_PADDING = 12;
/**
 * Md Popover Enter Animation
 */
// TODO(FW-2832): types

const mdEnterAnimation = (baseEl, opts) => {
  var _a;

  const {
    event: ev,
    size,
    trigger,
    reference,
    side,
    align
  } = opts;
  const doc = baseEl.ownerDocument;
  const isRTL = doc.dir === 'rtl';
  const bodyWidth = doc.defaultView.innerWidth;
  const bodyHeight = doc.defaultView.innerHeight;
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);
  const {
    contentWidth,
    contentHeight
  } = getPopoverDimensions(size, contentEl, referenceSizeEl);
  const defaultPosition = {
    top: bodyHeight / 2 - contentHeight / 2,
    left: bodyWidth / 2 - contentWidth / 2,
    originX: isRTL ? 'right' : 'left',
    originY: 'top'
  };
  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, 0, 0, reference, side, align, defaultPosition, trigger, ev);
  const padding = size === 'cover' ? 0 : POPOVER_MD_BODY_PADDING;
  const {
    originX,
    originY,
    top,
    left,
    bottom
  } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, 0, results.originX, results.originY, results.referenceCoordinates);
  const baseAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const contentAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const viewportAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).duration(150).fromTo('opacity', 0.01, 1);
  contentAnimation.addElement(contentEl).beforeStyles({
    top: `calc(${top}px + var(--offset-y, 0px))`,
    left: `calc(${left}px + var(--offset-x, 0px))`,
    'transform-origin': `${originY} ${originX}`
  }).beforeAddWrite(() => {
    if (bottom !== undefined) {
      contentEl.style.setProperty('bottom', `${bottom}px`);
    }
  }).fromTo('transform', 'scale(0.8)', 'scale(1)');
  viewportAnimation.addElement(root.querySelector('.popover-viewport')).fromTo('opacity', 0.01, 1);
  return baseAnimation.easing('cubic-bezier(0.36,0.66,0.04,1)').duration(300).beforeAddWrite(() => {
    if (size === 'cover') {
      baseEl.style.setProperty('--width', `${contentWidth}px`);
    }

    if (originY === 'bottom') {
      baseEl.classList.add('popover-bottom');
    }
  }).addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);
};
/**
 * Md Popover Leave Animation
 */


const mdLeaveAnimation = baseEl => {
  const root = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const baseAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const backdropAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  const wrapperAnimation = (0,_animation_4ff3f603_js__WEBPACK_IMPORTED_MODULE_9__.c)();
  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);
  return baseAnimation.easing('ease').afterAddWrite(() => {
    baseEl.style.removeProperty('--width');
    baseEl.classList.remove('popover-bottom');
    contentEl.style.removeProperty('top');
    contentEl.style.removeProperty('left');
    contentEl.style.removeProperty('bottom');
    contentEl.style.removeProperty('transform-origin');
  }).duration(150).addAnimation([backdropAnimation, wrapperAnimation]);
};

const popoverIosCss = ":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:\"\";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}";
const popoverMdCss = ":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}";
const Popover = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.didPresent = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionPopoverDidPresent", 7);
    this.willPresent = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionPopoverWillPresent", 7);
    this.willDismiss = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionPopoverWillDismiss", 7);
    this.didDismiss = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionPopoverDidDismiss", 7);
    this.didPresentShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "didDismiss", 7);
    this.ionMount = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionMount", 7);
    this.parentPopover = null;
    this.popoverIndex = popoverIds++;
    this.coreDelegate = (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_3__.C)();
    this.inline = false;
    this.focusDescendantOnPresent = false;
    this.presented = false;
    /** @internal */

    this.hasController = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */

    this.keyboardClose = true;
    /**
     * If `true`, the popover will be dismissed when the backdrop is clicked.
     */

    this.backdropDismiss = true;
    /**
     * If `true`, a backdrop will be displayed behind the popover.
     * This property controls whether or not the backdrop
     * darkens the screen when the popover is presented.
     * It does not control whether or not the backdrop
     * is active or present in the DOM.
     */

    this.showBackdrop = true;
    /**
     * If `true`, the popover will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */

    this.translucent = false;
    /**
     * If `true`, the popover will animate.
     */

    this.animated = true;
    /**
     * Describes what kind of interaction with the trigger that
     * should cause the popover to open. Does not apply when the `trigger`
     * property is `undefined`.
     * If `'click'`, the popover will be presented when the trigger is left clicked.
     * If `'hover'`, the popover will be presented when a pointer hovers over the trigger.
     * If `'context-menu'`, the popover will be presented when the trigger is right
     * clicked on desktop and long pressed on mobile. This will also prevent your
     * device's normal context menu from appearing.
     */

    this.triggerAction = 'click';
    /**
     * Describes how to calculate the popover width.
     * If `'cover'`, the popover width will match the width of the trigger.
     * If `'auto'`, the popover width will be determined by the content in
     * the popover.
     */

    this.size = 'auto';
    /**
     * If `true`, the popover will be automatically
     * dismissed when the content has been clicked.
     */

    this.dismissOnSelect = false;
    /**
     * Describes what to position the popover relative to.
     * If `'trigger'`, the popover will be positioned relative
     * to the trigger button. If passing in an event, this is
     * determined via event.target.
     * If `'event'`, the popover will be positioned relative
     * to the x/y coordinates of the trigger action. If passing
     * in an event, this is determined via event.clientX and event.clientY.
     */

    this.reference = 'trigger';
    /**
     * Describes which side of the `reference` point to position
     * the popover on. The `'start'` and `'end'` values are RTL-aware,
     * and the `'left'` and `'right'` values are not.
     */

    this.side = 'bottom';
    /**
     * If `true`, the popover will display an arrow that points at the
     * `reference` when running in `ios` mode. Does not apply in `md` mode.
     */

    this.arrow = true;
    /**
     * If `true`, the popover will open. If `false`, the popover will close.
     * Use this if you need finer grained control over presentation, otherwise
     * just use the popoverController or the `trigger` property.
     * Note: `isOpen` will not automatically be set back to `false` when
     * the popover dismisses. You will need to do that in your code.
     */

    this.isOpen = false;
    /**
     * @internal
     *
     * If `true` the popover will not register its own keyboard event handlers.
     * This allows the contents of the popover to handle their own keyboard interactions.
     *
     * If `false`, the popover will register its own keyboard event handlers for
     * navigating `ion-list` items within a popover (up/down/home/end/etc.).
     * This will also cancel browser keyboard event bindings to prevent scroll
     * behavior in a popover using a list of items.
     */

    this.keyboardEvents = false;
    /**
     * If `true`, the component passed into `ion-popover` will
     * automatically be mounted when the popover is created. The
     * component will remain mounted even when the popover is dismissed.
     * However, the component will be destroyed when the popover is
     * destroyed. This property is not reactive and should only be
     * used when initially creating a popover.
     *
     * Note: This feature only applies to inline popovers in JavaScript
     * frameworks such as Angular, React, and Vue.
     */

    this.keepContentsMounted = false;

    this.onBackdropTap = () => {
      this.dismiss(undefined, _overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.B);
    };

    this.onLifecycle = modalEvent => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP[modalEvent.type];

      if (el && name) {
        const event = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(event);
      }
    };

    this.configureTriggerInteraction = () => {
      const {
        trigger,
        triggerAction,
        el,
        destroyTriggerInteraction
      } = this;

      if (destroyTriggerInteraction) {
        destroyTriggerInteraction();
      }

      if (trigger === undefined) {
        return;
      }

      const triggerEl = this.triggerEl = trigger !== undefined ? document.getElementById(trigger) : null;

      if (!triggerEl) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_5__.p)(`A trigger element with the ID "${trigger}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`, this.el);
        return;
      }

      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, triggerAction, el);
    };

    this.configureKeyboardInteraction = () => {
      const {
        destroyKeyboardInteraction,
        el
      } = this;

      if (destroyKeyboardInteraction) {
        destroyKeyboardInteraction();
      }

      this.destroyKeyboardInteraction = configureKeyboardInteraction(el);
    };

    this.configureDismissInteraction = () => {
      const {
        destroyDismissInteraction,
        parentPopover,
        triggerAction,
        triggerEl,
        el
      } = this;

      if (!parentPopover || !triggerEl) {
        return;
      }

      if (destroyDismissInteraction) {
        destroyDismissInteraction();
      }

      this.destroyDismissInteraction = configureDismissInteraction(triggerEl, triggerAction, el, parentPopover);
    };
  }

  onTriggerChange() {
    this.configureTriggerInteraction();
  }

  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    } else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }

  connectedCallback() {
    const {
      configureTriggerInteraction,
      el
    } = this;
    (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.e)(el);
    configureTriggerInteraction();
  }

  disconnectedCallback() {
    const {
      destroyTriggerInteraction
    } = this;

    if (destroyTriggerInteraction) {
      destroyTriggerInteraction();
    }
  }

  componentWillLoad() {
    /**
     * If user has custom ID set then we should
     * not assign the default incrementing ID.
     */
    this.popoverId = this.el.hasAttribute('id') ? this.el.getAttribute('id') : `ion-popover-${this.popoverIndex}`;
    this.parentPopover = this.el.closest(`ion-popover:not(#${this.popoverId})`);

    if (this.alignment === undefined) {
      this.alignment = (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(this) === 'ios' ? 'center' : 'start';
    }
  }

  componentDidLoad() {
    const {
      parentPopover,
      isOpen
    } = this;
    /**
     * If popover was rendered with isOpen="true"
     * then we should open popover immediately.
     */

    if (isOpen === true) {
      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => this.present());
    }

    if (parentPopover) {
      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.a)(parentPopover, 'ionPopoverWillDismiss', () => {
        this.dismiss(undefined, undefined, false);
      });
    }
  }
  /**
   * When opening a popover from a trigger, we should not be
   * modifying the `event` prop from inside the component.
   * Additionally, when pressing the "Right" arrow key, we need
   * to shift focus to the first descendant in the newly presented
   * popover.
   *
   * @internal
   */


  presentFromTrigger(event, focusDescendant = false) {
    var _this = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.focusDescendantOnPresent = focusDescendant;
      yield _this.present(event);
      _this.focusDescendantOnPresent = false;
    })();
  }
  /**
   * Determines whether or not an overlay
   * is being used inline or via a controller/JS
   * and returns the correct delegate.
   * By default, subsequent calls to getDelegate
   * will use a cached version of the delegate.
   * This is useful for calling dismiss after
   * present so that the correct delegate is given.
   */


  getDelegate(force = false) {
    if (this.workingDelegate && !force) {
      return {
        delegate: this.workingDelegate,
        inline: this.inline
      };
    }
    /**
     * If using overlay inline
     * we potentially need to use the coreDelegate
     * so that this works in vanilla JS apps.
     * If a developer has presented this component
     * via a controller, then we can assume
     * the component is already in the
     * correct place.
     */


    const parentEl = this.el.parentNode;
    const inline = this.inline = parentEl !== null && !this.hasController;
    const delegate = this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate;
    return {
      inline,
      delegate
    };
  }
  /**
   * Present the popover overlay after it has been created.
   * Developers can pass a mouse, touch, or pointer event
   * to position the popover relative to where that event
   * was dispatched.
   */


  present(event) {
    var _this2 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this2.presented) {
        return;
      }
      /**
       * When using an inline popover
       * and dismissing a popover it is possible to
       * quickly present the popover while it is
       * dismissing. We need to await any current
       * transition to allow the dismiss to finish
       * before presenting again.
       */


      if (_this2.currentTransition !== undefined) {
        yield _this2.currentTransition;
      }

      const {
        inline,
        delegate
      } = _this2.getDelegate(true);

      _this2.usersElement = yield (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_3__.a)(delegate, _this2.el, _this2.component, ['popover-viewport'], _this2.componentProps, inline);
      yield (0,_index_27c7e5c4_js__WEBPACK_IMPORTED_MODULE_8__.e)(_this2.usersElement);

      if (!_this2.keyboardEvents) {
        _this2.configureKeyboardInteraction();
      }

      _this2.configureDismissInteraction();

      _this2.ionMount.emit();

      return new Promise(resolve => {
        /**
         * Wait two request animation frame loops before presenting the popover.
         * This allows the framework implementations enough time to mount
         * the popover contents, so the bounding box is set when the popover
         * transition starts.
         *
         * On Angular and React, a single raf is enough time, but for Vue
         * we need to wait two rafs. As a result we are using two rafs for
         * all frameworks to ensure the popover is presented correctly.
         */
        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.r)(() => {
          (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_4__.r)( /*#__PURE__*/(0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
            _this2.currentTransition = (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.d)(_this2, 'popoverEnter', iosEnterAnimation, mdEnterAnimation, {
              event: event || _this2.event,
              size: _this2.size,
              trigger: _this2.triggerEl,
              reference: _this2.reference,
              side: _this2.side,
              align: _this2.alignment
            });
            yield _this2.currentTransition;
            _this2.currentTransition = undefined;
            /**
             * If popover is nested and was
             * presented using the "Right" arrow key,
             * we need to move focus to the first
             * descendant inside of the popover.
             */

            if (_this2.focusDescendantOnPresent) {
              (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.j)(_this2.el, _this2.el);
            }

            resolve();
          }));
        });
      });
    })();
  }
  /**
   * Dismiss the popover overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.
   * @param dismissParentPopover If `true`, dismissing this popover will also dismiss
   * a parent popover if this popover is nested. Defaults to `true`.
   */


  dismiss(data, role, dismissParentPopover = true) {
    var _this3 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      /**
       * When using an inline popover
       * and presenting a popover it is possible to
       * quickly dismiss the popover while it is
       * presenting. We need to await any current
       * transition to allow the present to finish
       * before dismissing again.
       */
      if (_this3.currentTransition !== undefined) {
        yield _this3.currentTransition;
      }

      const {
        destroyKeyboardInteraction,
        destroyDismissInteraction
      } = _this3;

      if (dismissParentPopover && _this3.parentPopover) {
        _this3.parentPopover.dismiss(data, role, dismissParentPopover);
      }

      _this3.currentTransition = (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.f)(_this3, data, role, 'popoverLeave', iosLeaveAnimation, mdLeaveAnimation, _this3.event);
      const shouldDismiss = yield _this3.currentTransition;

      if (shouldDismiss) {
        if (destroyKeyboardInteraction) {
          destroyKeyboardInteraction();
          _this3.destroyKeyboardInteraction = undefined;
        }

        if (destroyDismissInteraction) {
          destroyDismissInteraction();
          _this3.destroyDismissInteraction = undefined;
        }
        /**
         * If using popover inline
         * we potentially need to use the coreDelegate
         * so that this works in vanilla JS apps
         */


        const {
          delegate
        } = _this3.getDelegate();

        yield (0,_framework_delegate_c3305a28_js__WEBPACK_IMPORTED_MODULE_3__.d)(delegate, _this3.usersElement);
      }

      _this3.currentTransition = undefined;
      return shouldDismiss;
    })();
  }
  /**
   * @internal
   */


  getParentPopover() {
    var _this4 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this4.parentPopover;
    })();
  }
  /**
   * Returns a promise that resolves when the popover did dismiss.
   */


  onDidDismiss() {
    return (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.g)(this.el, 'ionPopoverDidDismiss');
  }
  /**
   * Returns a promise that resolves when the popover will dismiss.
   */


  onWillDismiss() {
    return (0,_overlays_58fa8e4d_js__WEBPACK_IMPORTED_MODULE_6__.g)(this.el, 'ionPopoverWillDismiss');
  }

  render() {
    const mode = (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    const {
      onLifecycle,
      popoverId,
      parentPopover,
      dismissOnSelect,
      side,
      arrow,
      htmlAttributes
    } = this;
    const desktop = (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.a)('desktop');
    const enableArrow = arrow && !parentPopover;
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, Object.assign({
      "aria-modal": "true",
      "no-router": true,
      tabindex: "-1"
    }, htmlAttributes, {
      style: {
        zIndex: `${20000 + this.overlayIndex}`
      },
      id: popoverId,
      class: Object.assign(Object.assign({}, (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_7__.g)(this.cssClass)), {
        [mode]: true,
        'popover-translucent': this.translucent,
        'overlay-hidden': true,
        'popover-desktop': desktop,
        [`popover-side-${side}`]: true,
        'popover-nested': !!parentPopover
      }),
      onIonPopoverDidPresent: onLifecycle,
      onIonPopoverWillPresent: onLifecycle,
      onIonPopoverWillDismiss: onLifecycle,
      onIonPopoverDidDismiss: onLifecycle,
      onIonBackdropTap: this.onBackdropTap
    }), !parentPopover && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-backdrop", {
      tappable: this.backdropDismiss,
      visible: this.showBackdrop,
      part: "backdrop"
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "popover-wrapper ion-overlay-wrapper",
      onClick: dismissOnSelect ? () => this.dismiss() : undefined
    }, enableArrow && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "popover-arrow",
      part: "arrow"
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "popover-content",
      part: "content"
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null))));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "trigger": ["onTriggerChange"],
      "triggerAction": ["onTriggerChange"],
      "isOpen": ["onIsOpenChange"]
    };
  }

};
const LIFECYCLE_MAP = {
  ionPopoverDidPresent: 'ionViewDidEnter',
  ionPopoverWillPresent: 'ionViewWillEnter',
  ionPopoverWillDismiss: 'ionViewWillLeave',
  ionPopoverDidDismiss: 'ionViewDidLeave'
};
let popoverIds = 0;
Popover.style = {
  ios: popoverIosCss,
  md: popoverMdCss
};


/***/ }),

/***/ 17548:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/theme-7670341c.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createColorClasses),
/* harmony export */   "g": () => (/* binding */ getClassMap),
/* harmony export */   "h": () => (/* binding */ hostContext),
/* harmony export */   "o": () => (/* binding */ openURL)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const hostContext = (selector, el) => {
  return el.closest(selector) !== null;
};
/**
 * Create the mode and color classes for the component based on the classes passed in
 */


const createColorClasses = (color, cssClassMap) => {
  return typeof color === 'string' && color.length > 0 ? Object.assign({
    'ion-color': true,
    [`ion-color-${color}`]: true
  }, cssClassMap) : cssClassMap;
};

const getClassList = classes => {
  if (classes !== undefined) {
    const array = Array.isArray(classes) ? classes : classes.split(' ');
    return array.filter(c => c != null).map(c => c.trim()).filter(c => c !== '');
  }

  return [];
};

const getClassMap = classes => {
  const map = {};
  getClassList(classes).forEach(c => map[c] = true);
  return map;
};

const SCHEME = /^[a-z][a-z0-9+\-.]*:/;

const openURL = /*#__PURE__*/function () {
  var _ref = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (url, ev, direction, animation) {
    if (url != null && url[0] !== '#' && !SCHEME.test(url)) {
      const router = document.querySelector('ion-router');

      if (router) {
        if (ev != null) {
          ev.preventDefault();
        }

        return router.push(url, direction, animation);
      }
    }

    return false;
  });

  return function openURL(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBvcG92ZXJfZW50cnlfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsUUFBUTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsUUFBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseUJBQXlCLHdCQUF3Qiw2QkFBNkI7QUFDekc7O0FBRW9GOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTXFDLGtCQUFrQixHQUFJQyxPQUFELElBQWE7QUFDdEMsTUFBSSxDQUFDQSxPQUFMLEVBQWM7QUFDWixXQUFPO0FBQUVDLE1BQUFBLFVBQVUsRUFBRSxDQUFkO0FBQWlCQyxNQUFBQSxXQUFXLEVBQUU7QUFBOUIsS0FBUDtBQUNEOztBQUNELFFBQU07QUFBRUMsSUFBQUEsS0FBRjtBQUFTQyxJQUFBQTtBQUFULE1BQW9CSixPQUFPLENBQUNLLHFCQUFSLEVBQTFCO0FBQ0EsU0FBTztBQUFFSixJQUFBQSxVQUFVLEVBQUVFLEtBQWQ7QUFBcUJELElBQUFBLFdBQVcsRUFBRUU7QUFBbEMsR0FBUDtBQUNELENBTkQ7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxNQUFNRSxvQkFBb0IsR0FBRyxDQUFDQyxJQUFELEVBQU9DLFNBQVAsRUFBa0JDLFNBQWxCLEtBQWdDO0FBQzNELFFBQU1DLGlCQUFpQixHQUFHRixTQUFTLENBQUNILHFCQUFWLEVBQTFCO0FBQ0EsUUFBTU0s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LEVBQWlCQyxTQUFqQixFQUE0QkMsU0FBNUIsQ0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxLQUFQO0FBQ0QsR0FYWTs7QUFBQSxrQkFBUEgsT0FBTztBQUFBO0FBQUE7QUFBQSxHQUFiIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pbmRleC1jNGIxMTY3Ni5qcyIsIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1wb3BvdmVyLmVudHJ5LmpzIiwiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vdGhlbWUtNzY3MDM0MWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbi8qKlxuICogTG9ncyBhIHdhcm5pbmcgdG8gdGhlIGNvbnNvbGUgd2l0aCBhbiBJb25pYyBwcmVmaXhcbiAqIHRvIGluZGljYXRlIHRoZSBsaWJyYXJ5IHRoYXQgaXMgd2FybmluZyB0aGUgZGV2ZWxvcGVyLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIHN0cmluZyBtZXNzYWdlIHRvIGJlIGxvZ2dlZCB0byB0aGUgY29uc29sZS5cbiAqL1xuY29uc3QgcHJpbnRJb25XYXJuaW5nID0gKG1lc3NhZ2UsIC4uLnBhcmFtcykgPT4ge1xuICByZXR1cm4gY29uc29sZS53YXJuKGBbSW9uaWMgV2FybmluZ106ICR7bWVzc2FnZX1gLCAuLi5wYXJhbXMpO1xufTtcbi8qXG4gKiBMb2dzIGFuIGVycm9yIHRvIHRoZSBjb25zb2xlIHdpdGggYW4gSW9uaWMgcHJlZml4XG4gKiB0byBpbmRpY2F0ZSB0aGUgbGlicmFyeSB0aGF0IGlzIHdhcm5pbmcgdGhlIGRldmVsb3Blci5cbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBzdHJpbmcgbWVzc2FnZSB0byBiZSBsb2dnZWQgdG8gdGhlIGNvbnNvbGUuXG4gKiBAcGFyYW0gcGFyYW1zIC0gQWRkaXRpb25hbCBhcmd1bWVudHMgdG8gc3VwcGx5IHRvIHRoZSBjb25zb2xlLmVycm9yLlxuICovXG5jb25zdCBwcmludElvbkVycm9yID0gKG1lc3NhZ2UsIC4uLnBhcmFtcykgPT4ge1xuICByZXR1cm4gY29uc29sZS5lcnJvcihgW0lvbmljIEVycm9yXTogJHttZXNzYWdlfWAsIC4uLnBhcmFtcyk7XG59O1xuLyoqXG4gKiBQcmludHMgYW4gZXJyb3IgaW5mb3JtaW5nIGRldmVsb3BlcnMgdGhhdCBhbiBpbXBsZW1lbnRhdGlvbiByZXF1aXJlcyBhbiBlbGVtZW50IHRvIGJlIHVzZWRcbiAqIHdpdGhpbiBhIHNwZWNpZmljIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSBlbCBUaGUgd2ViIGNvbXBvbmVudCBlbGVtZW50IHRoaXMgaXMgcmVxdWlyaW5nIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHRhcmdldFNlbGVjdG9ycyBUaGUgc2VsZWN0b3Igb3Igc2VsZWN0b3JzIHRoYXQgd2VyZSBub3QgZm91bmQuXG4gKi9cbmNvbnN0IHByaW50UmVxdWlyZWRFbGVtZW50RXJyb3IgPSAoZWwsIC4uLnRhcmdldFNlbGVjdG9ycykgPT4ge1xuICByZXR1cm4gY29uc29sZS5lcnJvcihgPCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT4gbXVzdCBiZSB1c2VkIGluc2lkZSAke3RhcmdldFNlbGVjdG9ycy5qb2luKCcgb3IgJyl9LmApO1xufTtcblxuZXhwb3J0IHsgcHJpbnRSZXF1aXJlZEVsZW1lbnRFcnJvciBhcyBhLCBwcmludElvbkVycm9yIGFzIGIsIHByaW50SW9uV2FybmluZyBhcyBwIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBlIGFzIGNyZWF0ZUV2ZW50LCBoLCBIIGFzIEhvc3QsIGkgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtOGU2OTI0NDUuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlLCBhIGFzIGlzUGxhdGZvcm0gfSBmcm9tICcuL2lvbmljLWdsb2JhbC1jNzRlNDk1MS5qcyc7XG5pbXBvcnQgeyBDIGFzIENvcmVEZWxlZ2F0ZSwgYSBhcyBhdHRhY2hDb21wb25lbnQsIGQgYXMgZGV0YWNoQ29tcG9uZW50IH0gZnJvbSAnLi9mcmFtZXdvcmstZGVsZWdhdGUtYzMzMDVhMjguanMnO1xuaW1wb3J0IHsgciBhcyByYWYsIGcgYXMgZ2V0RWxlbWVudFJvb3QsIGEgYXMgYWRkRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vaGVscGVycy0zYjM5MGU0OC5qcyc7XG5pbXBvcnQgeyBwIGFzIHByaW50SW9uV2FybmluZyB9IGZyb20gJy4vaW5kZXgtYzRiMTE2NzYuanMnO1xuaW1wb3J0IHsgQiBhcyBCQUNLRFJPUCwgZSBhcyBwcmVwYXJlT3ZlcmxheSwgZCBhcyBwcmVzZW50LCBqIGFzIGZvY3VzRmlyc3REZXNjZW5kYW50LCBmIGFzIGRpc21pc3MsIGcgYXMgZXZlbnRNZXRob2QgfSBmcm9tICcuL292ZXJsYXlzLTU4ZmE4ZTRkLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0Q2xhc3NNYXAgfSBmcm9tICcuL3RoZW1lLTc2NzAzNDFjLmpzJztcbmltcG9ydCB7IGUgYXMgZGVlcFJlYWR5IH0gZnJvbSAnLi9pbmRleC0yN2M3ZTVjNC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLTRmZjNmNjAzLmpzJztcbmltcG9ydCAnLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi00OTBkZjExNS5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtMzNmZmVjMjUuanMnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBvcG92ZXJcbiAqIGFycm93IG9uIGBpb3NgIG1vZGUuIElmIGFycm93IGlzIGRpc2FibGVkXG4gKiByZXR1cm5zICgwLCAwKS5cbiAqL1xuY29uc3QgZ2V0QXJyb3dEaW1lbnNpb25zID0gKGFycm93RWwpID0+IHtcbiAgaWYgKCFhcnJvd0VsKSB7XG4gICAgcmV0dXJuIHsgYXJyb3dXaWR0aDogMCwgYXJyb3dIZWlnaHQ6IDAgfTtcbiAgfVxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGFycm93RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7IGFycm93V2lkdGg6IHdpZHRoLCBhcnJvd0hlaWdodDogaGVpZ2h0IH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWNvbW1lbmRlZCBkaW1lbnNpb25zIG9mIHRoZSBwb3BvdmVyXG4gKiB0aGF0IHRha2VzIGludG8gYWNjb3VudCB3aGV0aGVyIG9yIG5vdCB0aGUgd2lkdGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgdHJpZ2dlciB3aWR0aC5cbiAqL1xuY29uc3QgZ2V0UG9wb3ZlckRpbWVuc2lvbnMgPSAoc2l6ZSwgY29udGVudEVsLCB0cmlnZ2VyRWwpID0+IHtcbiAgY29uc3QgY29udGVudERpbWVudGlvbnMgPSBjb250ZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNvbnRlbnRIZWlnaHQgPSBjb250ZW50RGltZW50aW9ucy5oZWlnaHQ7XG4gIGxldCBjb250ZW50V2lkdGggPSBjb250ZW50RGltZW50aW9ucy53aWR0aDtcbiAgaWYgKHNpemUgPT09ICdjb3ZlcicgJiYgdHJpZ2dlckVsKSB7XG4gICAgY29uc3QgdHJpZ2dlckRpbWVuc2lvbnMgPSB0cmlnZ2VyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29udGVudFdpZHRoID0gdHJpZ2dlckRpbWVuc2lvbnMud2lkdGg7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb250ZW50V2lkdGgsXG4gICAgY29udGVudEhlaWdodCxcbiAgfTtcbn07XG5jb25zdCBjb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24gPSAodHJpZ2dlckVsLCB0cmlnZ2VyQWN0aW9uLCBwb3BvdmVyRWwsIHBhcmVudFBvcG92ZXJFbCkgPT4ge1xuICBsZXQgZGlzbWlzc0NhbGxiYWNrcyA9IFtdO1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QocGFyZW50UG9wb3ZlckVsKTtcbiAgY29uc3QgcGFyZW50Q29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gIHN3aXRjaCAodHJpZ2dlckFjdGlvbikge1xuICAgIGNhc2UgJ2hvdmVyJzpcbiAgICAgIGRpc21pc3NDYWxsYmFja3MgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBEbyBub3QgdXNlIG1vdXNlb3ZlciBoZXJlXG4gICAgICAgICAgICogYXMgdGhpcyB3aWxsIGNhdXNlcyB0aGUgZXZlbnQgdG9cbiAgICAgICAgICAgKiBiZSBkaXNwYXRjaGVkIG9uIGVhY2ggdW5kZXJseWluZ1xuICAgICAgICAgICAqIGVsZW1lbnQgcmF0aGVyIHRoYW4gb24gdGhlIHBvcG92ZXJcbiAgICAgICAgICAgKiBjb250ZW50IGFzIGEgd2hvbGUuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZXZlbnROYW1lOiAnbW91c2VlbnRlcicsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEbyBub3QgZGlzbWlzcyB0aGUgcG9wb3ZlciBpcyB3ZVxuICAgICAgICAgICAgICogYXJlIGhvdmVyaW5nIG92ZXIgaXRzIHRyaWdnZXIuXG4gICAgICAgICAgICAgKiBUaGlzIHdvdWxkIGJlIGVhc2llciBpZiB3ZSB1c2VkIG1vdXNlb3ZlclxuICAgICAgICAgICAgICogYnV0IHRoaXMgd291bGQgY2F1c2UgdGhlIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgICAqIG1vcmUgb2Z0ZW4gdGhhbiB3ZSB3b3VsZCBsaWtlLCBwb3RlbnRpYWxseVxuICAgICAgICAgICAgICogY2F1c2luZyBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3BvdmVyRWwuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY29udGV4dC1tZW51JzpcbiAgICBjYXNlICdjbGljayc6XG4gICAgZGVmYXVsdDpcbiAgICAgIGRpc21pc3NDYWxsYmFja3MgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEbyBub3QgZGlzbWlzcyB0aGUgcG9wb3ZlciBpcyB3ZVxuICAgICAgICAgICAgICogYXJlIGhvdmVyaW5nIG92ZXIgaXRzIHRyaWdnZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RUcmlnZ2VyID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXJdJyk7XG4gICAgICAgICAgICBpZiAoY2xvc2VzdFRyaWdnZXIgPT09IHRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogc3RvcFByb3BhZ2F0aW9uIGhlcmUgc28gaWYgdGhlXG4gICAgICAgICAgICAgICAqIHBvcG92ZXIgaGFzIGRpc21pc3NPblNlbGVjdD1cInRydWVcIlxuICAgICAgICAgICAgICAgKiB0aGUgcG9wb3ZlciBkb2VzIG5vdCBkaXNtaXNzIHNpbmNlXG4gICAgICAgICAgICAgICAqIHdlIGp1c3QgY2xpY2tlZCBhIHRyaWdnZXIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3BvdmVyRWwuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgZGlzbWlzc0NhbGxiYWNrcy5mb3JFYWNoKCh7IGV2ZW50TmFtZSwgY2FsbGJhY2sgfSkgPT4gcGFyZW50Q29udGVudEVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGRpc21pc3NDYWxsYmFja3MuZm9yRWFjaCgoeyBldmVudE5hbWUsIGNhbGxiYWNrIH0pID0+IHBhcmVudENvbnRlbnRFbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spKTtcbiAgfTtcbn07XG4vKipcbiAqIENvbmZpZ3VyZXMgdGhlIHRyaWdnZXJFbCB0byByZXNwb25kXG4gKiB0byB1c2VyIGludGVyYWN0aW9uIGJhc2VkIHVwb24gdGhlIHRyaWdnZXJBY3Rpb25cbiAqIHByb3AgdGhhdCBkZXZzIGhhdmUgZGVmaW5lZC5cbiAqL1xuY29uc3QgY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uID0gKHRyaWdnZXJFbCwgdHJpZ2dlckFjdGlvbiwgcG9wb3ZlckVsKSA9PiB7XG4gIGxldCB0cmlnZ2VyQ2FsbGJhY2tzID0gW107XG4gIC8qKlxuICAgKiBCYXNlZCB1cG9uIHRoZSBraW5kIG9mIHRyaWdnZXIgaW50ZXJhY3Rpb25cbiAgICogdGhlIHVzZXIgd2FudHMsIHdlIHNldHVwIHRoZSBjb3JyZWN0IGV2ZW50XG4gICAqIGxpc3RlbmVycy5cbiAgICovXG4gIHN3aXRjaCAodHJpZ2dlckFjdGlvbikge1xuICAgIGNhc2UgJ2hvdmVyJzpcbiAgICAgIGxldCBob3ZlclRpbWVvdXQ7XG4gICAgICB0cmlnZ2VyQ2FsbGJhY2tzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnbW91c2VlbnRlcicsXG4gICAgICAgICAgY2FsbGJhY2s6IGFzeW5jIChldikgPT4ge1xuICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoaG92ZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIb3ZlcmluZyBvdmVyIGEgdHJpZ2dlciBzaG91bGQgbm90XG4gICAgICAgICAgICAgKiBpbW1lZGlhdGVseSBvcGVuIHRoZSBuZXh0IHBvcG92ZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGhvdmVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBvcG92ZXJFbC5wcmVzZW50RnJvbVRyaWdnZXIoZXYpO1xuICAgICAgICAgICAgICAgIGhvdmVyVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudE5hbWU6ICdtb3VzZWxlYXZlJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBtb3VzZSBpcyBvdmVyIGFub3RoZXIgcG9wb3ZlclxuICAgICAgICAgICAgICogdGhhdCBpcyBub3QgdGhpcyBwb3BvdmVyIHRoZW4gd2Ugc2hvdWxkXG4gICAgICAgICAgICAgKiBjbG9zZSB0aGlzIHBvcG92ZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ2lvbi1wb3BvdmVyJykgIT09IHBvcG92ZXJFbCkge1xuICAgICAgICAgICAgICBwb3BvdmVyRWwuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBzdG9wUHJvcGFnYXRpb24gaGVyZSBwcmV2ZW50cyB0aGUgcG9wb3ZlclxuICAgICAgICAgICAqIGZyb20gZGlzbWlzc2luZyB3aGVuIGRpc21pc3Mtb24tc2VsZWN0PVwidHJ1ZVwiLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiBldi5zdG9wUHJvcGFnYXRpb24oKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50TmFtZTogJ2lvblBvcG92ZXJBY3RpdmF0ZVRyaWdnZXInLFxuICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IHBvcG92ZXJFbC5wcmVzZW50RnJvbVRyaWdnZXIoZXYsIHRydWUpLFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NvbnRleHQtbWVudSc6XG4gICAgICB0cmlnZ2VyQ2FsbGJhY2tzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnY29udGV4dG1lbnUnLFxuICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJldmVudHMgdGhlIHBsYXRmb3JtIGNvbnRleHRcbiAgICAgICAgICAgICAqIG1lbnUgZnJvbSBhcHBlYXJpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBwb3BvdmVyRWwucHJlc2VudEZyb21UcmlnZ2VyKGV2KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnY2xpY2snLFxuICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IGV2LnN0b3BQcm9wYWdhdGlvbigpLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnaW9uUG9wb3ZlckFjdGl2YXRlVHJpZ2dlcicsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gcG9wb3ZlckVsLnByZXNlbnRGcm9tVHJpZ2dlcihldiwgdHJ1ZSksXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2xpY2snOlxuICAgIGRlZmF1bHQ6XG4gICAgICB0cmlnZ2VyQ2FsbGJhY2tzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogRG8gbm90IGRvIGEgc3RvcFByb3BhZ2F0aW9uKCkgaGVyZVxuICAgICAgICAgICAqIGJlY2F1c2UgaWYgeW91IGhhZCB0d28gY2xpY2sgdHJpZ2dlcnNcbiAgICAgICAgICAgKiB0aGVuIGNsaWNraW5nIHRoZSBmaXJzdCB0cmlnZ2VyIGFuZCB0aGVuXG4gICAgICAgICAgICogY2xpY2tpbmcgdGhlIHNlY29uZCB0cmlnZ2VyIHdvdWxkIG5vdCBjYXVzZVxuICAgICAgICAgICAqIHRoZSBmaXJzdCBwb3BvdmVyIHRvIGRpc21pc3MuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZXZlbnROYW1lOiAnY2xpY2snLFxuICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IHBvcG92ZXJFbC5wcmVzZW50RnJvbVRyaWdnZXIoZXYpLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnaW9uUG9wb3ZlckFjdGl2YXRlVHJpZ2dlcicsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gcG9wb3ZlckVsLnByZXNlbnRGcm9tVHJpZ2dlcihldiwgdHJ1ZSksXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgdHJpZ2dlckNhbGxiYWNrcy5mb3JFYWNoKCh7IGV2ZW50TmFtZSwgY2FsbGJhY2sgfSkgPT4gdHJpZ2dlckVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykpO1xuICB0cmlnZ2VyRWwuc2V0QXR0cmlidXRlKCdkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXInLCAndHJ1ZScpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHRyaWdnZXJDYWxsYmFja3MuZm9yRWFjaCgoeyBldmVudE5hbWUsIGNhbGxiYWNrIH0pID0+IHRyaWdnZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spKTtcbiAgICB0cmlnZ2VyRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXInKTtcbiAgfTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGlvbi1pdGVtIGluIGFuIGFycmF5IG9mIGlvbi1pdGVtcy5cbiAqL1xuY29uc3QgZ2V0SW5kZXhPZkl0ZW0gPSAoaXRlbXMsIGl0ZW0pID0+IHtcbiAgaWYgKCFpdGVtIHx8IGl0ZW0udGFnTmFtZSAhPT0gJ0lPTi1JVEVNJykge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gaXRlbXMuZmluZEluZGV4KChlbCkgPT4gZWwgPT09IGl0ZW0pO1xufTtcbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIGEgY3VycmVudGx5IGZvY3VzZWQgaW9uLWl0ZW1cbiAqIHJldHVybnMgdGhlIG5leHQgaW9uLWl0ZW0gcmVsYXRpdmUgdG8gdGhlIGZvY3VzZWQgb25lIG9yXG4gKiB1bmRlZmluZWQuXG4gKi9cbmNvbnN0IGdldE5leHRJdGVtID0gKGl0ZW1zLCBjdXJyZW50SXRlbSkgPT4ge1xuICBjb25zdCBjdXJyZW50SXRlbUluZGV4ID0gZ2V0SW5kZXhPZkl0ZW0oaXRlbXMsIGN1cnJlbnRJdGVtKTtcbiAgcmV0dXJuIGl0ZW1zW2N1cnJlbnRJdGVtSW5kZXggKyAxXTtcbn07XG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBhIGN1cnJlbnRseSBmb2N1c2VkIGlvbi1pdGVtXG4gKiByZXR1cm5zIHRoZSBwcmV2aW91cyBpb24taXRlbSByZWxhdGl2ZSB0byB0aGUgZm9jdXNlZCBvbmUgb3JcbiAqIHVuZGVmaW5lZC5cbiAqL1xuY29uc3QgZ2V0UHJldkl0ZW0gPSAoaXRlbXMsIGN1cnJlbnRJdGVtKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRJdGVtSW5kZXggPSBnZXRJbmRleE9mSXRlbShpdGVtcywgY3VycmVudEl0ZW0pO1xuICByZXR1cm4gaXRlbXNbY3VycmVudEl0ZW1JbmRleCAtIDFdO1xufTtcbi8qKiBGb2N1cyB0aGUgaW50ZXJuYWwgYnV0dG9uIG9mIHRoZSBpb24taXRlbSAqL1xuY29uc3QgZm9jdXNJdGVtID0gKGl0ZW0pID0+IHtcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGl0ZW0pO1xuICBjb25zdCBidXR0b24gPSByb290LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xuICBpZiAoYnV0dG9uKSB7XG4gICAgcmFmKCgpID0+IGJ1dHRvbi5mb2N1cygpKTtcbiAgfVxufTtcbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYGVsYCBoYXMgYmVlbiBkZXNpZ25hdGVkXG4gKiBhcyBhIHRyaWdnZXIgZWxlbWVudCBmb3IgYW4gaW9uLXBvcG92ZXIuXG4gKi9cbmNvbnN0IGlzVHJpZ2dlckVsZW1lbnQgPSAoZWwpID0+IGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1pb24tcG9wb3Zlci10cmlnZ2VyJyk7XG5jb25zdCBjb25maWd1cmVLZXlib2FyZEludGVyYWN0aW9uID0gKHBvcG92ZXJFbCkgPT4ge1xuICBjb25zdCBjYWxsYmFjayA9IGFzeW5jIChldikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICBjb25zdCB0YXJnZXRUYWdOYW1lID0gKF9hID0gZXYudGFyZ2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGFnTmFtZTtcbiAgICAvKipcbiAgICAgKiBPbmx5IGhhbmRsZSBjdXN0b20ga2V5Ym9hcmQgaW50ZXJhY3Rpb25zIGZvciB0aGUgaG9zdCBwb3BvdmVyIGVsZW1lbnRcbiAgICAgKiBhbmQgY2hpbGRyZW4gaW9uLWl0ZW0gZWxlbWVudHMuXG4gICAgICovXG4gICAgaWYgKHRhcmdldFRhZ05hbWUgIT09ICdJT04tUE9QT1ZFUicgJiYgdGFyZ2V0VGFnTmFtZSAhPT0gJ0lPTi1JVEVNJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wbGV4IHNlbGVjdG9ycyB3aXRoIDpub3QoKSBhcmUgOm5vdCBzdXBwb3J0ZWRcbiAgICAgKiBpbiBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWl1bSBzbyB3ZSBuZWVkIHRvIGRvIGFcbiAgICAgKiB0cnkvY2F0Y2ggaGVyZSBzbyBlcnJvcnMgYXJlIG5vdCB0aHJvd24uXG4gICAgICovXG4gICAgdHJ5IHtcbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0IGFsbCBpb24taXRlbXMgdGhhdCBhcmUgbm90IGNoaWxkcmVuIG9mIGNoaWxkIHBvcG92ZXJzLlxuICAgICAgICogaS5lLiBvbmx5IHNlbGVjdCBpb24taXRlbSBlbGVtZW50cyB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgcG9wb3ZlclxuICAgICAgICovXG4gICAgICBpdGVtcyA9IEFycmF5LmZyb20ocG9wb3ZlckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1pdGVtOm5vdChpb24tcG9wb3ZlciBpb24tcG9wb3ZlciAqKTpub3QoW2Rpc2FibGVkXSknKSk7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgICB9XG4gICAgY2F0Y2ggKF9iKSB7IH1cbiAgICBzd2l0Y2ggKGV2LmtleSkge1xuICAgICAgLyoqXG4gICAgICAgKiBJZiB3ZSBhcmUgaW4gYSBjaGlsZCBwb3BvdmVyXG4gICAgICAgKiB0aGVuIHByZXNzaW5nIHRoZSBsZWZ0IGFycm93IGtleVxuICAgICAgICogc2hvdWxkIGNsb3NlIHRoaXMgcG9wb3ZlciBhbmQgbW92ZVxuICAgICAgICogZm9jdXMgdG8gdGhlIHBvcG92ZXIgdGhhdCBwcmVzZW50ZWRcbiAgICAgICAqIHRoaXMgb25lLlxuICAgICAgICovXG4gICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICBjb25zdCBwYXJlbnRQb3BvdmVyID0gYXdhaXQgcG9wb3ZlckVsLmdldFBhcmVudFBvcG92ZXIoKTtcbiAgICAgICAgaWYgKHBhcmVudFBvcG92ZXIpIHtcbiAgICAgICAgICBwb3BvdmVyRWwuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyoqXG4gICAgICAgKiBBcnJvd0Rvd24gc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIG5leHQgZm9jdXNhYmxlIGlvbi1pdGVtLlxuICAgICAgICovXG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAvLyBEaXNhYmxlIG1vdmVtZW50L3Njcm9sbCB3aXRoIGtleWJvYXJkXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG5leHRJdGVtID0gZ2V0TmV4dEl0ZW0oaXRlbXMsIGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICBpZiAobmV4dEl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvY3VzSXRlbShuZXh0SXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAvKipcbiAgICAgICAqIEFycm93VXAgc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIHByZXZpb3VzIGZvY3VzYWJsZSBpb24taXRlbS5cbiAgICAgICAqL1xuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgIC8vIERpc2FibGUgbW92ZW1lbnQvc2Nyb2xsIHdpdGgga2V5Ym9hcmRcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgcHJldkl0ZW0gPSBnZXRQcmV2SXRlbShpdGVtcywgYWN0aXZlRWxlbWVudCk7XG4gICAgICAgIGlmIChwcmV2SXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm9jdXNJdGVtKHByZXZJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIC8qKlxuICAgICAgICogSG9tZSBzaG91bGQgbW92ZSBmb2N1cyB0byB0aGUgZmlyc3QgZm9jdXNhYmxlIGlvbi1pdGVtLlxuICAgICAgICovXG4gICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZmlyc3RJdGVtID0gaXRlbXNbMF07XG4gICAgICAgIGlmIChmaXJzdEl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvY3VzSXRlbShmaXJzdEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyoqXG4gICAgICAgKiBFbmQgc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIGxhc3QgZm9jdXNhYmxlIGlvbi1pdGVtLlxuICAgICAgICovXG4gICAgICBjYXNlICdFbmQnOlxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBsYXN0SXRlbSA9IGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdEl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvY3VzSXRlbShsYXN0SXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAvKipcbiAgICAgICAqIEFycm93UmlnaHQsIFNwYWNlYmFyLCBvciBFbnRlciBzaG91bGQgYWN0aXZhdGVcbiAgICAgICAqIHRoZSBjdXJyZW50bHkgZm9jdXNlZCB0cmlnZ2VyIGl0ZW0gdG8gb3BlbiBhXG4gICAgICAgKiBwb3BvdmVyIGlmIHRoZSBlbGVtZW50IGlzIGEgdHJpZ2dlciBpdGVtLlxuICAgICAgICovXG4gICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBpc1RyaWdnZXJFbGVtZW50KGFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgY29uc3QgcmlnaHRFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnaW9uUG9wb3ZlckFjdGl2YXRlVHJpZ2dlcicpO1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChyaWdodEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG4gIHBvcG92ZXJFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2FsbGJhY2spO1xuICByZXR1cm4gKCkgPT4gcG9wb3ZlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjYWxsYmFjayk7XG59O1xuLyoqXG4gKiBQb3NpdGlvbnMgYSBwb3BvdmVyIGJ5IHRha2luZyBpbnRvIGFjY291bnRcbiAqIHRoZSByZWZlcmVuY2UgcG9pbnQsIHByZWZlcnJlZCBzaWRlLCBhbGlnbm1lbnRcbiAqIGFuZCB2aWV3cG9ydCBkaW1lbnNpb25zLlxuICovXG5jb25zdCBnZXRQb3BvdmVyUG9zaXRpb24gPSAoaXNSVEwsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24sIGRlZmF1bHRQb3NpdGlvbiwgdHJpZ2dlckVsLCBldmVudCkgPT4ge1xuICB2YXIgX2E7XG4gIGxldCByZWZlcmVuY2VDb29yZGluYXRlcyA9IHtcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlXG4gICAqIHgteSBjb29yZGluYXRlcyBpbiB0aGUgZXZlbnQgdGhhdFxuICAgKiB3YXMgcGFzc2VkIGluXG4gICAqL1xuICBzd2l0Y2ggKHJlZmVyZW5jZSkge1xuICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdXNlRXYgPSBldmVudDtcbiAgICAgIHJlZmVyZW5jZUNvb3JkaW5hdGVzID0ge1xuICAgICAgICB0b3A6IG1vdXNlRXYuY2xpZW50WSxcbiAgICAgICAgbGVmdDogbW91c2VFdi5jbGllbnRYLFxuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgYm91bmRpbmdcbiAgICAgKiBib3ggb24gZWl0aGVyIHRoZSB0cmlnZ2VyIGVsZW1lbnRcbiAgICAgKiBzcGVjaWZpZWQgdmlhIHRoZSBgdHJpZ2dlcmAgcHJvcCBvclxuICAgICAqIHRoZSB0YXJnZXQgc3BlY2lmaWVkIG9uIHRoZSBldmVudFxuICAgICAqIHRoYXQgd2FzIHBhc3NlZCBpbi5cbiAgICAgKi9cbiAgICBjYXNlICd0cmlnZ2VyJzpcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc3QgY3VzdG9tRXYgPSBldmVudDtcbiAgICAgIC8qKlxuICAgICAgICogaW9uU2hhZG93VGFyZ2V0IGlzIHVzZWQgd2hlbiB3ZSBuZWVkIHRvIGFsaWduIHRoZVxuICAgICAgICogcG9wb3ZlciB3aXRoIGFuIGVsZW1lbnQgaW5zaWRlIG9mIHRoZSBzaGFkb3cgcm9vdFxuICAgICAgICogb2YgYW4gSW9uaWMgY29tcG9uZW50LiBFeDogUHJlc2VudGluZyBhIHBvcG92ZXJcbiAgICAgICAqIGJ5IGNsaWNraW5nIG9uIHRoZSBjb2xsYXBzZWQgaW5kaWNhdG9yIGluc2lkZVxuICAgICAgICogb2YgYGlvbi1icmVhZGNydW1iYCBhbmQgY2VudGVyaW5nIGl0IHJlbGF0aXZlXG4gICAgICAgKiB0byB0aGUgaW5kaWNhdG9yIHJhdGhlciB0aGFuIGBpb24tYnJlYWRjcnVtYmBcbiAgICAgICAqIGFzIGEgd2hvbGUuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGFjdHVhbFRyaWdnZXJFbCA9ICh0cmlnZ2VyRWwgfHxcbiAgICAgICAgKChfYSA9IGN1c3RvbUV2ID09PSBudWxsIHx8IGN1c3RvbUV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXN0b21Fdi5kZXRhaWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pb25TaGFkb3dUYXJnZXQpIHx8XG4gICAgICAgIChjdXN0b21FdiA9PT0gbnVsbCB8fCBjdXN0b21FdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VzdG9tRXYudGFyZ2V0KSk7XG4gICAgICBpZiAoIWFjdHVhbFRyaWdnZXJFbCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJpZ2dlckJvdW5kaW5nQm94ID0gYWN0dWFsVHJpZ2dlckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgcmVmZXJlbmNlQ29vcmRpbmF0ZXMgPSB7XG4gICAgICAgIHRvcDogdHJpZ2dlckJvdW5kaW5nQm94LnRvcCxcbiAgICAgICAgbGVmdDogdHJpZ2dlckJvdW5kaW5nQm94LmxlZnQsXG4gICAgICAgIHdpZHRoOiB0cmlnZ2VyQm91bmRpbmdCb3gud2lkdGgsXG4gICAgICAgIGhlaWdodDogdHJpZ2dlckJvdW5kaW5nQm94LmhlaWdodCxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgfVxuICAvKipcbiAgICogR2V0IHRvcC9sZWZ0IG9mZnNldCB0aGF0IHdvdWxkIGFsbG93XG4gICAqIHBvcG92ZXIgdG8gYmUgcG9zaXRpb25lZCBvbiB0aGVcbiAgICogcHJlZmVycmVkIHNpZGUgb2YgdGhlIHJlZmVyZW5jZS5cbiAgICovXG4gIGNvbnN0IGNvb3JkaW5hdGVzID0gY2FsY3VsYXRlUG9wb3ZlclNpZGUoc2lkZSwgcmVmZXJlbmNlQ29vcmRpbmF0ZXMsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIGlzUlRMKTtcbiAgLyoqXG4gICAqIEdldCB0aGUgdG9wL2xlZnQgYWRqdXN0bWVudHMgdGhhdFxuICAgKiB3b3VsZCBhbGxvdyB0aGUgcG9wb3ZlciBjb250ZW50XG4gICAqIHRvIGhhdmUgdGhlIGNvcnJlY3QgYWxpZ25tZW50LlxuICAgKi9cbiAgY29uc3QgYWxpZ25lZENvb3JkaW5hdGVzID0gY2FsY3VsYXRlUG9wb3ZlckFsaWduKGFsaWduLCBzaWRlLCByZWZlcmVuY2VDb29yZGluYXRlcywgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KTtcbiAgY29uc3QgdG9wID0gY29vcmRpbmF0ZXMudG9wICsgYWxpZ25lZENvb3JkaW5hdGVzLnRvcDtcbiAgY29uc3QgbGVmdCA9IGNvb3JkaW5hdGVzLmxlZnQgKyBhbGlnbmVkQ29vcmRpbmF0ZXMubGVmdDtcbiAgY29uc3QgeyBhcnJvd1RvcCwgYXJyb3dMZWZ0IH0gPSBjYWxjdWxhdGVBcnJvd1Bvc2l0aW9uKHNpZGUsIGFycm93V2lkdGgsIGFycm93SGVpZ2h0LCB0b3AsIGxlZnQsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgaXNSVEwpO1xuICBjb25zdCB7IG9yaWdpblgsIG9yaWdpblkgfSA9IGNhbGN1bGF0ZVBvcG92ZXJPcmlnaW4oc2lkZSwgYWxpZ24sIGlzUlRMKTtcbiAgcmV0dXJuIHsgdG9wLCBsZWZ0LCByZWZlcmVuY2VDb29yZGluYXRlcywgYXJyb3dUb3AsIGFycm93TGVmdCwgb3JpZ2luWCwgb3JpZ2luWSB9O1xufTtcbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgdHJhbnNmb3JtLW9yaWdpblxuICogb2YgdGhlIHBvcG92ZXIgYW5pbWF0aW9uIHNvIHRoYXQgaXRcbiAqIGlzIGluIGxpbmUgd2l0aCB3aGF0IHRoZSBzaWRlIGFuZCBhbGlnbm1lbnRcbiAqIHByb3AgdmFsdWVzIGFyZS4gQ3VycmVudGx5IG9ubHkgdXNlZFxuICogd2l0aCB0aGUgTUQgYW5pbWF0aW9uLlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyT3JpZ2luID0gKHNpZGUsIGFsaWduLCBpc1JUTCkgPT4ge1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgcmV0dXJuIHsgb3JpZ2luWDogZ2V0T3JpZ2luWEFsaWdubWVudChhbGlnbiksIG9yaWdpblk6ICdib3R0b20nIH07XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIHJldHVybiB7IG9yaWdpblg6IGdldE9yaWdpblhBbGlnbm1lbnQoYWxpZ24pLCBvcmlnaW5ZOiAndG9wJyB9O1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgcmV0dXJuIHsgb3JpZ2luWDogJ3JpZ2h0Jywgb3JpZ2luWTogZ2V0T3JpZ2luWUFsaWdubWVudChhbGlnbikgfTtcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4geyBvcmlnaW5YOiAnbGVmdCcsIG9yaWdpblk6IGdldE9yaWdpbllBbGlnbm1lbnQoYWxpZ24pIH07XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgcmV0dXJuIHsgb3JpZ2luWDogaXNSVEwgPyAnbGVmdCcgOiAncmlnaHQnLCBvcmlnaW5ZOiBnZXRPcmlnaW5ZQWxpZ25tZW50KGFsaWduKSB9O1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4geyBvcmlnaW5YOiBpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcsIG9yaWdpblk6IGdldE9yaWdpbllBbGlnbm1lbnQoYWxpZ24pIH07XG4gIH1cbn07XG5jb25zdCBnZXRPcmlnaW5YQWxpZ25tZW50ID0gKGFsaWduKSA9PiB7XG4gIHN3aXRjaCAoYWxpZ24pIHtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICByZXR1cm4gJ2NlbnRlcic7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHJldHVybiAncmlnaHQnO1xuICB9XG59O1xuY29uc3QgZ2V0T3JpZ2luWUFsaWdubWVudCA9IChhbGlnbikgPT4ge1xuICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgcmV0dXJuICd0b3AnO1xuICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICByZXR1cm4gJ2NlbnRlcic7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHJldHVybiAnYm90dG9tJztcbiAgfVxufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB3aGVyZSB0aGUgYXJyb3cgcG9zaXRpb25pbmdcbiAqIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgcG9wb3ZlciBjb250ZW50LlxuICovXG5jb25zdCBjYWxjdWxhdGVBcnJvd1Bvc2l0aW9uID0gKHNpZGUsIGFycm93V2lkdGgsIGFycm93SGVpZ2h0LCB0b3AsIGxlZnQsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgaXNSVEwpID0+IHtcbiAgLyoqXG4gICAqIE5vdGU6IFdoZW4gc2lkZSBpcyBsZWZ0LCByaWdodCwgc3RhcnQsIG9yIGVuZCwgdGhlIGFycm93IGlzXG4gICAqIGJlZW4gcm90YXRlZCB1c2luZyBhIGB0cmFuc2Zvcm1gLCBzbyB0byBtb3ZlIHRoZSBhcnJvdyB1cCBvciBkb3duXG4gICAqIGJ5IGl0cyBkaW1lbnNpb24sIHlvdSBuZWVkIHRvIHVzZSBgYXJyb3dXaWR0aGAuXG4gICAqL1xuICBjb25zdCBsZWZ0UG9zaXRpb24gPSB7XG4gICAgYXJyb3dUb3A6IHRvcCArIGNvbnRlbnRIZWlnaHQgLyAyIC0gYXJyb3dXaWR0aCAvIDIsXG4gICAgYXJyb3dMZWZ0OiBsZWZ0ICsgY29udGVudFdpZHRoIC0gYXJyb3dXaWR0aCAvIDIsXG4gIH07XG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBhcnJvdyB0byB0aGUgbGVmdCBieSBhcnJvd1dpZHRoIGFuZCB0aGVuXG4gICAqIGFnYWluIGJ5IGhhbGYgb2YgaXRzIHdpZHRoIGJlY2F1c2Ugd2UgaGF2ZSByb3RhdGVkXG4gICAqIHRoZSBhcnJvdyB1c2luZyBhIHRyYW5zZm9ybS5cbiAgICovXG4gIGNvbnN0IHJpZ2h0UG9zaXRpb24gPSB7IGFycm93VG9wOiB0b3AgKyBjb250ZW50SGVpZ2h0IC8gMiAtIGFycm93V2lkdGggLyAyLCBhcnJvd0xlZnQ6IGxlZnQgLSBhcnJvd1dpZHRoICogMS41IH07XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICByZXR1cm4geyBhcnJvd1RvcDogdG9wICsgY29udGVudEhlaWdodCwgYXJyb3dMZWZ0OiBsZWZ0ICsgY29udGVudFdpZHRoIC8gMiAtIGFycm93V2lkdGggLyAyIH07XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIHJldHVybiB7IGFycm93VG9wOiB0b3AgLSBhcnJvd0hlaWdodCwgYXJyb3dMZWZ0OiBsZWZ0ICsgY29udGVudFdpZHRoIC8gMiAtIGFycm93V2lkdGggLyAyIH07XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICByZXR1cm4gbGVmdFBvc2l0aW9uO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHJldHVybiByaWdodFBvc2l0aW9uO1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIHJldHVybiBpc1JUTCA/IHJpZ2h0UG9zaXRpb24gOiBsZWZ0UG9zaXRpb247XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHJldHVybiBpc1JUTCA/IGxlZnRQb3NpdGlvbiA6IHJpZ2h0UG9zaXRpb247XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7IGFycm93VG9wOiAwLCBhcnJvd0xlZnQ6IDAgfTtcbiAgfVxufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcmVxdWlyZWQgdG9wL2xlZnRcbiAqIHZhbHVlcyBuZWVkZWQgdG8gcG9zaXRpb24gdGhlIHBvcG92ZXJcbiAqIGNvbnRlbnQgb24gdGhlIHNpZGUgc3BlY2lmaWVkIGluIHRoZVxuICogYHNpZGVgIHByb3AuXG4gKi9cbmNvbnN0IGNhbGN1bGF0ZVBvcG92ZXJTaWRlID0gKHNpZGUsIHRyaWdnZXJCb3VuZGluZ0JveCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCwgaXNSVEwpID0+IHtcbiAgY29uc3Qgc2lkZUxlZnQgPSB7XG4gICAgdG9wOiB0cmlnZ2VyQm91bmRpbmdCb3gudG9wLFxuICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0IC0gY29udGVudFdpZHRoIC0gYXJyb3dXaWR0aCxcbiAgfTtcbiAgY29uc3Qgc2lkZVJpZ2h0ID0ge1xuICAgIHRvcDogdHJpZ2dlckJvdW5kaW5nQm94LnRvcCxcbiAgICBsZWZ0OiB0cmlnZ2VyQm91bmRpbmdCb3gubGVmdCArIHRyaWdnZXJCb3VuZGluZ0JveC53aWR0aCArIGFycm93V2lkdGgsXG4gIH07XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AgLSBjb250ZW50SGVpZ2h0IC0gYXJyb3dIZWlnaHQsXG4gICAgICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0LFxuICAgICAgfTtcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gc2lkZVJpZ2h0O1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AgKyB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0ICsgYXJyb3dIZWlnaHQsXG4gICAgICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0LFxuICAgICAgfTtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHJldHVybiBzaWRlTGVmdDtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgICByZXR1cm4gaXNSVEwgPyBzaWRlUmlnaHQgOiBzaWRlTGVmdDtcbiAgICBjYXNlICdlbmQnOlxuICAgICAgcmV0dXJuIGlzUlRMID8gc2lkZUxlZnQgOiBzaWRlUmlnaHQ7XG4gIH1cbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHJlcXVpcmVkIHRvcC9sZWZ0XG4gKiBvZmZzZXQgdmFsdWVzIG5lZWRlZCB0byBwcm92aWRlIHRoZVxuICogY29ycmVjdCBhbGlnbm1lbnQgcmVnYXJkbGVzcyB3aGlsZSB0YWtpbmdcbiAqIGludG8gYWNjb3VudCB0aGUgc2lkZSB0aGUgcG9wb3ZlciBpcyBvbi5cbiAqL1xuY29uc3QgY2FsY3VsYXRlUG9wb3ZlckFsaWduID0gKGFsaWduLCBzaWRlLCB0cmlnZ2VyQm91bmRpbmdCb3gsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCkgPT4ge1xuICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiBjYWxjdWxhdGVQb3BvdmVyQ2VudGVyQWxpZ24oc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpO1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4gY2FsY3VsYXRlUG9wb3ZlckVuZEFsaWduKHNpZGUsIHRyaWdnZXJCb3VuZGluZ0JveCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KTtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGVuZCBhbGlnbm1lbnQgZm9yXG4gKiB0aGUgcG9wb3Zlci4gSWYgc2lkZSBpcyBvbiB0aGUgeC1heGlzXG4gKiB0aGVuIHRoZSBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIHRvcFxuICogYW5kIGJvdHRvbSBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICogSWYgc2lkZSBpcyBvbiB0aGUgeS1heGlzIHRoZW4gdGhlXG4gKiBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gKiBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyRW5kQWxpZ24gPSAoc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpID0+IHtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgIGNhc2UgJ2VuZCc6XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAtKGNvbnRlbnRIZWlnaHQgLSB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0KSxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgIH07XG4gICAgY2FzZSAndG9wJzpcbiAgICBjYXNlICdib3R0b20nOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IC0oY29udGVudFdpZHRoIC0gdHJpZ2dlckJvdW5kaW5nQm94LndpZHRoKSxcbiAgICAgIH07XG4gIH1cbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgY2VudGVyIGFsaWdubWVudCBmb3JcbiAqIHRoZSBwb3BvdmVyLiBJZiBzaWRlIGlzIG9uIHRoZSB4LWF4aXNcbiAqIHRoZW4gdGhlIGFsaWduIHZhbHVlcyByZWZlciB0byB0aGUgdG9wXG4gKiBhbmQgYm90dG9tIG1hcmdpbnMgb2YgdGhlIGNvbnRlbnQuXG4gKiBJZiBzaWRlIGlzIG9uIHRoZSB5LWF4aXMgdGhlbiB0aGVcbiAqIGFsaWduIHZhbHVlcyByZWZlciB0byB0aGUgbGVmdCBhbmQgcmlnaHRcbiAqIG1hcmdpbnMgb2YgdGhlIGNvbnRlbnQuXG4gKi9cbmNvbnN0IGNhbGN1bGF0ZVBvcG92ZXJDZW50ZXJBbGlnbiA9IChzaWRlLCB0cmlnZ2VyQm91bmRpbmdCb3gsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCkgPT4ge1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgY2FzZSAnZW5kJzpcbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IC0oY29udGVudEhlaWdodCAvIDIgLSB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0IC8gMiksXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICB9O1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAtKGNvbnRlbnRXaWR0aCAvIDIgLSB0cmlnZ2VyQm91bmRpbmdCb3gud2lkdGggLyAyKSxcbiAgICAgIH07XG4gIH1cbn07XG4vKipcbiAqIEFkanVzdHMgcG9wb3ZlciBwb3NpdGlvbmluZyBjb29yZGluYXRlc1xuICogc3VjaCB0aGF0IHBvcG92ZXIgZG9lcyBub3QgYXBwZWFyIG9mZnNjcmVlblxuICogb3Igb3ZlcmxhcHBpbmcgc2FmZSBhcmVhIGJvdW5kcy5cbiAqL1xuY29uc3QgY2FsY3VsYXRlV2luZG93QWRqdXN0bWVudCA9IChzaWRlLCBjb29yZFRvcCwgY29vcmRMZWZ0LCBib2R5UGFkZGluZywgYm9keVdpZHRoLCBib2R5SGVpZ2h0LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIHNhZmVBcmVhTWFyZ2luLCBjb250ZW50T3JpZ2luWCwgY29udGVudE9yaWdpblksIHRyaWdnZXJDb29yZGluYXRlcywgY29vcmRBcnJvd1RvcCA9IDAsIGNvb3JkQXJyb3dMZWZ0ID0gMCwgYXJyb3dIZWlnaHQgPSAwKSA9PiB7XG4gIGxldCBhcnJvd1RvcCA9IGNvb3JkQXJyb3dUb3A7XG4gIGNvbnN0IGFycm93TGVmdCA9IGNvb3JkQXJyb3dMZWZ0O1xuICBsZXQgbGVmdCA9IGNvb3JkTGVmdDtcbiAgbGV0IHRvcCA9IGNvb3JkVG9wO1xuICBsZXQgYm90dG9tO1xuICBsZXQgb3JpZ2luWCA9IGNvbnRlbnRPcmlnaW5YO1xuICBsZXQgb3JpZ2luWSA9IGNvbnRlbnRPcmlnaW5ZO1xuICBsZXQgY2hlY2tTYWZlQXJlYUxlZnQgPSBmYWxzZTtcbiAgbGV0IGNoZWNrU2FmZUFyZWFSaWdodCA9IGZhbHNlO1xuICBjb25zdCB0cmlnZ2VyVG9wID0gdHJpZ2dlckNvb3JkaW5hdGVzXG4gICAgPyB0cmlnZ2VyQ29vcmRpbmF0ZXMudG9wICsgdHJpZ2dlckNvb3JkaW5hdGVzLmhlaWdodFxuICAgIDogYm9keUhlaWdodCAvIDIgLSBjb250ZW50SGVpZ2h0IC8gMjtcbiAgY29uc3QgdHJpZ2dlckhlaWdodCA9IHRyaWdnZXJDb29yZGluYXRlcyA/IHRyaWdnZXJDb29yZGluYXRlcy5oZWlnaHQgOiAwO1xuICBsZXQgYWRkUG9wb3ZlckJvdHRvbUNsYXNzID0gZmFsc2U7XG4gIC8qKlxuICAgKiBBZGp1c3QgcG9wb3ZlciBzbyBpdCBkb2VzIG5vdFxuICAgKiBnbyBvZmYgdGhlIGxlZnQgb2YgdGhlIHNjcmVlbi5cbiAgICovXG4gIGlmIChsZWZ0IDwgYm9keVBhZGRpbmcgKyBzYWZlQXJlYU1hcmdpbikge1xuICAgIGxlZnQgPSBib2R5UGFkZGluZztcbiAgICBjaGVja1NhZmVBcmVhTGVmdCA9IHRydWU7XG4gICAgb3JpZ2luWCA9ICdsZWZ0JztcbiAgICAvKipcbiAgICAgKiBBZGp1c3QgcG9wb3ZlciBzbyBpdCBkb2VzIG5vdFxuICAgICAqIGdvIG9mZiB0aGUgcmlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgfVxuICBlbHNlIGlmIChjb250ZW50V2lkdGggKyBib2R5UGFkZGluZyArIGxlZnQgKyBzYWZlQXJlYU1hcmdpbiA+IGJvZHlXaWR0aCkge1xuICAgIGNoZWNrU2FmZUFyZWFSaWdodCA9IHRydWU7XG4gICAgbGVmdCA9IGJvZHlXaWR0aCAtIGNvbnRlbnRXaWR0aCAtIGJvZHlQYWRkaW5nO1xuICAgIG9yaWdpblggPSAncmlnaHQnO1xuICB9XG4gIC8qKlxuICAgKiBBZGp1c3QgcG9wb3ZlciBzbyBpdCBkb2VzIG5vdFxuICAgKiBnbyBvZmYgdGhlIHRvcCBvZiB0aGUgc2NyZWVuLlxuICAgKiBJZiBwb3BvdmVyIGlzIG9uIHRoZSBsZWZ0IG9yIHRoZSByaWdodCBvZlxuICAgKiB0aGUgdHJpZ2dlciwgdGhlbiB3ZSBzaG91bGQgbm90IGFkanVzdCB0b3BcbiAgICogbWFyZ2lucy5cbiAgICovXG4gIGlmICh0cmlnZ2VyVG9wICsgdHJpZ2dlckhlaWdodCArIGNvbnRlbnRIZWlnaHQgPiBib2R5SGVpZ2h0ICYmIChzaWRlID09PSAndG9wJyB8fCBzaWRlID09PSAnYm90dG9tJykpIHtcbiAgICBpZiAodHJpZ2dlclRvcCAtIGNvbnRlbnRIZWlnaHQgPiAwKSB7XG4gICAgICAvKipcbiAgICAgICAqIFdoaWxlIHdlIHN0cml2ZSB0byBhbGlnbiB0aGUgcG9wb3ZlciB3aXRoIHRoZSB0cmlnZ2VyXG4gICAgICAgKiBvbiBzbWFsbGVyIHNjcmVlbnMgdGhpcyBpcyBub3QgYWx3YXlzIHBvc3NpYmxlLiBBcyBhIHJlc3VsdCxcbiAgICAgICAqIHdlIGFkanVzdCB0aGUgcG9wb3ZlciB1cCBzbyB0aGF0IGl0IGRvZXMgbm90IGhhbmdcbiAgICAgICAqIG9mZiB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4uIEhvd2V2ZXIsIHdlIGRvIG5vdCB3YW50IHRvIG1vdmVcbiAgICAgICAqIHRoZSBwb3BvdmVyIHVwIHNvIG11Y2ggdGhhdCBpdCBnb2VzIG9mZiB0aGUgdG9wIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgKlxuICAgICAgICogV2UgY2hvc2UgMTIgaGVyZSBzbyB0aGF0IHRoZSBwb3BvdmVyIHBvc2l0aW9uIGxvb2tzIGEgYml0IG5pY2VyIGFzXG4gICAgICAgKiBpdCBpcyBub3QgcmlnaHQgdXAgYWdhaW5zdCB0aGUgZWRnZSBvZiB0aGUgc2NyZWVuLlxuICAgICAgICovXG4gICAgICB0b3AgPSBNYXRoLm1heCgxMiwgdHJpZ2dlclRvcCAtIGNvbnRlbnRIZWlnaHQgLSB0cmlnZ2VySGVpZ2h0IC0gKGFycm93SGVpZ2h0IC0gMSkpO1xuICAgICAgYXJyb3dUb3AgPSB0b3AgKyBjb250ZW50SGVpZ2h0O1xuICAgICAgb3JpZ2luWSA9ICdib3R0b20nO1xuICAgICAgYWRkUG9wb3ZlckJvdHRvbUNsYXNzID0gdHJ1ZTtcbiAgICAgIC8qKlxuICAgICAgICogSWYgbm90IGVub3VnaCByb29tIGZvciBwb3BvdmVyIHRvIGFwcGVhclxuICAgICAgICogYWJvdmUgdHJpZ2dlciwgdGhlbiBjdXQgaXQgb2ZmLlxuICAgICAgICovXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYm90dG9tID0gYm9keVBhZGRpbmc7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgdG9wLFxuICAgIGxlZnQsXG4gICAgYm90dG9tLFxuICAgIG9yaWdpblgsXG4gICAgb3JpZ2luWSxcbiAgICBjaGVja1NhZmVBcmVhTGVmdCxcbiAgICBjaGVja1NhZmVBcmVhUmlnaHQsXG4gICAgYXJyb3dUb3AsXG4gICAgYXJyb3dMZWZ0LFxuICAgIGFkZFBvcG92ZXJCb3R0b21DbGFzcyxcbiAgfTtcbn07XG5jb25zdCBzaG91bGRTaG93QXJyb3cgPSAoc2lkZSwgZGlkQWRqdXN0Qm91bmRzID0gZmFsc2UsIGV2LCB0cmlnZ2VyKSA9PiB7XG4gIC8qKlxuICAgKiBJZiBubyBldmVudCBwcm92aWRlZCBhbmRcbiAgICogd2UgZG8gbm90IGhhdmUgYSB0cmlnZ2VyLFxuICAgKiB0aGVuIHRoaXMgcG9wb3ZlciB3YXMgbGlrZWx5XG4gICAqIHByZXNlbnRlZCB2aWEgdGhlIHBvcG92ZXJDb250cm9sbGVyXG4gICAqIG9yIHVzZXJzIGNhbGxlZCBgcHJlc2VudGAgbWFudWFsbHkuXG4gICAqIEluIHRoaXMgY2FzZSwgdGhlIGFycm93IHNob3VsZCBub3QgYmVcbiAgICogc2hvd24gYXMgd2UgZG8gbm90IGhhdmUgYSByZWZlcmVuY2UuXG4gICAqL1xuICBpZiAoIWV2ICYmICF0cmlnZ2VyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBJZiBwb3BvdmVyIGlzIG9uIHRoZSBsZWZ0IG9yIHRoZSByaWdodFxuICAgKiBvZiBhIHRyaWdnZXIsIGJ1dCB3ZSBuZWVkZWQgdG8gYWRqdXN0IHRoZVxuICAgKiBwb3BvdmVyIGR1ZSB0byBzY3JlZW4gYm91bmRzLCB0aGVuIHdlIHNob3VsZFxuICAgKiBoaWRlIHRoZSBhcnJvdyBhcyBpdCB3aWxsIG5ldmVyIGJlIHBvaW50aW5nXG4gICAqIGF0IHRoZSB0cmlnZ2VyLlxuICAgKi9cbiAgaWYgKHNpZGUgIT09ICd0b3AnICYmIHNpZGUgIT09ICdib3R0b20nICYmIGRpZEFkanVzdEJvdW5kcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IFBPUE9WRVJfSU9TX0JPRFlfUEFERElORyA9IDU7XG4vKipcbiAqIGlPUyBQb3BvdmVyIEVudGVyIEFuaW1hdGlvblxuICovXG4vLyBUT0RPKEZXLTI4MzIpOiB0eXBlc1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsLCBvcHRzKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBldmVudDogZXYsIHNpemUsIHRyaWdnZXIsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24gfSA9IG9wdHM7XG4gIGNvbnN0IGRvYyA9IGJhc2VFbC5vd25lckRvY3VtZW50O1xuICBjb25zdCBpc1JUTCA9IGRvYy5kaXIgPT09ICdydGwnO1xuICBjb25zdCBib2R5V2lkdGggPSBkb2MuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aDtcbiAgY29uc3QgYm9keUhlaWdodCA9IGRvYy5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IGNvbnRlbnRFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItY29udGVudCcpO1xuICBjb25zdCBhcnJvd0VsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1hcnJvdycpO1xuICBjb25zdCByZWZlcmVuY2VTaXplRWwgPSB0cmlnZ2VyIHx8ICgoX2EgPSBldiA9PT0gbnVsbCB8fCBldiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXYuZGV0YWlsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW9uU2hhZG93VGFyZ2V0KSB8fCAoZXYgPT09IG51bGwgfHwgZXYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2LnRhcmdldCk7XG4gIGNvbnN0IHsgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0IH0gPSBnZXRQb3BvdmVyRGltZW5zaW9ucyhzaXplLCBjb250ZW50RWwsIHJlZmVyZW5jZVNpemVFbCk7XG4gIGNvbnN0IHsgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQgfSA9IGdldEFycm93RGltZW5zaW9ucyhhcnJvd0VsKTtcbiAgY29uc3QgZGVmYXVsdFBvc2l0aW9uID0ge1xuICAgIHRvcDogYm9keUhlaWdodCAvIDIgLSBjb250ZW50SGVpZ2h0IC8gMixcbiAgICBsZWZ0OiBib2R5V2lkdGggLyAyIC0gY29udGVudFdpZHRoIC8gMixcbiAgICBvcmlnaW5YOiBpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcsXG4gICAgb3JpZ2luWTogJ3RvcCcsXG4gIH07XG4gIGNvbnN0IHJlc3VsdHMgPSBnZXRQb3BvdmVyUG9zaXRpb24oaXNSVEwsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24sIGRlZmF1bHRQb3NpdGlvbiwgdHJpZ2dlciwgZXYpO1xuICBjb25zdCBwYWRkaW5nID0gc2l6ZSA9PT0gJ2NvdmVyJyA/IDAgOiBQT1BPVkVSX0lPU19CT0RZX1BBRERJTkc7XG4gIGNvbnN0IG1hcmdpbiA9IHNpemUgPT09ICdjb3ZlcicgPyAwIDogMjU7XG4gIGNvbnN0IHsgb3JpZ2luWCwgb3JpZ2luWSwgdG9wLCBsZWZ0LCBib3R0b20sIGNoZWNrU2FmZUFyZWFMZWZ0LCBjaGVja1NhZmVBcmVhUmlnaHQsIGFycm93VG9wLCBhcnJvd0xlZnQsIGFkZFBvcG92ZXJCb3R0b21DbGFzcywgfSA9IGNhbGN1bGF0ZVdpbmRvd0FkanVzdG1lbnQoc2lkZSwgcmVzdWx0cy50b3AsIHJlc3VsdHMubGVmdCwgcGFkZGluZywgYm9keVdpZHRoLCBib2R5SGVpZ2h0LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIG1hcmdpbiwgcmVzdWx0cy5vcmlnaW5YLCByZXN1bHRzLm9yaWdpblksIHJlc3VsdHMucmVmZXJlbmNlQ29vcmRpbmF0ZXMsIHJlc3VsdHMuYXJyb3dUb3AsIHJlc3VsdHMuYXJyb3dMZWZ0LCBhcnJvd0hlaWdodCk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScpXG4gICAgLmJlZm9yZVN0eWxlcyh7XG4gICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLFxuICB9KVxuICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gIHdyYXBwZXJBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLXdyYXBwZXInKSkuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmVhc2luZygnZWFzZScpXG4gICAgLmR1cmF0aW9uKDEwMClcbiAgICAuYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgIGlmIChzaXplID09PSAnY292ZXInKSB7XG4gICAgICBiYXNlRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0td2lkdGgnLCBgJHtjb250ZW50V2lkdGh9cHhgKTtcbiAgICB9XG4gICAgaWYgKGFkZFBvcG92ZXJCb3R0b21DbGFzcykge1xuICAgICAgYmFzZUVsLmNsYXNzTGlzdC5hZGQoJ3BvcG92ZXItYm90dG9tJyk7XG4gICAgfVxuICAgIGlmIChib3R0b20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGVudEVsLnN0eWxlLnNldFByb3BlcnR5KCdib3R0b20nLCBgJHtib3R0b219cHhgKTtcbiAgICB9XG4gICAgY29uc3Qgc2FmZUFyZWFMZWZ0ID0gJyArIHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCwgMCknO1xuICAgIGNvbnN0IHNhZmVBcmVhUmlnaHQgPSAnIC0gdmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCwgMCknO1xuICAgIGxldCBsZWZ0VmFsdWUgPSBgJHtsZWZ0fXB4YDtcbiAgICBpZiAoY2hlY2tTYWZlQXJlYUxlZnQpIHtcbiAgICAgIGxlZnRWYWx1ZSA9IGAke2xlZnR9cHgke3NhZmVBcmVhTGVmdH1gO1xuICAgIH1cbiAgICBpZiAoY2hlY2tTYWZlQXJlYVJpZ2h0KSB7XG4gICAgICBsZWZ0VmFsdWUgPSBgJHtsZWZ0fXB4JHtzYWZlQXJlYVJpZ2h0fWA7XG4gICAgfVxuICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgndG9wJywgYGNhbGMoJHt0b3B9cHggKyB2YXIoLS1vZmZzZXQteSwgMCkpYCk7XG4gICAgY29udGVudEVsLnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgYGNhbGMoJHtsZWZ0VmFsdWV9ICsgdmFyKC0tb2Zmc2V0LXgsIDApKWApO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgndHJhbnNmb3JtLW9yaWdpbicsIGAke29yaWdpbll9ICR7b3JpZ2luWH1gKTtcbiAgICBpZiAoYXJyb3dFbCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgZGlkQWRqdXN0Qm91bmRzID0gcmVzdWx0cy50b3AgIT09IHRvcCB8fCByZXN1bHRzLmxlZnQgIT09IGxlZnQ7XG4gICAgICBjb25zdCBzaG93QXJyb3cgPSBzaG91bGRTaG93QXJyb3coc2lkZSwgZGlkQWRqdXN0Qm91bmRzLCBldiwgdHJpZ2dlcik7XG4gICAgICBpZiAoc2hvd0Fycm93KSB7XG4gICAgICAgIGFycm93RWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RvcCcsIGBjYWxjKCR7YXJyb3dUb3B9cHggKyB2YXIoLS1vZmZzZXQteSwgMCkpYCk7XG4gICAgICAgIGFycm93RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2xlZnQnLCBgY2FsYygke2Fycm93TGVmdH1weCArIHZhcigtLW9mZnNldC14LCAwKSlgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhcnJvd0VsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogaU9TIFBvcG92ZXIgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IGlvc0xlYXZlQW5pbWF0aW9uID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgY29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gIGNvbnN0IGFycm93RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWFycm93Jyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDApO1xuICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci13cmFwcGVyJykpLmZyb21Ubygnb3BhY2l0eScsIDAuOTksIDApO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2Vhc2UnKVxuICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICBiYXNlRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0td2lkdGgnKTtcbiAgICBiYXNlRWwuY2xhc3NMaXN0LnJlbW92ZSgncG9wb3Zlci1ib3R0b20nKTtcbiAgICBjb250ZW50RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RvcCcpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYm90dG9tJyk7XG4gICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2Zvcm0tb3JpZ2luJyk7XG4gICAgaWYgKGFycm93RWwpIHtcbiAgICAgIGFycm93RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RvcCcpO1xuICAgICAgYXJyb3dFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgICAgYXJyb3dFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgIH1cbiAgfSlcbiAgICAuZHVyYXRpb24oMzAwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG5jb25zdCBQT1BPVkVSX01EX0JPRFlfUEFERElORyA9IDEyO1xuLyoqXG4gKiBNZCBQb3BvdmVyIEVudGVyIEFuaW1hdGlvblxuICovXG4vLyBUT0RPKEZXLTI4MzIpOiB0eXBlc1xuY29uc3QgbWRFbnRlckFuaW1hdGlvbiA9IChiYXNlRWwsIG9wdHMpID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IGV2ZW50OiBldiwgc2l6ZSwgdHJpZ2dlciwgcmVmZXJlbmNlLCBzaWRlLCBhbGlnbiB9ID0gb3B0cztcbiAgY29uc3QgZG9jID0gYmFzZUVsLm93bmVyRG9jdW1lbnQ7XG4gIGNvbnN0IGlzUlRMID0gZG9jLmRpciA9PT0gJ3J0bCc7XG4gIGNvbnN0IGJvZHlXaWR0aCA9IGRvYy5kZWZhdWx0Vmlldy5pbm5lcldpZHRoO1xuICBjb25zdCBib2R5SGVpZ2h0ID0gZG9jLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgY29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gIGNvbnN0IHJlZmVyZW5jZVNpemVFbCA9IHRyaWdnZXIgfHwgKChfYSA9IGV2ID09PSBudWxsIHx8IGV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldi5kZXRhaWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pb25TaGFkb3dUYXJnZXQpIHx8IChldiA9PT0gbnVsbCB8fCBldiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXYudGFyZ2V0KTtcbiAgY29uc3QgeyBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQgfSA9IGdldFBvcG92ZXJEaW1lbnNpb25zKHNpemUsIGNvbnRlbnRFbCwgcmVmZXJlbmNlU2l6ZUVsKTtcbiAgY29uc3QgZGVmYXVsdFBvc2l0aW9uID0ge1xuICAgIHRvcDogYm9keUhlaWdodCAvIDIgLSBjb250ZW50SGVpZ2h0IC8gMixcbiAgICBsZWZ0OiBib2R5V2lkdGggLyAyIC0gY29udGVudFdpZHRoIC8gMixcbiAgICBvcmlnaW5YOiBpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcsXG4gICAgb3JpZ2luWTogJ3RvcCcsXG4gIH07XG4gIGNvbnN0IHJlc3VsdHMgPSBnZXRQb3BvdmVyUG9zaXRpb24oaXNSVEwsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgMCwgMCwgcmVmZXJlbmNlLCBzaWRlLCBhbGlnbiwgZGVmYXVsdFBvc2l0aW9uLCB0cmlnZ2VyLCBldik7XG4gIGNvbnN0IHBhZGRpbmcgPSBzaXplID09PSAnY292ZXInID8gMCA6IFBPUE9WRVJfTURfQk9EWV9QQURESU5HO1xuICBjb25zdCB7IG9yaWdpblgsIG9yaWdpblksIHRvcCwgbGVmdCwgYm90dG9tIH0gPSBjYWxjdWxhdGVXaW5kb3dBZGp1c3RtZW50KHNpZGUsIHJlc3VsdHMudG9wLCByZXN1bHRzLmxlZnQsIHBhZGRpbmcsIGJvZHlXaWR0aCwgYm9keUhlaWdodCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCAwLCByZXN1bHRzLm9yaWdpblgsIHJlc3VsdHMub3JpZ2luWSwgcmVzdWx0cy5yZWZlcmVuY2VDb29yZGluYXRlcyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBjb250ZW50QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHZpZXdwb3J0QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gIH0pXG4gICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgd3JhcHBlckFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItd3JhcHBlcicpKS5kdXJhdGlvbigxNTApLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDEpO1xuICBjb250ZW50QW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoY29udGVudEVsKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgIHRvcDogYGNhbGMoJHt0b3B9cHggKyB2YXIoLS1vZmZzZXQteSwgMHB4KSlgLFxuICAgIGxlZnQ6IGBjYWxjKCR7bGVmdH1weCArIHZhcigtLW9mZnNldC14LCAwcHgpKWAsXG4gICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtvcmlnaW5ZfSAke29yaWdpblh9YCxcbiAgfSlcbiAgICAuYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgIGlmIChib3R0b20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGVudEVsLnN0eWxlLnNldFByb3BlcnR5KCdib3R0b20nLCBgJHtib3R0b219cHhgKTtcbiAgICB9XG4gIH0pXG4gICAgLmZyb21UbygndHJhbnNmb3JtJywgJ3NjYWxlKDAuOCknLCAnc2NhbGUoMSknKTtcbiAgdmlld3BvcnRBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLXZpZXdwb3J0JykpLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDEpO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllcigwLjM2LDAuNjYsMC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDMwMClcbiAgICAuYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgIGlmIChzaXplID09PSAnY292ZXInKSB7XG4gICAgICBiYXNlRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0td2lkdGgnLCBgJHtjb250ZW50V2lkdGh9cHhgKTtcbiAgICB9XG4gICAgaWYgKG9yaWdpblkgPT09ICdib3R0b20nKSB7XG4gICAgICBiYXNlRWwuY2xhc3NMaXN0LmFkZCgncG9wb3Zlci1ib3R0b20nKTtcbiAgICB9XG4gIH0pXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24sIGNvbnRlbnRBbmltYXRpb24sIHZpZXdwb3J0QW5pbWF0aW9uXSk7XG59O1xuXG4vKipcbiAqIE1kIFBvcG92ZXIgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kTGVhdmVBbmltYXRpb24gPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChiYXNlRWwpO1xuICBjb25zdCBjb250ZW50RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWNvbnRlbnQnKTtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSkuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gIHdyYXBwZXJBbmltYXRpb24uYWRkRWxlbWVudChyb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLXdyYXBwZXInKSkuZnJvbVRvKCdvcGFjaXR5JywgMC45OSwgMCk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmVhc2luZygnZWFzZScpXG4gICAgLmFmdGVyQWRkV3JpdGUoKCkgPT4ge1xuICAgIGJhc2VFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS13aWR0aCcpO1xuICAgIGJhc2VFbC5jbGFzc0xpc3QucmVtb3ZlKCdwb3BvdmVyLWJvdHRvbScpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndG9wJyk7XG4gICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdsZWZ0Jyk7XG4gICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdib3R0b20nKTtcbiAgICBjb250ZW50RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zZm9ybS1vcmlnaW4nKTtcbiAgfSlcbiAgICAuZHVyYXRpb24oMTUwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG5jb25zdCBwb3BvdmVySW9zQ3NzID0gXCI6aG9zdHstLWJhY2tncm91bmQ6dmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpOy0tbWluLXdpZHRoOjA7LS1taW4taGVpZ2h0OjA7LS1tYXgtd2lkdGg6YXV0bzstLWhlaWdodDphdXRvOy0tb2Zmc2V0LXg6MHB4Oy0tb2Zmc2V0LXk6MHB4O2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO3otaW5kZXg6MTAwMX06aG9zdCgucG9wb3Zlci1uZXN0ZWQpe3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoLnBvcG92ZXItbmVzdGVkKSAucG9wb3Zlci13cmFwcGVye3BvaW50ZXItZXZlbnRzOmF1dG99Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9LnBvcG92ZXItd3JhcHBlcntvcGFjaXR5OjA7ei1pbmRleDoxMH0ucG9wb3Zlci1jb250ZW50e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtvdmVyZmxvdzphdXRvO3otaW5kZXg6MTB9LnBvcG92ZXItdmlld3BvcnR7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47b3ZlcmZsb3c6aGlkZGVufTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtbGVmdCl7LS1vZmZzZXQteDo1cHh9Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1yaWdodCl7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnR7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKXstLW9mZnNldC14Oi01cHh9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5key0tb2Zmc2V0LXg6NXB4fTpob3N0ey0td2lkdGg6MjAwcHg7LS1tYXgtaGVpZ2h0OjkwJTstLWJveC1zaGFkb3c6bm9uZTstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMDgpfTpob3N0KC5wb3BvdmVyLWRlc2t0b3Apey0tYm94LXNoYWRvdzowcHggNHB4IDE2cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xMil9LnBvcG92ZXItY29udGVudHtib3JkZXItcmFkaXVzOjEwcHh9Omhvc3QoLnBvcG92ZXItZGVza3RvcCkgLnBvcG92ZXItY29udGVudHtib3JkZXI6MC41cHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZTZlNmU2KX0ucG9wb3Zlci1hcnJvd3tkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwcHg7aGVpZ2h0OjEwcHg7b3ZlcmZsb3c6aGlkZGVufS5wb3BvdmVyLWFycm93OjphZnRlcntsZWZ0OjNweDt0b3A6M3B4O2JvcmRlci1yYWRpdXM6M3B4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE0cHg7aGVpZ2h0OjE0cHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbnRlbnQ6XFxcIlxcXCI7ei1pbmRleDoxMH1bZGlyPXJ0bF0gLnBvcG92ZXItYXJyb3c6OmFmdGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9Omhvc3QoLnBvcG92ZXItYm90dG9tKSAucG9wb3Zlci1hcnJvd3t0b3A6YXV0bztib3R0b206LTEwcHh9Omhvc3QoLnBvcG92ZXItYm90dG9tKSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7dG9wOi02cHh9Omhvc3QoLnBvcG92ZXItc2lkZS1sZWZ0KSAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfTpob3N0KC5wb3BvdmVyLXNpZGUtcmlnaHQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdCgucG9wb3Zlci1zaWRlLXRvcCkgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfTpob3N0KC5wb3BvdmVyLXNpZGUtc3RhcnQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItc2lkZS1zdGFydCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1zdGFydCAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9Omhvc3QoLnBvcG92ZXItc2lkZS1lbmQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1zaWRlLWVuZCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1lbmQgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX1Ac3VwcG9ydHMgKCgtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkgb3IgKGJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkpezpob3N0KC5wb3BvdmVyLXRyYW5zbHVjZW50KSAucG9wb3Zlci1jb250ZW50LDpob3N0KC5wb3BvdmVyLXRyYW5zbHVjZW50KSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCk7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KTtiYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KX19XCI7XG5cbmNvbnN0IHBvcG92ZXJNZENzcyA9IFwiOmhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLW1pbi13aWR0aDowOy0tbWluLWhlaWdodDowOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6YXV0bzstLW9mZnNldC14OjBweDstLW9mZnNldC15OjBweDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTt6LWluZGV4OjEwMDF9Omhvc3QoLnBvcG92ZXItbmVzdGVkKXtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5wb3BvdmVyLW5lc3RlZCkgLnBvcG92ZXItd3JhcHBlcntwb2ludGVyLWV2ZW50czphdXRvfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfS5wb3BvdmVyLXdyYXBwZXJ7b3BhY2l0eTowO3otaW5kZXg6MTB9LnBvcG92ZXItY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6YXV0bzt6LWluZGV4OjEwfS5wb3BvdmVyLXZpZXdwb3J0ey0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO292ZXJmbG93OmhpZGRlbn06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWxlZnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtcmlnaHQpey0tb2Zmc2V0LXg6LTVweH06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXN0YXJ0KXstLW9mZnNldC14OjVweH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXN0YXJ0KSw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXN0YXJ0ey0tb2Zmc2V0LXg6LTVweH06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZCl7LS1vZmZzZXQteDotNXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKSw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZHstLW9mZnNldC14OjVweH06aG9zdHstLXdpZHRoOjI1MHB4Oy0tbWF4LWhlaWdodDo5MCU7LS1ib3gtc2hhZG93OjAgNXB4IDVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA4cHggMTBweCAxcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMzIpfS5wb3BvdmVyLWNvbnRlbnR7Ym9yZGVyLXJhZGl1czo0cHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgdG9wO3RyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3B9W2Rpcj1ydGxdIC5wb3BvdmVyLWNvbnRlbnQsOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5wb3BvdmVyLWNvbnRlbnR7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IHRvcDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IHRvcH0ucG9wb3Zlci12aWV3cG9ydHstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6MTAwbXM7dHJhbnNpdGlvbi1kZWxheToxMDBtc31cIjtcblxuY29uc3QgUG9wb3ZlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5kaWRQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Qb3BvdmVyRGlkUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Qb3BvdmVyV2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUG9wb3ZlcldpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUG9wb3ZlckRpZERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5kaWRQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnRTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3NTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiZGlkRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLmlvbk1vdW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Nb3VudFwiLCA3KTtcbiAgICB0aGlzLnBhcmVudFBvcG92ZXIgPSBudWxsO1xuICAgIHRoaXMucG9wb3ZlckluZGV4ID0gcG9wb3ZlcklkcysrO1xuICAgIHRoaXMuY29yZURlbGVnYXRlID0gQ29yZURlbGVnYXRlKCk7XG4gICAgdGhpcy5pbmxpbmUgPSBmYWxzZTtcbiAgICB0aGlzLmZvY3VzRGVzY2VuZGFudE9uUHJlc2VudCA9IGZhbHNlO1xuICAgIHRoaXMucHJlc2VudGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaGFzQ29udHJvbGxlciA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBwb3BvdmVyIHdpbGwgYmUgZGlzbWlzc2VkIHdoZW4gdGhlIGJhY2tkcm9wIGlzIGNsaWNrZWQuXG4gICAgICovXG4gICAgdGhpcy5iYWNrZHJvcERpc21pc3MgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgYSBiYWNrZHJvcCB3aWxsIGJlIGRpc3BsYXllZCBiZWhpbmQgdGhlIHBvcG92ZXIuXG4gICAgICogVGhpcyBwcm9wZXJ0eSBjb250cm9scyB3aGV0aGVyIG9yIG5vdCB0aGUgYmFja2Ryb3BcbiAgICAgKiBkYXJrZW5zIHRoZSBzY3JlZW4gd2hlbiB0aGUgcG9wb3ZlciBpcyBwcmVzZW50ZWQuXG4gICAgICogSXQgZG9lcyBub3QgY29udHJvbCB3aGV0aGVyIG9yIG5vdCB0aGUgYmFja2Ryb3BcbiAgICAgKiBpcyBhY3RpdmUgb3IgcHJlc2VudCBpbiB0aGUgRE9NLlxuICAgICAqL1xuICAgIHRoaXMuc2hvd0JhY2tkcm9wID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBwb3BvdmVyIHdpbGwgYmUgdHJhbnNsdWNlbnQuXG4gICAgICogT25seSBhcHBsaWVzIHdoZW4gdGhlIG1vZGUgaXMgYFwiaW9zXCJgIGFuZCB0aGUgZGV2aWNlIHN1cHBvcnRzXG4gICAgICogW2BiYWNrZHJvcC1maWx0ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvYmFja2Ryb3AtZmlsdGVyI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG4gICAgICovXG4gICAgdGhpcy50cmFuc2x1Y2VudCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBhbmltYXRlLlxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0ZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyB3aGF0IGtpbmQgb2YgaW50ZXJhY3Rpb24gd2l0aCB0aGUgdHJpZ2dlciB0aGF0XG4gICAgICogc2hvdWxkIGNhdXNlIHRoZSBwb3BvdmVyIHRvIG9wZW4uIERvZXMgbm90IGFwcGx5IHdoZW4gdGhlIGB0cmlnZ2VyYFxuICAgICAqIHByb3BlcnR5IGlzIGB1bmRlZmluZWRgLlxuICAgICAqIElmIGAnY2xpY2snYCwgdGhlIHBvcG92ZXIgd2lsbCBiZSBwcmVzZW50ZWQgd2hlbiB0aGUgdHJpZ2dlciBpcyBsZWZ0IGNsaWNrZWQuXG4gICAgICogSWYgYCdob3ZlcidgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHByZXNlbnRlZCB3aGVuIGEgcG9pbnRlciBob3ZlcnMgb3ZlciB0aGUgdHJpZ2dlci5cbiAgICAgKiBJZiBgJ2NvbnRleHQtbWVudSdgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHByZXNlbnRlZCB3aGVuIHRoZSB0cmlnZ2VyIGlzIHJpZ2h0XG4gICAgICogY2xpY2tlZCBvbiBkZXNrdG9wIGFuZCBsb25nIHByZXNzZWQgb24gbW9iaWxlLiBUaGlzIHdpbGwgYWxzbyBwcmV2ZW50IHlvdXJcbiAgICAgKiBkZXZpY2UncyBub3JtYWwgY29udGV4dCBtZW51IGZyb20gYXBwZWFyaW5nLlxuICAgICAqL1xuICAgIHRoaXMudHJpZ2dlckFjdGlvbiA9ICdjbGljayc7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGhvdyB0byBjYWxjdWxhdGUgdGhlIHBvcG92ZXIgd2lkdGguXG4gICAgICogSWYgYCdjb3ZlcidgLCB0aGUgcG9wb3ZlciB3aWR0aCB3aWxsIG1hdGNoIHRoZSB3aWR0aCBvZiB0aGUgdHJpZ2dlci5cbiAgICAgKiBJZiBgJ2F1dG8nYCwgdGhlIHBvcG92ZXIgd2lkdGggd2lsbCBiZSBkZXRlcm1pbmVkIGJ5IHRoZSBjb250ZW50IGluXG4gICAgICogdGhlIHBvcG92ZXIuXG4gICAgICovXG4gICAgdGhpcy5zaXplID0gJ2F1dG8nO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAgICogZGlzbWlzc2VkIHdoZW4gdGhlIGNvbnRlbnQgaGFzIGJlZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB0aGlzLmRpc21pc3NPblNlbGVjdCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyB3aGF0IHRvIHBvc2l0aW9uIHRoZSBwb3BvdmVyIHJlbGF0aXZlIHRvLlxuICAgICAqIElmIGAndHJpZ2dlcidgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHBvc2l0aW9uZWQgcmVsYXRpdmVcbiAgICAgKiB0byB0aGUgdHJpZ2dlciBidXR0b24uIElmIHBhc3NpbmcgaW4gYW4gZXZlbnQsIHRoaXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIHZpYSBldmVudC50YXJnZXQuXG4gICAgICogSWYgYCdldmVudCdgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHBvc2l0aW9uZWQgcmVsYXRpdmVcbiAgICAgKiB0byB0aGUgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSB0cmlnZ2VyIGFjdGlvbi4gSWYgcGFzc2luZ1xuICAgICAqIGluIGFuIGV2ZW50LCB0aGlzIGlzIGRldGVybWluZWQgdmlhIGV2ZW50LmNsaWVudFggYW5kIGV2ZW50LmNsaWVudFkuXG4gICAgICovXG4gICAgdGhpcy5yZWZlcmVuY2UgPSAndHJpZ2dlcic7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHdoaWNoIHNpZGUgb2YgdGhlIGByZWZlcmVuY2VgIHBvaW50IHRvIHBvc2l0aW9uXG4gICAgICogdGhlIHBvcG92ZXIgb24uIFRoZSBgJ3N0YXJ0J2AgYW5kIGAnZW5kJ2AgdmFsdWVzIGFyZSBSVEwtYXdhcmUsXG4gICAgICogYW5kIHRoZSBgJ2xlZnQnYCBhbmQgYCdyaWdodCdgIHZhbHVlcyBhcmUgbm90LlxuICAgICAqL1xuICAgIHRoaXMuc2lkZSA9ICdib3R0b20nO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBkaXNwbGF5IGFuIGFycm93IHRoYXQgcG9pbnRzIGF0IHRoZVxuICAgICAqIGByZWZlcmVuY2VgIHdoZW4gcnVubmluZyBpbiBgaW9zYCBtb2RlLiBEb2VzIG5vdCBhcHBseSBpbiBgbWRgIG1vZGUuXG4gICAgICovXG4gICAgdGhpcy5hcnJvdyA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIG9wZW4uIElmIGBmYWxzZWAsIHRoZSBwb3BvdmVyIHdpbGwgY2xvc2UuXG4gICAgICogVXNlIHRoaXMgaWYgeW91IG5lZWQgZmluZXIgZ3JhaW5lZCBjb250cm9sIG92ZXIgcHJlc2VudGF0aW9uLCBvdGhlcndpc2VcbiAgICAgKiBqdXN0IHVzZSB0aGUgcG9wb3ZlckNvbnRyb2xsZXIgb3IgdGhlIGB0cmlnZ2VyYCBwcm9wZXJ0eS5cbiAgICAgKiBOb3RlOiBgaXNPcGVuYCB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IGJlIHNldCBiYWNrIHRvIGBmYWxzZWAgd2hlblxuICAgICAqIHRoZSBwb3BvdmVyIGRpc21pc3Nlcy4gWW91IHdpbGwgbmVlZCB0byBkbyB0aGF0IGluIHlvdXIgY29kZS5cbiAgICAgKi9cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqXG4gICAgICogSWYgYHRydWVgIHRoZSBwb3BvdmVyIHdpbGwgbm90IHJlZ2lzdGVyIGl0cyBvd24ga2V5Ym9hcmQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICogVGhpcyBhbGxvd3MgdGhlIGNvbnRlbnRzIG9mIHRoZSBwb3BvdmVyIHRvIGhhbmRsZSB0aGVpciBvd24ga2V5Ym9hcmQgaW50ZXJhY3Rpb25zLlxuICAgICAqXG4gICAgICogSWYgYGZhbHNlYCwgdGhlIHBvcG92ZXIgd2lsbCByZWdpc3RlciBpdHMgb3duIGtleWJvYXJkIGV2ZW50IGhhbmRsZXJzIGZvclxuICAgICAqIG5hdmlnYXRpbmcgYGlvbi1saXN0YCBpdGVtcyB3aXRoaW4gYSBwb3BvdmVyICh1cC9kb3duL2hvbWUvZW5kL2V0Yy4pLlxuICAgICAqIFRoaXMgd2lsbCBhbHNvIGNhbmNlbCBicm93c2VyIGtleWJvYXJkIGV2ZW50IGJpbmRpbmdzIHRvIHByZXZlbnQgc2Nyb2xsXG4gICAgICogYmVoYXZpb3IgaW4gYSBwb3BvdmVyIHVzaW5nIGEgbGlzdCBvZiBpdGVtcy5cbiAgICAgKi9cbiAgICB0aGlzLmtleWJvYXJkRXZlbnRzID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHBhc3NlZCBpbnRvIGBpb24tcG9wb3ZlcmAgd2lsbFxuICAgICAqIGF1dG9tYXRpY2FsbHkgYmUgbW91bnRlZCB3aGVuIHRoZSBwb3BvdmVyIGlzIGNyZWF0ZWQuIFRoZVxuICAgICAqIGNvbXBvbmVudCB3aWxsIHJlbWFpbiBtb3VudGVkIGV2ZW4gd2hlbiB0aGUgcG9wb3ZlciBpcyBkaXNtaXNzZWQuXG4gICAgICogSG93ZXZlciwgdGhlIGNvbXBvbmVudCB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoZSBwb3BvdmVyIGlzXG4gICAgICogZGVzdHJveWVkLiBUaGlzIHByb3BlcnR5IGlzIG5vdCByZWFjdGl2ZSBhbmQgc2hvdWxkIG9ubHkgYmVcbiAgICAgKiB1c2VkIHdoZW4gaW5pdGlhbGx5IGNyZWF0aW5nIGEgcG9wb3Zlci5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgZmVhdHVyZSBvbmx5IGFwcGxpZXMgdG8gaW5saW5lIHBvcG92ZXJzIGluIEphdmFTY3JpcHRcbiAgICAgKiBmcmFtZXdvcmtzIHN1Y2ggYXMgQW5ndWxhciwgUmVhY3QsIGFuZCBWdWUuXG4gICAgICovXG4gICAgdGhpcy5rZWVwQ29udGVudHNNb3VudGVkID0gZmFsc2U7XG4gICAgdGhpcy5vbkJhY2tkcm9wVGFwID0gKCkgPT4ge1xuICAgICAgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgQkFDS0RST1ApO1xuICAgIH07XG4gICAgdGhpcy5vbkxpZmVjeWNsZSA9IChtb2RhbEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHRoaXMudXNlcnNFbGVtZW50O1xuICAgICAgY29uc3QgbmFtZSA9IExJRkVDWUNMRV9NQVBbbW9kYWxFdmVudC50eXBlXTtcbiAgICAgIGlmIChlbCAmJiBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICBkZXRhaWw6IG1vZGFsRXZlbnQuZGV0YWlsLFxuICAgICAgICB9KTtcbiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdHJpZ2dlciwgdHJpZ2dlckFjdGlvbiwgZWwsIGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gfSA9IHRoaXM7XG4gICAgICBpZiAoZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uKCk7XG4gICAgICB9XG4gICAgICBpZiAodHJpZ2dlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyaWdnZXJFbCA9ICh0aGlzLnRyaWdnZXJFbCA9IHRyaWdnZXIgIT09IHVuZGVmaW5lZCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXIpIDogbnVsbCk7XG4gICAgICBpZiAoIXRyaWdnZXJFbCkge1xuICAgICAgICBwcmludElvbldhcm5pbmcoYEEgdHJpZ2dlciBlbGVtZW50IHdpdGggdGhlIElEIFwiJHt0cmlnZ2VyfVwiIHdhcyBub3QgZm91bmQgaW4gdGhlIERPTS4gVGhlIHRyaWdnZXIgZWxlbWVudCBtdXN0IGJlIGluIHRoZSBET00gd2hlbiB0aGUgXCJ0cmlnZ2VyXCIgcHJvcGVydHkgaXMgc2V0IG9uIGlvbi1wb3BvdmVyLmAsIHRoaXMuZWwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gPSBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24odHJpZ2dlckVsLCB0cmlnZ2VyQWN0aW9uLCBlbCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uLCBlbCB9ID0gdGhpcztcbiAgICAgIGlmIChkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgdGhpcy5kZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbiA9IGNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24oZWwpO1xuICAgIH07XG4gICAgdGhpcy5jb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24sIHBhcmVudFBvcG92ZXIsIHRyaWdnZXJBY3Rpb24sIHRyaWdnZXJFbCwgZWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIXBhcmVudFBvcG92ZXIgfHwgIXRyaWdnZXJFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24gPSBjb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24odHJpZ2dlckVsLCB0cmlnZ2VyQWN0aW9uLCBlbCwgcGFyZW50UG9wb3Zlcik7XG4gICAgfTtcbiAgfVxuICBvblRyaWdnZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgfVxuICBvbklzT3BlbkNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09IHRydWUgJiYgb2xkVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLnByZXNlbnQoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV3VmFsdWUgPT09IGZhbHNlICYmIG9sZFZhbHVlID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgeyBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24sIGVsIH0gPSB0aGlzO1xuICAgIHByZXBhcmVPdmVybGF5KGVsKTtcbiAgICBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25zdCB7IGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gfSA9IHRoaXM7XG4gICAgaWYgKGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24pIHtcbiAgICAgIGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgLyoqXG4gICAgICogSWYgdXNlciBoYXMgY3VzdG9tIElEIHNldCB0aGVuIHdlIHNob3VsZFxuICAgICAqIG5vdCBhc3NpZ24gdGhlIGRlZmF1bHQgaW5jcmVtZW50aW5nIElELlxuICAgICAqL1xuICAgIHRoaXMucG9wb3ZlcklkID0gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoJ2lkJykgPyB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnaWQnKSA6IGBpb24tcG9wb3Zlci0ke3RoaXMucG9wb3ZlckluZGV4fWA7XG4gICAgdGhpcy5wYXJlbnRQb3BvdmVyID0gdGhpcy5lbC5jbG9zZXN0KGBpb24tcG9wb3Zlcjpub3QoIyR7dGhpcy5wb3BvdmVySWR9KWApO1xuICAgIGlmICh0aGlzLmFsaWdubWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFsaWdubWVudCA9IGdldElvbk1vZGUodGhpcykgPT09ICdpb3MnID8gJ2NlbnRlcicgOiAnc3RhcnQnO1xuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIGNvbnN0IHsgcGFyZW50UG9wb3ZlciwgaXNPcGVuIH0gPSB0aGlzO1xuICAgIC8qKlxuICAgICAqIElmIHBvcG92ZXIgd2FzIHJlbmRlcmVkIHdpdGggaXNPcGVuPVwidHJ1ZVwiXG4gICAgICogdGhlbiB3ZSBzaG91bGQgb3BlbiBwb3BvdmVyIGltbWVkaWF0ZWx5LlxuICAgICAqL1xuICAgIGlmIChpc09wZW4gPT09IHRydWUpIHtcbiAgICAgIHJhZigoKSA9PiB0aGlzLnByZXNlbnQoKSk7XG4gICAgfVxuICAgIGlmIChwYXJlbnRQb3BvdmVyKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKHBhcmVudFBvcG92ZXIsICdpb25Qb3BvdmVyV2lsbERpc21pc3MnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBXaGVuIG9wZW5pbmcgYSBwb3BvdmVyIGZyb20gYSB0cmlnZ2VyLCB3ZSBzaG91bGQgbm90IGJlXG4gICAqIG1vZGlmeWluZyB0aGUgYGV2ZW50YCBwcm9wIGZyb20gaW5zaWRlIHRoZSBjb21wb25lbnQuXG4gICAqIEFkZGl0aW9uYWxseSwgd2hlbiBwcmVzc2luZyB0aGUgXCJSaWdodFwiIGFycm93IGtleSwgd2UgbmVlZFxuICAgKiB0byBzaGlmdCBmb2N1cyB0byB0aGUgZmlyc3QgZGVzY2VuZGFudCBpbiB0aGUgbmV3bHkgcHJlc2VudGVkXG4gICAqIHBvcG92ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXN5bmMgcHJlc2VudEZyb21UcmlnZ2VyKGV2ZW50LCBmb2N1c0Rlc2NlbmRhbnQgPSBmYWxzZSkge1xuICAgIHRoaXMuZm9jdXNEZXNjZW5kYW50T25QcmVzZW50ID0gZm9jdXNEZXNjZW5kYW50O1xuICAgIGF3YWl0IHRoaXMucHJlc2VudChldmVudCk7XG4gICAgdGhpcy5mb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhbiBvdmVybGF5XG4gICAqIGlzIGJlaW5nIHVzZWQgaW5saW5lIG9yIHZpYSBhIGNvbnRyb2xsZXIvSlNcbiAgICogYW5kIHJldHVybnMgdGhlIGNvcnJlY3QgZGVsZWdhdGUuXG4gICAqIEJ5IGRlZmF1bHQsIHN1YnNlcXVlbnQgY2FsbHMgdG8gZ2V0RGVsZWdhdGVcbiAgICogd2lsbCB1c2UgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgZGVsZWdhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYWxsaW5nIGRpc21pc3MgYWZ0ZXJcbiAgICogcHJlc2VudCBzbyB0aGF0IHRoZSBjb3JyZWN0IGRlbGVnYXRlIGlzIGdpdmVuLlxuICAgKi9cbiAgZ2V0RGVsZWdhdGUoZm9yY2UgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLndvcmtpbmdEZWxlZ2F0ZSAmJiAhZm9yY2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbGVnYXRlOiB0aGlzLndvcmtpbmdEZWxlZ2F0ZSxcbiAgICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHVzaW5nIG92ZXJsYXkgaW5saW5lXG4gICAgICogd2UgcG90ZW50aWFsbHkgbmVlZCB0byB1c2UgdGhlIGNvcmVEZWxlZ2F0ZVxuICAgICAqIHNvIHRoYXQgdGhpcyB3b3JrcyBpbiB2YW5pbGxhIEpTIGFwcHMuXG4gICAgICogSWYgYSBkZXZlbG9wZXIgaGFzIHByZXNlbnRlZCB0aGlzIGNvbXBvbmVudFxuICAgICAqIHZpYSBhIGNvbnRyb2xsZXIsIHRoZW4gd2UgY2FuIGFzc3VtZVxuICAgICAqIHRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSBpbiB0aGVcbiAgICAgKiBjb3JyZWN0IHBsYWNlLlxuICAgICAqL1xuICAgIGNvbnN0IHBhcmVudEVsID0gdGhpcy5lbC5wYXJlbnROb2RlO1xuICAgIGNvbnN0IGlubGluZSA9ICh0aGlzLmlubGluZSA9IHBhcmVudEVsICE9PSBudWxsICYmICF0aGlzLmhhc0NvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGRlbGVnYXRlID0gKHRoaXMud29ya2luZ0RlbGVnYXRlID0gaW5saW5lID8gdGhpcy5kZWxlZ2F0ZSB8fCB0aGlzLmNvcmVEZWxlZ2F0ZSA6IHRoaXMuZGVsZWdhdGUpO1xuICAgIHJldHVybiB7IGlubGluZSwgZGVsZWdhdGUgfTtcbiAgfVxuICAvKipcbiAgICogUHJlc2VudCB0aGUgcG9wb3ZlciBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqIERldmVsb3BlcnMgY2FuIHBhc3MgYSBtb3VzZSwgdG91Y2gsIG9yIHBvaW50ZXIgZXZlbnRcbiAgICogdG8gcG9zaXRpb24gdGhlIHBvcG92ZXIgcmVsYXRpdmUgdG8gd2hlcmUgdGhhdCBldmVudFxuICAgKiB3YXMgZGlzcGF0Y2hlZC5cbiAgICovXG4gIGFzeW5jIHByZXNlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcmVzZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBhbiBpbmxpbmUgcG9wb3ZlclxuICAgICAqIGFuZCBkaXNtaXNzaW5nIGEgcG9wb3ZlciBpdCBpcyBwb3NzaWJsZSB0b1xuICAgICAqIHF1aWNrbHkgcHJlc2VudCB0aGUgcG9wb3ZlciB3aGlsZSBpdCBpc1xuICAgICAqIGRpc21pc3NpbmcuIFdlIG5lZWQgdG8gYXdhaXQgYW55IGN1cnJlbnRcbiAgICAgKiB0cmFuc2l0aW9uIHRvIGFsbG93IHRoZSBkaXNtaXNzIHRvIGZpbmlzaFxuICAgICAqIGJlZm9yZSBwcmVzZW50aW5nIGFnYWluLlxuICAgICAqL1xuICAgIGlmICh0aGlzLmN1cnJlbnRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgfVxuICAgIGNvbnN0IHsgaW5saW5lLCBkZWxlZ2F0ZSB9ID0gdGhpcy5nZXREZWxlZ2F0ZSh0cnVlKTtcbiAgICB0aGlzLnVzZXJzRWxlbWVudCA9IGF3YWl0IGF0dGFjaENvbXBvbmVudChkZWxlZ2F0ZSwgdGhpcy5lbCwgdGhpcy5jb21wb25lbnQsIFsncG9wb3Zlci12aWV3cG9ydCddLCB0aGlzLmNvbXBvbmVudFByb3BzLCBpbmxpbmUpO1xuICAgIGF3YWl0IGRlZXBSZWFkeSh0aGlzLnVzZXJzRWxlbWVudCk7XG4gICAgaWYgKCF0aGlzLmtleWJvYXJkRXZlbnRzKSB7XG4gICAgICB0aGlzLmNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gICAgdGhpcy5jb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24oKTtcbiAgICB0aGlzLmlvbk1vdW50LmVtaXQoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogV2FpdCB0d28gcmVxdWVzdCBhbmltYXRpb24gZnJhbWUgbG9vcHMgYmVmb3JlIHByZXNlbnRpbmcgdGhlIHBvcG92ZXIuXG4gICAgICAgKiBUaGlzIGFsbG93cyB0aGUgZnJhbWV3b3JrIGltcGxlbWVudGF0aW9ucyBlbm91Z2ggdGltZSB0byBtb3VudFxuICAgICAgICogdGhlIHBvcG92ZXIgY29udGVudHMsIHNvIHRoZSBib3VuZGluZyBib3ggaXMgc2V0IHdoZW4gdGhlIHBvcG92ZXJcbiAgICAgICAqIHRyYW5zaXRpb24gc3RhcnRzLlxuICAgICAgICpcbiAgICAgICAqIE9uIEFuZ3VsYXIgYW5kIFJlYWN0LCBhIHNpbmdsZSByYWYgaXMgZW5vdWdoIHRpbWUsIGJ1dCBmb3IgVnVlXG4gICAgICAgKiB3ZSBuZWVkIHRvIHdhaXQgdHdvIHJhZnMuIEFzIGEgcmVzdWx0IHdlIGFyZSB1c2luZyB0d28gcmFmcyBmb3JcbiAgICAgICAqIGFsbCBmcmFtZXdvcmtzIHRvIGVuc3VyZSB0aGUgcG9wb3ZlciBpcyBwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAgICovXG4gICAgICByYWYoKCkgPT4ge1xuICAgICAgICByYWYoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSBwcmVzZW50KHRoaXMsICdwb3BvdmVyRW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiwgbWRFbnRlckFuaW1hdGlvbiwge1xuICAgICAgICAgICAgZXZlbnQ6IGV2ZW50IHx8IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICBzaXplOiB0aGlzLnNpemUsXG4gICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXJFbCxcbiAgICAgICAgICAgIHJlZmVyZW5jZTogdGhpcy5yZWZlcmVuY2UsXG4gICAgICAgICAgICBzaWRlOiB0aGlzLnNpZGUsXG4gICAgICAgICAgICBhbGlnbjogdGhpcy5hbGlnbm1lbnQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jdXJyZW50VHJhbnNpdGlvbjtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHBvcG92ZXIgaXMgbmVzdGVkIGFuZCB3YXNcbiAgICAgICAgICAgKiBwcmVzZW50ZWQgdXNpbmcgdGhlIFwiUmlnaHRcIiBhcnJvdyBrZXksXG4gICAgICAgICAgICogd2UgbmVlZCB0byBtb3ZlIGZvY3VzIHRvIHRoZSBmaXJzdFxuICAgICAgICAgICAqIGRlc2NlbmRhbnQgaW5zaWRlIG9mIHRoZSBwb3BvdmVyLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh0aGlzLmZvY3VzRGVzY2VuZGFudE9uUHJlc2VudCkge1xuICAgICAgICAgICAgZm9jdXNGaXJzdERlc2NlbmRhbnQodGhpcy5lbCwgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGlzbWlzcyB0aGUgcG9wb3ZlciBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgcG9wb3Zlci4gRm9yIGV4YW1wbGUsICdjYW5jZWwnIG9yICdiYWNrZHJvcCcuXG4gICAqIEBwYXJhbSBkaXNtaXNzUGFyZW50UG9wb3ZlciBJZiBgdHJ1ZWAsIGRpc21pc3NpbmcgdGhpcyBwb3BvdmVyIHdpbGwgYWxzbyBkaXNtaXNzXG4gICAqIGEgcGFyZW50IHBvcG92ZXIgaWYgdGhpcyBwb3BvdmVyIGlzIG5lc3RlZC4gRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKi9cbiAgYXN5bmMgZGlzbWlzcyhkYXRhLCByb2xlLCBkaXNtaXNzUGFyZW50UG9wb3ZlciA9IHRydWUpIHtcbiAgICAvKipcbiAgICAgKiBXaGVuIHVzaW5nIGFuIGlubGluZSBwb3BvdmVyXG4gICAgICogYW5kIHByZXNlbnRpbmcgYSBwb3BvdmVyIGl0IGlzIHBvc3NpYmxlIHRvXG4gICAgICogcXVpY2tseSBkaXNtaXNzIHRoZSBwb3BvdmVyIHdoaWxlIGl0IGlzXG4gICAgICogcHJlc2VudGluZy4gV2UgbmVlZCB0byBhd2FpdCBhbnkgY3VycmVudFxuICAgICAqIHRyYW5zaXRpb24gdG8gYWxsb3cgdGhlIHByZXNlbnQgdG8gZmluaXNoXG4gICAgICogYmVmb3JlIGRpc21pc3NpbmcgYWdhaW4uXG4gICAgICovXG4gICAgaWYgKHRoaXMuY3VycmVudFRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYXdhaXQgdGhpcy5jdXJyZW50VHJhbnNpdGlvbjtcbiAgICB9XG4gICAgY29uc3QgeyBkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbiwgZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbiB9ID0gdGhpcztcbiAgICBpZiAoZGlzbWlzc1BhcmVudFBvcG92ZXIgJiYgdGhpcy5wYXJlbnRQb3BvdmVyKSB7XG4gICAgICB0aGlzLnBhcmVudFBvcG92ZXIuZGlzbWlzcyhkYXRhLCByb2xlLCBkaXNtaXNzUGFyZW50UG9wb3Zlcik7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSBkaXNtaXNzKHRoaXMsIGRhdGEsIHJvbGUsICdwb3BvdmVyTGVhdmUnLCBpb3NMZWF2ZUFuaW1hdGlvbiwgbWRMZWF2ZUFuaW1hdGlvbiwgdGhpcy5ldmVudCk7XG4gICAgY29uc3Qgc2hvdWxkRGlzbWlzcyA9IGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgaWYgKHNob3VsZERpc21pc3MpIHtcbiAgICAgIGlmIChkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbigpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbigpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIElmIHVzaW5nIHBvcG92ZXIgaW5saW5lXG4gICAgICAgKiB3ZSBwb3RlbnRpYWxseSBuZWVkIHRvIHVzZSB0aGUgY29yZURlbGVnYXRlXG4gICAgICAgKiBzbyB0aGF0IHRoaXMgd29ya3MgaW4gdmFuaWxsYSBKUyBhcHBzXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IHRoaXMuZ2V0RGVsZWdhdGUoKTtcbiAgICAgIGF3YWl0IGRldGFjaENvbXBvbmVudChkZWxlZ2F0ZSwgdGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzaG91bGREaXNtaXNzO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGdldFBhcmVudFBvcG92ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50UG9wb3ZlcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwb3BvdmVyIGRpZCBkaXNtaXNzLlxuICAgKi9cbiAgb25EaWREaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uUG9wb3ZlckRpZERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwb3BvdmVyIHdpbGwgZGlzbWlzcy5cbiAgICovXG4gIG9uV2lsbERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Qb3BvdmVyV2lsbERpc21pc3MnKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgY29uc3QgeyBvbkxpZmVjeWNsZSwgcG9wb3ZlcklkLCBwYXJlbnRQb3BvdmVyLCBkaXNtaXNzT25TZWxlY3QsIHNpZGUsIGFycm93LCBodG1sQXR0cmlidXRlcyB9ID0gdGhpcztcbiAgICBjb25zdCBkZXNrdG9wID0gaXNQbGF0Zm9ybSgnZGVza3RvcCcpO1xuICAgIGNvbnN0IGVuYWJsZUFycm93ID0gYXJyb3cgJiYgIXBhcmVudFBvcG92ZXI7XG4gICAgcmV0dXJuIChoKEhvc3QsIE9iamVjdC5hc3NpZ24oeyBcImFyaWEtbW9kYWxcIjogXCJ0cnVlXCIsIFwibm8tcm91dGVyXCI6IHRydWUsIHRhYmluZGV4OiBcIi0xXCIgfSwgaHRtbEF0dHJpYnV0ZXMsIHsgc3R5bGU6IHtcbiAgICAgICAgekluZGV4OiBgJHsyMDAwMCArIHRoaXMub3ZlcmxheUluZGV4fWAsXG4gICAgICB9LCBpZDogcG9wb3ZlcklkLCBjbGFzczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBnZXRDbGFzc01hcCh0aGlzLmNzc0NsYXNzKSksIHsgW21vZGVdOiB0cnVlLCAncG9wb3Zlci10cmFuc2x1Y2VudCc6IHRoaXMudHJhbnNsdWNlbnQsICdvdmVybGF5LWhpZGRlbic6IHRydWUsICdwb3BvdmVyLWRlc2t0b3AnOiBkZXNrdG9wLCBbYHBvcG92ZXItc2lkZS0ke3NpZGV9YF06IHRydWUsICdwb3BvdmVyLW5lc3RlZCc6ICEhcGFyZW50UG9wb3ZlciB9KSwgb25Jb25Qb3BvdmVyRGlkUHJlc2VudDogb25MaWZlY3ljbGUsIG9uSW9uUG9wb3ZlcldpbGxQcmVzZW50OiBvbkxpZmVjeWNsZSwgb25Jb25Qb3BvdmVyV2lsbERpc21pc3M6IG9uTGlmZWN5Y2xlLCBvbklvblBvcG92ZXJEaWREaXNtaXNzOiBvbkxpZmVjeWNsZSwgb25Jb25CYWNrZHJvcFRhcDogdGhpcy5vbkJhY2tkcm9wVGFwIH0pLCAhcGFyZW50UG9wb3ZlciAmJiBoKFwiaW9uLWJhY2tkcm9wXCIsIHsgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzLCB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgcGFydDogXCJiYWNrZHJvcFwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicG9wb3Zlci13cmFwcGVyIGlvbi1vdmVybGF5LXdyYXBwZXJcIiwgb25DbGljazogZGlzbWlzc09uU2VsZWN0ID8gKCkgPT4gdGhpcy5kaXNtaXNzKCkgOiB1bmRlZmluZWQgfSwgZW5hYmxlQXJyb3cgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcInBvcG92ZXItYXJyb3dcIiwgcGFydDogXCJhcnJvd1wiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicG9wb3Zlci1jb250ZW50XCIsIHBhcnQ6IFwiY29udGVudFwiIH0sIGgoXCJzbG90XCIsIG51bGwpKSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ0cmlnZ2VyXCI6IFtcIm9uVHJpZ2dlckNoYW5nZVwiXSxcbiAgICBcInRyaWdnZXJBY3Rpb25cIjogW1wib25UcmlnZ2VyQ2hhbmdlXCJdLFxuICAgIFwiaXNPcGVuXCI6IFtcIm9uSXNPcGVuQ2hhbmdlXCJdXG4gIH07IH1cbn07XG5jb25zdCBMSUZFQ1lDTEVfTUFQID0ge1xuICBpb25Qb3BvdmVyRGlkUHJlc2VudDogJ2lvblZpZXdEaWRFbnRlcicsXG4gIGlvblBvcG92ZXJXaWxsUHJlc2VudDogJ2lvblZpZXdXaWxsRW50ZXInLFxuICBpb25Qb3BvdmVyV2lsbERpc21pc3M6ICdpb25WaWV3V2lsbExlYXZlJyxcbiAgaW9uUG9wb3ZlckRpZERpc21pc3M6ICdpb25WaWV3RGlkTGVhdmUnLFxufTtcbmxldCBwb3BvdmVySWRzID0gMDtcblBvcG92ZXIuc3R5bGUgPSB7XG4gIGlvczogcG9wb3Zlcklvc0NzcyxcbiAgbWQ6IHBvcG92ZXJNZENzc1xufTtcblxuZXhwb3J0IHsgUG9wb3ZlciBhcyBpb25fcG9wb3ZlciB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmNvbnN0IGhvc3RDb250ZXh0ID0gKHNlbGVjdG9yLCBlbCkgPT4ge1xuICByZXR1cm4gZWwuY2xvc2VzdChzZWxlY3RvcikgIT09IG51bGw7XG59O1xuLyoqXG4gKiBDcmVhdGUgdGhlIG1vZGUgYW5kIGNvbG9yIGNsYXNzZXMgZm9yIHRoZSBjb21wb25lbnQgYmFzZWQgb24gdGhlIGNsYXNzZXMgcGFzc2VkIGluXG4gKi9cbmNvbnN0IGNyZWF0ZUNvbG9yQ2xhc3NlcyA9IChjb2xvciwgY3NzQ2xhc3NNYXApID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgJiYgY29sb3IubGVuZ3RoID4gMFxuICAgID8gT2JqZWN0LmFzc2lnbih7ICdpb24tY29sb3InOiB0cnVlLCBbYGlvbi1jb2xvci0ke2NvbG9yfWBdOiB0cnVlIH0sIGNzc0NsYXNzTWFwKSA6IGNzc0NsYXNzTWFwO1xufTtcbmNvbnN0IGdldENsYXNzTGlzdCA9IChjbGFzc2VzKSA9PiB7XG4gIGlmIChjbGFzc2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBhcnJheSA9IEFycmF5LmlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlcy5zcGxpdCgnICcpO1xuICAgIHJldHVybiBhcnJheVxuICAgICAgLmZpbHRlcigoYykgPT4gYyAhPSBudWxsKVxuICAgICAgLm1hcCgoYykgPT4gYy50cmltKCkpXG4gICAgICAuZmlsdGVyKChjKSA9PiBjICE9PSAnJyk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufTtcbmNvbnN0IGdldENsYXNzTWFwID0gKGNsYXNzZXMpID0+IHtcbiAgY29uc3QgbWFwID0ge307XG4gIGdldENsYXNzTGlzdChjbGFzc2VzKS5mb3JFYWNoKChjKSA9PiAobWFwW2NdID0gdHJ1ZSkpO1xuICByZXR1cm4gbWFwO1xufTtcbmNvbnN0IFNDSEVNRSA9IC9eW2Etel1bYS16MC05K1xcLS5dKjovO1xuY29uc3Qgb3BlblVSTCA9IGFzeW5jICh1cmwsIGV2LCBkaXJlY3Rpb24sIGFuaW1hdGlvbikgPT4ge1xuICBpZiAodXJsICE9IG51bGwgJiYgdXJsWzBdICE9PSAnIycgJiYgIVNDSEVNRS50ZXN0KHVybCkpIHtcbiAgICBjb25zdCByb3V0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyJyk7XG4gICAgaWYgKHJvdXRlcikge1xuICAgICAgaWYgKGV2ICE9IG51bGwpIHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByb3V0ZXIucHVzaCh1cmwsIGRpcmVjdGlvbiwgYW5pbWF0aW9uKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlQ29sb3JDbGFzc2VzIGFzIGMsIGdldENsYXNzTWFwIGFzIGcsIGhvc3RDb250ZXh0IGFzIGgsIG9wZW5VUkwgYXMgbyB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZSIsImNyZWF0ZUV2ZW50IiwiaCIsIkgiLCJIb3N0IiwiaSIsImdldEVsZW1lbnQiLCJiIiwiZ2V0SW9uTW9kZSIsImEiLCJpc1BsYXRmb3JtIiwiQyIsIkNvcmVEZWxlZ2F0ZSIsImF0dGFjaENvbXBvbmVudCIsImQiLCJkZXRhY2hDb21wb25lbnQiLCJyYWYiLCJnIiwiZ2V0RWxlbWVudFJvb3QiLCJhZGRFdmVudExpc3RlbmVyIiwicCIsInByaW50SW9uV2FybmluZyIsIkIiLCJCQUNLRFJPUCIsInByZXBhcmVPdmVybGF5IiwicHJlc2VudCIsImoiLCJmb2N1c0ZpcnN0RGVzY2VuZGFudCIsImYiLCJkaXNtaXNzIiwiZXZlbnRNZXRob2QiLCJnZXRDbGFzc01hcCIsImRlZXBSZWFkeSIsImMiLCJjcmVhdGVBbmltYXRpb24iLCJnZXRBcnJvd0RpbWVuc2lvbnMiLCJhcnJvd0VsIiwiYXJyb3dXaWR0aCIsImFycm93SGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRQb3BvdmVyRGltZW5zaW9ucyIsInNpemUiLCJjb250ZW50RWwiLCJ0cmlnZ2VyRWwiLCJjb250ZW50RGltZW50aW9ucyIsImNvbnRlbnRIZWlnaHQiLCJjb250ZW50V2lkdGgiLCJ0cmlnZ2VyRGltZW5zaW9ucyIsImNvbmZpZ3VyZURpc21pc3NJbnRlcmFjdGlvbiIsInRyaWdnZXJBY3Rpb24iLCJwb3BvdmVyRWwiLCJwYXJlbnRQb3BvdmVyRWwiLCJkaXNtaXNzQ2FsbGJhY2tzIiwicm9vdCIsInBhcmVudENvbnRlbnRFbCIsInF1ZXJ5U2VsZWN0b3IiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImV2IiwiZWxlbWVudCIsImRvY3VtZW50IiwiZWxlbWVudEZyb21Qb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwidW5kZWZpbmVkIiwidGFyZ2V0IiwiY2xvc2VzdFRyaWdnZXIiLCJjbG9zZXN0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZm9yRWFjaCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24iLCJ0cmlnZ2VyQ2FsbGJhY2tzIiwiaG92ZXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInByZXNlbnRGcm9tVHJpZ2dlciIsInJlbGF0ZWRUYXJnZXQiLCJwcmV2ZW50RGVmYXVsdCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImdldEluZGV4T2ZJdGVtIiwiaXRlbXMiLCJpdGVtIiwidGFnTmFtZSIsImZpbmRJbmRleCIsImVsIiwiZ2V0TmV4dEl0ZW0iLCJjdXJyZW50SXRlbSIsImN1cnJlbnRJdGVtSW5kZXgiLCJnZXRQcmV2SXRlbSIsImZvY3VzSXRlbSIsImJ1dHRvbiIsImZvY3VzIiwiaXNUcmlnZ2VyRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsImNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24iLCJfYSIsImFjdGl2ZUVsZW1lbnQiLCJ0YXJnZXRUYWdOYW1lIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9iIiwia2V5IiwicGFyZW50UG9wb3ZlciIsImdldFBhcmVudFBvcG92ZXIiLCJuZXh0SXRlbSIsInByZXZJdGVtIiwiZmlyc3RJdGVtIiwibGFzdEl0ZW0iLCJsZW5ndGgiLCJyaWdodEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZ2V0UG9wb3ZlclBvc2l0aW9uIiwiaXNSVEwiLCJyZWZlcmVuY2UiLCJzaWRlIiwiYWxpZ24iLCJkZWZhdWx0UG9zaXRpb24iLCJldmVudCIsInJlZmVyZW5jZUNvb3JkaW5hdGVzIiwidG9wIiwibGVmdCIsIm1vdXNlRXYiLCJjdXN0b21FdiIsImFjdHVhbFRyaWdnZXJFbCIsImRldGFpbCIsImlvblNoYWRvd1RhcmdldCIsInRyaWdnZXJCb3VuZGluZ0JveCIsImNvb3JkaW5hdGVzIiwiY2FsY3VsYXRlUG9wb3ZlclNpZGUiLCJhbGlnbmVkQ29vcmRpbmF0ZXMiLCJjYWxjdWxhdGVQb3BvdmVyQWxpZ24iLCJhcnJvd1RvcCIsImFycm93TGVmdCIsImNhbGN1bGF0ZUFycm93UG9zaXRpb24iLCJvcmlnaW5YIiwib3JpZ2luWSIsImNhbGN1bGF0ZVBvcG92ZXJPcmlnaW4iLCJnZXRPcmlnaW5YQWxpZ25tZW50IiwiZ2V0T3JpZ2luWUFsaWdubWVudCIsImxlZnRQb3NpdGlvbiIsInJpZ2h0UG9zaXRpb24iLCJzaWRlTGVmdCIsInNpZGVSaWdodCIsImNhbGN1bGF0ZVBvcG92ZXJDZW50ZXJBbGlnbiIsImNhbGN1bGF0ZVBvcG92ZXJFbmRBbGlnbiIsImNhbGN1bGF0ZVdpbmRvd0FkanVzdG1lbnQiLCJjb29yZFRvcCIsImNvb3JkTGVmdCIsImJvZHlQYWRkaW5nIiwiYm9keVdpZHRoIiwiYm9keUhlaWdodCIsInNhZmVBcmVhTWFyZ2luIiwiY29udGVudE9yaWdpblgiLCJjb250ZW50T3JpZ2luWSIsInRyaWdnZXJDb29yZGluYXRlcyIsImNvb3JkQXJyb3dUb3AiLCJjb29yZEFycm93TGVmdCIsImJvdHRvbSIsImNoZWNrU2FmZUFyZWFMZWZ0IiwiY2hlY2tTYWZlQXJlYVJpZ2h0IiwidHJpZ2dlclRvcCIsInRyaWdnZXJIZWlnaHQiLCJhZGRQb3BvdmVyQm90dG9tQ2xhc3MiLCJNYXRoIiwibWF4Iiwic2hvdWxkU2hvd0Fycm93IiwiZGlkQWRqdXN0Qm91bmRzIiwidHJpZ2dlciIsIlBPUE9WRVJfSU9TX0JPRFlfUEFERElORyIsImlvc0VudGVyQW5pbWF0aW9uIiwiYmFzZUVsIiwib3B0cyIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkaXIiLCJkZWZhdWx0VmlldyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJlZmVyZW5jZVNpemVFbCIsInJlc3VsdHMiLCJwYWRkaW5nIiwibWFyZ2luIiwiYmFzZUFuaW1hdGlvbiIsImJhY2tkcm9wQW5pbWF0aW9uIiwid3JhcHBlckFuaW1hdGlvbiIsImFkZEVsZW1lbnQiLCJmcm9tVG8iLCJiZWZvcmVTdHlsZXMiLCJhZnRlckNsZWFyU3R5bGVzIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJiZWZvcmVBZGRXcml0ZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJzYWZlQXJlYUxlZnQiLCJzYWZlQXJlYVJpZ2h0IiwibGVmdFZhbHVlIiwic2hvd0Fycm93IiwiYWRkQW5pbWF0aW9uIiwiaW9zTGVhdmVBbmltYXRpb24iLCJhZnRlckFkZFdyaXRlIiwicmVtb3ZlUHJvcGVydHkiLCJyZW1vdmUiLCJQT1BPVkVSX01EX0JPRFlfUEFERElORyIsIm1kRW50ZXJBbmltYXRpb24iLCJjb250ZW50QW5pbWF0aW9uIiwidmlld3BvcnRBbmltYXRpb24iLCJtZExlYXZlQW5pbWF0aW9uIiwicG9wb3Zlcklvc0NzcyIsInBvcG92ZXJNZENzcyIsIlBvcG92ZXIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJkaWRQcmVzZW50Iiwid2lsbFByZXNlbnQiLCJ3aWxsRGlzbWlzcyIsImRpZERpc21pc3MiLCJkaWRQcmVzZW50U2hvcnRoYW5kIiwid2lsbFByZXNlbnRTaG9ydGhhbmQiLCJ3aWxsRGlzbWlzc1Nob3J0aGFuZCIsImRpZERpc21pc3NTaG9ydGhhbmQiLCJpb25Nb3VudCIsInBvcG92ZXJJbmRleCIsInBvcG92ZXJJZHMiLCJjb3JlRGVsZWdhdGUiLCJpbmxpbmUiLCJmb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQiLCJwcmVzZW50ZWQiLCJoYXNDb250cm9sbGVyIiwia2V5Ym9hcmRDbG9zZSIsImJhY2tkcm9wRGlzbWlzcyIsInNob3dCYWNrZHJvcCIsInRyYW5zbHVjZW50IiwiYW5pbWF0ZWQiLCJkaXNtaXNzT25TZWxlY3QiLCJhcnJvdyIsImlzT3BlbiIsImtleWJvYXJkRXZlbnRzIiwia2VlcENvbnRlbnRzTW91bnRlZCIsIm9uQmFja2Ryb3BUYXAiLCJvbkxpZmVjeWNsZSIsIm1vZGFsRXZlbnQiLCJ1c2Vyc0VsZW1lbnQiLCJuYW1lIiwiTElGRUNZQ0xFX01BUCIsInR5cGUiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24iLCJnZXRFbGVtZW50QnlJZCIsImRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uIiwiZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbiIsIm9uVHJpZ2dlckNoYW5nZSIsIm9uSXNPcGVuQ2hhbmdlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJjb21wb25lbnRXaWxsTG9hZCIsInBvcG92ZXJJZCIsImdldEF0dHJpYnV0ZSIsImFsaWdubWVudCIsImNvbXBvbmVudERpZExvYWQiLCJmb2N1c0Rlc2NlbmRhbnQiLCJnZXREZWxlZ2F0ZSIsImZvcmNlIiwid29ya2luZ0RlbGVnYXRlIiwiZGVsZWdhdGUiLCJwYXJlbnRFbCIsInBhcmVudE5vZGUiLCJjdXJyZW50VHJhbnNpdGlvbiIsImNvbXBvbmVudCIsImNvbXBvbmVudFByb3BzIiwiZW1pdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGF0YSIsInJvbGUiLCJkaXNtaXNzUGFyZW50UG9wb3ZlciIsInNob3VsZERpc21pc3MiLCJvbkRpZERpc21pc3MiLCJvbldpbGxEaXNtaXNzIiwicmVuZGVyIiwibW9kZSIsImh0bWxBdHRyaWJ1dGVzIiwiZGVza3RvcCIsImVuYWJsZUFycm93IiwiT2JqZWN0IiwiYXNzaWduIiwidGFiaW5kZXgiLCJ6SW5kZXgiLCJvdmVybGF5SW5kZXgiLCJpZCIsImNsYXNzIiwiY3NzQ2xhc3MiLCJvbklvblBvcG92ZXJEaWRQcmVzZW50Iiwib25Jb25Qb3BvdmVyV2lsbFByZXNlbnQiLCJvbklvblBvcG92ZXJXaWxsRGlzbWlzcyIsIm9uSW9uUG9wb3ZlckRpZERpc21pc3MiLCJvbklvbkJhY2tkcm9wVGFwIiwidGFwcGFibGUiLCJ2aXNpYmxlIiwicGFydCIsIm9uQ2xpY2siLCJ3YXRjaGVycyIsImlvblBvcG92ZXJEaWRQcmVzZW50IiwiaW9uUG9wb3ZlcldpbGxQcmVzZW50IiwiaW9uUG9wb3ZlcldpbGxEaXNtaXNzIiwiaW9uUG9wb3ZlckRpZERpc21pc3MiLCJpb3MiLCJtZCIsImlvbl9wb3BvdmVyIiwiaG9zdENvbnRleHQiLCJzZWxlY3RvciIsImNyZWF0ZUNvbG9yQ2xhc3NlcyIsImNvbG9yIiwiY3NzQ2xhc3NNYXAiLCJnZXRDbGFzc0xpc3QiLCJjbGFzc2VzIiwiYXJyYXkiLCJpc0FycmF5Iiwic3BsaXQiLCJmaWx0ZXIiLCJtYXAiLCJ0cmltIiwiU0NIRU1FIiwib3BlblVSTCIsInVybCIsImRpcmVjdGlvbiIsImFuaW1hdGlvbiIsInRlc3QiLCJyb3V0ZXIiLCJwdXNoIiwibyJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8ifQ==