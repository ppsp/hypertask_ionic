"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-datetime-button_entry_js"],{

/***/ 70171:
/*!************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-datetime-button.entry.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_datetime_button": () => (/* binding */ DatetimeButton)
/* harmony export */ });
/* harmony import */ var F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 62783);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 40320);
/* harmony import */ var _ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-c74e4951.js */ 9656);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 97140);
/* harmony import */ var _index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-c4b11676.js */ 75057);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-7670341c.js */ 17548);
/* harmony import */ var _data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data-caf38df0.js */ 53414);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */






const iosDatetimeButtonCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;margin-left:2px;margin-right:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}";
const mdDatetimeButtonCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;margin-left:2px;margin-right:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}";
const DatetimeButton = class {
  constructor(hostRef) {
    var _this = this;

    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.datetimeEl = null;
    this.overlayEl = null;
    this.datetimePresentation = 'date-time';
    this.datetimeActive = false;
    /**
     * The color to use from your application's color palette.
     * Default options are: `"primary"`, `"secondary"`, `"tertiary"`, `"success"`, `"warning"`, `"danger"`, `"light"`, `"medium"`, and `"dark"`.
     * For more information on colors, see [theming](/docs/theming/basics).
     */

    this.color = 'primary';
    /**
     * If `true`, the user cannot interact with the button.
     */

    this.disabled = false;
    /**
     * Accepts one or more string values and converts
     * them to DatetimeParts. This is done so datetime-button
     * can work with an array internally and not need
     * to keep checking if the datetime value is `string` or `string[]`.
     */

    this.getParsedDateValues = value => {
      // TODO FW-2646 Remove value === ''
      if (value === '' || value === undefined || value === null) {
        return [];
      }

      if (Array.isArray(value)) {
        return value;
      }

      return [value];
    };
    /**
     * Check the value property on the linked
     * ion-datetime and then format it according
     * to the locale specified on ion-datetime.
     */


    this.setDateTimeText = () => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;

      if (!datetimeEl) {
        return;
      }

      const {
        value,
        locale,
        hourCycle,
        preferWheel,
        multiple,
        titleSelectedDatesFormatter
      } = datetimeEl;
      const parsedValues = this.getParsedDateValues(value);
      /**
       * Both ion-datetime and ion-datetime-button default
       * to today's date and time if no value is set.
       */

      const parsedDatetimes = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.q)(parsedValues.length > 0 ? parsedValues : [(0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.t)()]);
      /**
       * If developers incorrectly use multiple="true"
       * with non "date" datetimes, then just select
       * the first value so the interface does
       * not appear broken. Datetime will provide a
       * warning in the console.
       */

      const firstParsedDatetime = parsedDatetimes[0];
      const use24Hour = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.J)(locale, hourCycle); // TODO(FW-1865) - Remove once FW-1831 is fixed.

      parsedDatetimes.forEach(parsedDatetime => {
        parsedDatetime.tzOffset = undefined;
      });
      this.dateText = this.timeText = undefined;

      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const dateText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.T)(locale, firstParsedDatetime);
          const timeText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.K)(locale, firstParsedDatetime, use24Hour);

          if (preferWheel) {
            this.dateText = `${dateText} ${timeText}`;
          } else {
            this.dateText = dateText;
            this.timeText = timeText;
          }

          break;

        case 'date':
          if (multiple && parsedValues.length !== 1) {
            let headerText = `${parsedValues.length} days`; // default/fallback for multiple selection

            if (titleSelectedDatesFormatter !== undefined) {
              try {
                headerText = titleSelectedDatesFormatter(parsedValues);
              } catch (e) {
                (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__.b)('Exception in provided `titleSelectedDatesFormatter`: ', e);
              }
            }

            this.dateText = headerText;
          } else {
            this.dateText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.T)(locale, firstParsedDatetime);
          }

          break;

        case 'time':
          this.timeText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.K)(locale, firstParsedDatetime, use24Hour);
          break;

        case 'month-year':
          this.dateText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.G)(locale, firstParsedDatetime);
          break;

        case 'month':
          this.dateText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.S)(locale, firstParsedDatetime, {
            month: 'long'
          });
          break;

        case 'year':
          this.dateText = (0,_data_caf38df0_js__WEBPACK_IMPORTED_MODULE_6__.S)(locale, firstParsedDatetime, {
            year: 'numeric'
          });
          break;
      }
    };
    /**
     * Waits for the ion-datetime to re-render.
     * This is needed in order to correctly position
     * a popover relative to the trigger element.
     */


    this.waitForDatetimeChanges = /*#__PURE__*/(0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetimeEl
      } = _this;

      if (!datetimeEl) {
        return Promise.resolve();
      }

      return new Promise(resolve => {
        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.a)(datetimeEl, 'ionRender', resolve, {
          once: true
        });
      });
    });

    this.handleDateClick = /*#__PURE__*/function () {
      var _ref2 = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
        const {
          datetimeEl,
          datetimePresentation
        } = _this;

        if (!datetimeEl) {
          return;
        }

        let needsPresentationChange = false;
        /**
         * When clicking the date button,
         * we need to make sure that only a date
         * picker is displayed. For presentation styles
         * that display content other than a date picker,
         * we need to update the presentation style.
         */

        switch (datetimePresentation) {
          case 'date-time':
          case 'time-date':
            const needsChange = datetimeEl.presentation !== 'date';
            /**
             * The date+time wheel picker
             * shows date and time together,
             * so do not adjust the presentation
             * in that case.
             */

            if (!datetimeEl.preferWheel && needsChange) {
              datetimeEl.presentation = 'date';
              needsPresentationChange = true;
            }

            break;
        }
        /**
         * Track which button was clicked
         * so that it can have the correct
         * activated styles applied when
         * the modal/popover containing
         * the datetime is opened.
         */


        _this.selectedButton = 'date';

        _this.presentOverlay(ev, needsPresentationChange, _this.dateTargetEl);
      });

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }();

    this.handleTimeClick = ev => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;

      if (!datetimeEl) {
        return;
      }

      let needsPresentationChange = false;
      /**
       * When clicking the time button,
       * we need to make sure that only a time
       * picker is displayed. For presentation styles
       * that display content other than a time picker,
       * we need to update the presentation style.
       */

      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const needsChange = datetimeEl.presentation !== 'time';

          if (needsChange) {
            datetimeEl.presentation = 'time';
            needsPresentationChange = true;
          }

          break;
      }
      /**
       * Track which button was clicked
       * so that it can have the correct
       * activated styles applied when
       * the modal/popover containing
       * the datetime is opened.
       */


      this.selectedButton = 'time';
      this.presentOverlay(ev, needsPresentationChange, this.timeTargetEl);
    };
    /**
     * If the datetime is presented in an
     * overlay, the datetime and overlay
     * should be appropriately sized.
     * These classes provide default sizing values
     * that developers can customize.
     * The goal is to provide an overlay that is
     * reasonably sized with a datetime that
     * fills the entire container.
     */


    this.presentOverlay = /*#__PURE__*/function () {
      var _ref3 = (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev, needsPresentationChange, triggerEl) {
        const {
          overlayEl
        } = _this;

        if (!overlayEl) {
          return;
        }

        if (overlayEl.tagName === 'ION-POPOVER') {
          /**
           * When the presentation on datetime changes,
           * we need to wait for the component to re-render
           * otherwise the computed width/height of the
           * popover content will be wrong, causing
           * the popover to not align with the trigger element.
           */
          if (needsPresentationChange) {
            yield _this.waitForDatetimeChanges();
          }
          /**
           * We pass the trigger button element
           * so that the popover aligns with the individual
           * button that was clicked, not the component container.
           */


          overlayEl.present(Object.assign(Object.assign({}, ev), {
            detail: {
              ionShadowTarget: triggerEl
            }
          }));
        } else {
          overlayEl.present();
        }
      });

      return function (_x2, _x3, _x4) {
        return _ref3.apply(this, arguments);
      };
    }();
  }

  componentWillLoad() {
    var _this2 = this;

    return (0,F_GIT_hypertask_ionic2_hypertask_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetime
      } = _this2;

      if (!datetime) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__.b)('An ID associated with an ion-datetime instance is required for ion-datetime-button to function properly.', _this2.el);
        return;
      }

      const datetimeEl = _this2.datetimeEl = document.getElementById(datetime);

      if (!datetimeEl) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__.b)(`No ion-datetime instance found for ID '${datetime}'.`, _this2.el);
        return;
      }
      /**
       * Since the datetime can be used in any context (overlays, accordion, etc)
       * we track when it is visible to determine when it is active.
       * This informs which button is highlighted as well as the
       * aria-expanded state.
       */


      const io = new IntersectionObserver(entries => {
        const ev = entries[0];
        _this2.datetimeActive = ev.isIntersecting;
      }, {
        threshold: 0.01
      });
      io.observe(datetimeEl);
      /**
       * Get a reference to any modal/popover
       * the datetime is being used in so we can
       * correctly size it when it is presented.
       */

      const overlayEl = _this2.overlayEl = datetimeEl.closest('ion-modal, ion-popover');
      /**
       * The .ion-datetime-button-overlay class contains
       * styles that allow any modal/popover to be
       * sized according to the dimensions of the datetime.
       * If developers want a smaller/larger overlay all they need
       * to do is change the width/height of the datetime.
       * Additionally, this lets us avoid having to set
       * explicit widths on each variant of datetime.
       */

      if (overlayEl) {
        overlayEl.classList.add('ion-datetime-button-overlay');
      }

      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.c)(datetimeEl, () => {
        const datetimePresentation = _this2.datetimePresentation = datetimeEl.presentation || 'date-time';
        /**
         * Set the initial display
         * in the rendered buttons.
         *
         * From there, we need to listen
         * for ionChange to be emitted
         * from datetime so we know when
         * to re-render the displayed
         * text in the buttons.
         */

        _this2.setDateTimeText();

        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.a)(datetimeEl, 'ionChange', _this2.setDateTimeText);
        /**
         * Configure the initial selected button
         * in the event that the datetime is displayed
         * without clicking one of the datetime buttons.
         * For example, a datetime could be expanded
         * in an accordion. In this case users only
         * need to click the accordion header to show
         * the datetime.
         */

        switch (datetimePresentation) {
          case 'date-time':
          case 'date':
          case 'month-year':
          case 'month':
          case 'year':
            _this2.selectedButton = 'date';
            break;

          case 'time-date':
          case 'time':
            _this2.selectedButton = 'time';
            break;
        }
      });
    })();
  }

  render() {
    const {
      color,
      dateText,
      timeText,
      selectedButton,
      datetimeActive,
      disabled
    } = this;
    const mode = (0,_ionic_global_c74e4951_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__.c)(color, {
        [mode]: true,
        [`${selectedButton}-active`]: datetimeActive,
        ['datetime-button-disabled']: disabled
      })
    }, dateText && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "ion-activatable",
      id: "date-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleDateClick,
      disabled: disabled,
      part: "native",
      ref: el => this.dateTargetEl = el
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "date-target"
    }, dateText), mode === 'md' && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", null)), timeText && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "ion-activatable",
      id: "time-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleTimeClick,
      disabled: disabled,
      part: "native",
      ref: el => this.timeTargetEl = el
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "time-target"
    }, timeText), mode === 'md' && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", null)));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

};
DatetimeButton.style = {
  ios: iosDatetimeButtonCss,
  md: mdDatetimeButtonCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWRhdGV0aW1lLWJ1dHRvbl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTTZCLG9CQUFvQixHQUFHLHN4Q0FBN0I7QUFFQSxNQUFNQyxtQkFBbUIsR0FBRyxzeENBQTVCO0FBRUEsTUFBTUMsY0FBYyxHQUFHLE1BQU07QUFDM0JDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0FBQUE7O0FBQ25CaEMsSUFBQUEscURBQWdCLENBQUMsSUFBRCxFQUFPZ0MsT0FBUCxDQUFoQjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsU0FBS0Msb0JBQUwsR0FBNEIsV0FBNUI7QUFDQSxTQUFLQyxjQUFMLEdBQXNCLEtBQXRCO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLQyxLQUFMLEdBQWEsU0FBYjtBQUNBO0FBQ0o7QUFDQTs7QUFDSSxTQUFLQyxRQUFMLEdBQWdCLEtBQWhCO0FBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNJLFNBQUtDLG1CQUFMLEdBQTRCQyxLQUFELElBQVc7QUFDcEM7QUFDQSxVQUFJQSxLQUFLLEtBQUssRUFBVixJQUFnQkEsS0FBSyxLQUFLQyxTQUExQixJQUF1Q0QsS0FBSyxLQUFLLElBQXJELEVBQTJEO0FBQ3pELGVBQU8sRUFBUDtBQUNEOztBQUNELFVBQUlFLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxLQUFkLENBQUosRUFBMEI7QUFDeEIsZUFBT0EsS0FBUDtBQUNEOztBQUNELGFBQU8sQ0FBQ0EsS0FBRCxDQUFQO0FBQ0QsS0FURDtBQVVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7OztBQUNJLFNBQUtJLGVBQUwsR0FBdUIsTUFBTTtBQUMzQixZQUFNO0FB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aEQsUUFBbEMsQ0FBM04sRUFBd1EwQyxJQUFJLEtBQUssSUFBVCxJQUFpQm5HLHFEQUFDLENBQUMsbUJBQUQsRUFBc0IsSUFBdEIsQ0FBMVIsQ0FKYixFQUlzVTBELFFBQVEsSUFBSzFELHFEQUFDLENBQUMsUUFBRCxFQUFXO0FBQUVvRyxNQUFBQSxLQUFLLEVBQUUsaUJBQVQ7QUFBNEJDLE1BQUFBLEVBQUUsRUFBRSxhQUFoQztBQUErQyx1QkFBaUJsRSxjQUFjLEdBQUcsTUFBSCxHQUFZLE9BQTFGO0FBQW1HbUUsTUFBQUEsT0FBTyxFQUFFLEtBQUszQixlQUFqSDtBQUFrSXRDLE1BQUFBLFFBQVEsRUFBRUEsUUFBNUk7QUFBc0prRSxNQUFBQSxJQUFJLEVBQUUsUUFBNUo7QUFBc0tDLE1BQUFBLEdBQUcsRUFBR2xCLEVBQUQsSUFBUyxLQUFLVixZQUFMLEdBQW9CVTtBQUF4TSxLQUFYLEVBQTBOdEYscURBQUMsQ0FBQyxNQUFELEVBQVM7QUFBRXlHLE1BQUFBLElBQUksRUFBRTtBQUFSLEtBQVQsRUFBa0MvQyxRQUFsQyxDQUEzTixFQUF3UXlDLElBQUksS0FBSyxJQUFULElBQWlCbkcscURBQUMsQ0FBQyxtQkFBRCxFQUFzQixJQUF0QixDQUExUixDQUpwVixDQUFUO0FBS0Q7O0FBQ0ssTUFBRnNGLEVBQUUsR0FBRztBQUFFLFdBQU9sRixxREFBVSxDQUFDLElBQUQsQ0FBakI7QUFBMEI7O0FBblVWLENBQTdCO0FBcVVBeUIsY0FBYyxDQUFDNkUsS0FBZixHQUF1QjtBQUNyQkMsRUFBQUEsR0FBRyxFQUFFaEYsb0JBRGdCO0FBRXJCaUYsRUFBQUEsRUFBRSxFQUFFaEY7QUFGaUIsQ0FBdkIiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1kYXRldGltZS1idXR0b24uZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LThlNjkyNDQ1LmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWM3NGU0OTUxLmpzJztcbmltcG9ydCB7IGEgYXMgYWRkRXZlbnRMaXN0ZW5lciwgYyBhcyBjb21wb25lbnRPblJlYWR5IH0gZnJvbSAnLi9oZWxwZXJzLTNiMzkwZTQ4LmpzJztcbmltcG9ydCB7IGIgYXMgcHJpbnRJb25FcnJvciB9IGZyb20gJy4vaW5kZXgtYzRiMTE2NzYuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDb2xvckNsYXNzZXMgfSBmcm9tICcuL3RoZW1lLTc2NzAzNDFjLmpzJztcbmltcG9ydCB7IHEgYXMgcGFyc2VEYXRlLCB0IGFzIGdldFRvZGF5LCBKIGFzIGlzMjRIb3VyLCBTIGFzIGdldExvY2FsaXplZERhdGVUaW1lLCBHIGFzIGdldE1vbnRoQW5kWWVhciwgSyBhcyBnZXRMb2NhbGl6ZWRUaW1lLCBUIGFzIGdldE1vbnRoRGF5QW5kWWVhciB9IGZyb20gJy4vZGF0YS1jYWYzOGRmMC5qcyc7XG5cbmNvbnN0IGlvc0RhdGV0aW1lQnV0dG9uQ3NzID0gXCI6aG9zdHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Omhvc3QgYnV0dG9ue2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmctbGVmdDoxMnB4O3BhZGRpbmctcmlnaHQ6MTJweDtwYWRkaW5nLXRvcDo2cHg7cGFkZGluZy1ib3R0b206NnB4O21hcmdpbi1sZWZ0OjJweDttYXJnaW4tcmlnaHQ6MnB4O21hcmdpbi10b3A6MHB4O21hcmdpbi1ib3R0b206MHB4O3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdHJhbnNpdGlvbjoxNTBtcyBjb2xvciBlYXNlLWluLW91dDt0cmFuc2l0aW9uOjE1MG1zIGNvbG9yIGVhc2UtaW4tb3V0O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMzAwLCAjZWRlZWYwKTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7b3ZlcmZsb3c6aGlkZGVufUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Omhvc3QgYnV0dG9ue3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxMnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEycHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxMnB4O3BhZGRpbmctaW5saW5lLWVuZDoxMnB4fX1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezpob3N0IGJ1dHRvbnttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MnB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6MnB4Oy13ZWJraXQtbWFyZ2luLWVuZDoycHg7bWFyZ2luLWlubGluZS1lbmQ6MnB4fX06aG9zdCgudGltZS1hY3RpdmUpICN0aW1lLWJ1dHRvbiw6aG9zdCguZGF0ZS1hY3RpdmUpICNkYXRlLWJ1dHRvbntjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9Omhvc3QoLmRhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCl7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCguZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkKSBidXR0b257b3BhY2l0eTowLjR9XCI7XG5cbmNvbnN0IG1kRGF0ZXRpbWVCdXR0b25Dc3MgPSBcIjpob3N0e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn06aG9zdCBidXR0b257Ym9yZGVyLXJhZGl1czo4cHg7cGFkZGluZy1sZWZ0OjEycHg7cGFkZGluZy1yaWdodDoxMnB4O3BhZGRpbmctdG9wOjZweDtwYWRkaW5nLWJvdHRvbTo2cHg7bWFyZ2luLWxlZnQ6MnB4O21hcmdpbi1yaWdodDoycHg7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbTowcHg7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC10cmFuc2l0aW9uOjE1MG1zIGNvbG9yIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246MTUwbXMgY29sb3IgZWFzZS1pbi1vdXQ7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC0zMDAsICNlZGVlZjApO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O2N1cnNvcjpwb2ludGVyOy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZTtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6aG9zdCBidXR0b257cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjEycHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTJweDstd2Via2l0LXBhZGRpbmctZW5kOjEycHg7cGFkZGluZy1pbmxpbmUtZW5kOjEycHh9fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Omhvc3QgYnV0dG9ue21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDoycHg7bWFyZ2luLWlubGluZS1zdGFydDoycHg7LXdlYmtpdC1tYXJnaW4tZW5kOjJweDttYXJnaW4taW5saW5lLWVuZDoycHh9fTpob3N0KC50aW1lLWFjdGl2ZSkgI3RpbWUtYnV0dG9uLDpob3N0KC5kYXRlLWFjdGl2ZSkgI2RhdGUtYnV0dG9ue2NvbG9yOnZhcigtLWlvbi1jb2xvci1iYXNlKX06aG9zdCguZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkKXtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5kYXRldGltZS1idXR0b24tZGlzYWJsZWQpIGJ1dHRvbntvcGFjaXR5OjAuNH1cIjtcblxuY29uc3QgRGF0ZXRpbWVCdXR0b24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuZGF0ZXRpbWVFbCA9IG51bGw7XG4gICAgdGhpcy5vdmVybGF5RWwgPSBudWxsO1xuICAgIHRoaXMuZGF0ZXRpbWVQcmVzZW50YXRpb24gPSAnZGF0ZS10aW1lJztcbiAgICB0aGlzLmRhdGV0aW1lQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbG9yIHRvIHVzZSBmcm9tIHlvdXIgYXBwbGljYXRpb24ncyBjb2xvciBwYWxldHRlLlxuICAgICAqIERlZmF1bHQgb3B0aW9ucyBhcmU6IGBcInByaW1hcnlcImAsIGBcInNlY29uZGFyeVwiYCwgYFwidGVydGlhcnlcImAsIGBcInN1Y2Nlc3NcImAsIGBcIndhcm5pbmdcImAsIGBcImRhbmdlclwiYCwgYFwibGlnaHRcImAsIGBcIm1lZGl1bVwiYCwgYW5kIGBcImRhcmtcImAuXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gY29sb3JzLCBzZWUgW3RoZW1pbmddKC9kb2NzL3RoZW1pbmcvYmFzaWNzKS5cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yID0gJ3ByaW1hcnknO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHVzZXIgY2Fubm90IGludGVyYWN0IHdpdGggdGhlIGJ1dHRvbi5cbiAgICAgKi9cbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQWNjZXB0cyBvbmUgb3IgbW9yZSBzdHJpbmcgdmFsdWVzIGFuZCBjb252ZXJ0c1xuICAgICAqIHRoZW0gdG8gRGF0ZXRpbWVQYXJ0cy4gVGhpcyBpcyBkb25lIHNvIGRhdGV0aW1lLWJ1dHRvblxuICAgICAqIGNhbiB3b3JrIHdpdGggYW4gYXJyYXkgaW50ZXJuYWxseSBhbmQgbm90IG5lZWRcbiAgICAgKiB0byBrZWVwIGNoZWNraW5nIGlmIHRoZSBkYXRldGltZSB2YWx1ZSBpcyBgc3RyaW5nYCBvciBgc3RyaW5nW11gLlxuICAgICAqL1xuICAgIHRoaXMuZ2V0UGFyc2VkRGF0ZVZhbHVlcyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgLy8gVE9ETyBGVy0yNjQ2IFJlbW92ZSB2YWx1ZSA9PT0gJydcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgdmFsdWUgcHJvcGVydHkgb24gdGhlIGxpbmtlZFxuICAgICAqIGlvbi1kYXRldGltZSBhbmQgdGhlbiBmb3JtYXQgaXQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIGxvY2FsZSBzcGVjaWZpZWQgb24gaW9uLWRhdGV0aW1lLlxuICAgICAqL1xuICAgIHRoaXMuc2V0RGF0ZVRpbWVUZXh0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRldGltZUVsLCBkYXRldGltZVByZXNlbnRhdGlvbiB9ID0gdGhpcztcbiAgICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZhbHVlLCBsb2NhbGUsIGhvdXJDeWNsZSwgcHJlZmVyV2hlZWwsIG11bHRpcGxlLCB0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXIgfSA9IGRhdGV0aW1lRWw7XG4gICAgICBjb25zdCBwYXJzZWRWYWx1ZXMgPSB0aGlzLmdldFBhcnNlZERhdGVWYWx1ZXModmFsdWUpO1xuICAgICAgLyoqXG4gICAgICAgKiBCb3RoIGlvbi1kYXRldGltZSBhbmQgaW9uLWRhdGV0aW1lLWJ1dHRvbiBkZWZhdWx0XG4gICAgICAgKiB0byB0b2RheSdzIGRhdGUgYW5kIHRpbWUgaWYgbm8gdmFsdWUgaXMgc2V0LlxuICAgICAgICovXG4gICAgICBjb25zdCBwYXJzZWREYXRldGltZXMgPSBwYXJzZURhdGUocGFyc2VkVmFsdWVzLmxlbmd0aCA+IDAgPyBwYXJzZWRWYWx1ZXMgOiBbZ2V0VG9kYXkoKV0pO1xuICAgICAgLyoqXG4gICAgICAgKiBJZiBkZXZlbG9wZXJzIGluY29ycmVjdGx5IHVzZSBtdWx0aXBsZT1cInRydWVcIlxuICAgICAgICogd2l0aCBub24gXCJkYXRlXCIgZGF0ZXRpbWVzLCB0aGVuIGp1c3Qgc2VsZWN0XG4gICAgICAgKiB0aGUgZmlyc3QgdmFsdWUgc28gdGhlIGludGVyZmFjZSBkb2VzXG4gICAgICAgKiBub3QgYXBwZWFyIGJyb2tlbi4gRGF0ZXRpbWUgd2lsbCBwcm92aWRlIGFcbiAgICAgICAqIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGZpcnN0UGFyc2VkRGF0ZXRpbWUgPSBwYXJzZWREYXRldGltZXNbMF07XG4gICAgICBjb25zdCB1c2UyNEhvdXIgPSBpczI0SG91cihsb2NhbGUsIGhvdXJDeWNsZSk7XG4gICAgICAvLyBUT0RPKEZXLTE4NjUpIC0gUmVtb3ZlIG9uY2UgRlctMTgzMSBpcyBmaXhlZC5cbiAgICAgIHBhcnNlZERhdGV0aW1lcy5mb3JFYWNoKChwYXJzZWREYXRldGltZSkgPT4ge1xuICAgICAgICBwYXJzZWREYXRldGltZS50ek9mZnNldCA9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kYXRlVGV4dCA9IHRoaXMudGltZVRleHQgPSB1bmRlZmluZWQ7XG4gICAgICBzd2l0Y2ggKGRhdGV0aW1lUHJlc2VudGF0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2RhdGUtdGltZSc6XG4gICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgICAgY29uc3QgZGF0ZVRleHQgPSBnZXRNb250aERheUFuZFllYXIobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lKTtcbiAgICAgICAgICBjb25zdCB0aW1lVGV4dCA9IGdldExvY2FsaXplZFRpbWUobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lLCB1c2UyNEhvdXIpO1xuICAgICAgICAgIGlmIChwcmVmZXJXaGVlbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGAke2RhdGVUZXh0fSAke3RpbWVUZXh0fWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGRhdGVUZXh0O1xuICAgICAgICAgICAgdGhpcy50aW1lVGV4dCA9IHRpbWVUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgaWYgKG11bHRpcGxlICYmIHBhcnNlZFZhbHVlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIGxldCBoZWFkZXJUZXh0ID0gYCR7cGFyc2VkVmFsdWVzLmxlbmd0aH0gZGF5c2A7IC8vIGRlZmF1bHQvZmFsbGJhY2sgZm9yIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAgICAgICAgaWYgKHRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyVGV4dCA9IHRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlcihwYXJzZWRWYWx1ZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcHJpbnRJb25FcnJvcignRXhjZXB0aW9uIGluIHByb3ZpZGVkIGB0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXJgOiAnLCBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGhlYWRlclRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGdldE1vbnRoRGF5QW5kWWVhcihsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgdGhpcy50aW1lVGV4dCA9IGdldExvY2FsaXplZFRpbWUobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lLCB1c2UyNEhvdXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb250aC15ZWFyJzpcbiAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gZ2V0TW9udGhBbmRZZWFyKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gZ2V0TG9jYWxpemVkRGF0ZVRpbWUobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lLCB7IG1vbnRoOiAnbG9uZycgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBnZXRMb2NhbGl6ZWREYXRlVGltZShsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUsIHsgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogV2FpdHMgZm9yIHRoZSBpb24tZGF0ZXRpbWUgdG8gcmUtcmVuZGVyLlxuICAgICAqIFRoaXMgaXMgbmVlZGVkIGluIG9yZGVyIHRvIGNvcnJlY3RseSBwb3NpdGlvblxuICAgICAqIGEgcG9wb3ZlciByZWxhdGl2ZSB0byB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAqL1xuICAgIHRoaXMud2FpdEZvckRhdGV0aW1lQ2hhbmdlcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0ZXRpbWVFbCB9ID0gdGhpcztcbiAgICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihkYXRldGltZUVsLCAnaW9uUmVuZGVyJywgcmVzb2x2ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZURhdGVDbGljayA9IGFzeW5jIChldikgPT4ge1xuICAgICAgY29uc3QgeyBkYXRldGltZUVsLCBkYXRldGltZVByZXNlbnRhdGlvbiB9ID0gdGhpcztcbiAgICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBjbGlja2luZyB0aGUgZGF0ZSBidXR0b24sXG4gICAgICAgKiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IG9ubHkgYSBkYXRlXG4gICAgICAgKiBwaWNrZXIgaXMgZGlzcGxheWVkLiBGb3IgcHJlc2VudGF0aW9uIHN0eWxlc1xuICAgICAgICogdGhhdCBkaXNwbGF5IGNvbnRlbnQgb3RoZXIgdGhhbiBhIGRhdGUgcGlja2VyLFxuICAgICAgICogd2UgbmVlZCB0byB1cGRhdGUgdGhlIHByZXNlbnRhdGlvbiBzdHlsZS5cbiAgICAgICAqL1xuICAgICAgc3dpdGNoIChkYXRldGltZVByZXNlbnRhdGlvbikge1xuICAgICAgICBjYXNlICdkYXRlLXRpbWUnOlxuICAgICAgICBjYXNlICd0aW1lLWRhdGUnOlxuICAgICAgICAgIGNvbnN0IG5lZWRzQ2hhbmdlID0gZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gIT09ICdkYXRlJztcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgZGF0ZSt0aW1lIHdoZWVsIHBpY2tlclxuICAgICAgICAgICAqIHNob3dzIGRhdGUgYW5kIHRpbWUgdG9nZXRoZXIsXG4gICAgICAgICAgICogc28gZG8gbm90IGFkanVzdCB0aGUgcHJlc2VudGF0aW9uXG4gICAgICAgICAgICogaW4gdGhhdCBjYXNlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICghZGF0ZXRpbWVFbC5wcmVmZXJXaGVlbCAmJiBuZWVkc0NoYW5nZSkge1xuICAgICAgICAgICAgZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gPSAnZGF0ZSc7XG4gICAgICAgICAgICBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUcmFjayB3aGljaCBidXR0b24gd2FzIGNsaWNrZWRcbiAgICAgICAqIHNvIHRoYXQgaXQgY2FuIGhhdmUgdGhlIGNvcnJlY3RcbiAgICAgICAqIGFjdGl2YXRlZCBzdHlsZXMgYXBwbGllZCB3aGVuXG4gICAgICAgKiB0aGUgbW9kYWwvcG9wb3ZlciBjb250YWluaW5nXG4gICAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgb3BlbmVkLlxuICAgICAgICovXG4gICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gJ2RhdGUnO1xuICAgICAgdGhpcy5wcmVzZW50T3ZlcmxheShldiwgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UsIHRoaXMuZGF0ZVRhcmdldEVsKTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlVGltZUNsaWNrID0gKGV2KSA9PiB7XG4gICAgICBjb25zdCB7IGRhdGV0aW1lRWwsIGRhdGV0aW1lUHJlc2VudGF0aW9uIH0gPSB0aGlzO1xuICAgICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSA9IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIGNsaWNraW5nIHRoZSB0aW1lIGJ1dHRvbixcbiAgICAgICAqIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgb25seSBhIHRpbWVcbiAgICAgICAqIHBpY2tlciBpcyBkaXNwbGF5ZWQuIEZvciBwcmVzZW50YXRpb24gc3R5bGVzXG4gICAgICAgKiB0aGF0IGRpc3BsYXkgY29udGVudCBvdGhlciB0aGFuIGEgdGltZSBwaWNrZXIsXG4gICAgICAgKiB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcHJlc2VudGF0aW9uIHN0eWxlLlxuICAgICAgICovXG4gICAgICBzd2l0Y2ggKGRhdGV0aW1lUHJlc2VudGF0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2RhdGUtdGltZSc6XG4gICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgICAgY29uc3QgbmVlZHNDaGFuZ2UgPSBkYXRldGltZUVsLnByZXNlbnRhdGlvbiAhPT0gJ3RpbWUnO1xuICAgICAgICAgIGlmIChuZWVkc0NoYW5nZSkge1xuICAgICAgICAgICAgZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gPSAndGltZSc7XG4gICAgICAgICAgICBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUcmFjayB3aGljaCBidXR0b24gd2FzIGNsaWNrZWRcbiAgICAgICAqIHNvIHRoYXQgaXQgY2FuIGhhdmUgdGhlIGNvcnJlY3RcbiAgICAgICAqIGFjdGl2YXRlZCBzdHlsZXMgYXBwbGllZCB3aGVuXG4gICAgICAgKiB0aGUgbW9kYWwvcG9wb3ZlciBjb250YWluaW5nXG4gICAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgb3BlbmVkLlxuICAgICAgICovXG4gICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gJ3RpbWUnO1xuICAgICAgdGhpcy5wcmVzZW50T3ZlcmxheShldiwgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UsIHRoaXMudGltZVRhcmdldEVsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBkYXRldGltZSBpcyBwcmVzZW50ZWQgaW4gYW5cbiAgICAgKiBvdmVybGF5LCB0aGUgZGF0ZXRpbWUgYW5kIG92ZXJsYXlcbiAgICAgKiBzaG91bGQgYmUgYXBwcm9wcmlhdGVseSBzaXplZC5cbiAgICAgKiBUaGVzZSBjbGFzc2VzIHByb3ZpZGUgZGVmYXVsdCBzaXppbmcgdmFsdWVzXG4gICAgICogdGhhdCBkZXZlbG9wZXJzIGNhbiBjdXN0b21pemUuXG4gICAgICogVGhlIGdvYWwgaXMgdG8gcHJvdmlkZSBhbiBvdmVybGF5IHRoYXQgaXNcbiAgICAgKiByZWFzb25hYmx5IHNpemVkIHdpdGggYSBkYXRldGltZSB0aGF0XG4gICAgICogZmlsbHMgdGhlIGVudGlyZSBjb250YWluZXIuXG4gICAgICovXG4gICAgdGhpcy5wcmVzZW50T3ZlcmxheSA9IGFzeW5jIChldiwgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UsIHRyaWdnZXJFbCkgPT4ge1xuICAgICAgY29uc3QgeyBvdmVybGF5RWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIW92ZXJsYXlFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAob3ZlcmxheUVsLnRhZ05hbWUgPT09ICdJT04tUE9QT1ZFUicpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHByZXNlbnRhdGlvbiBvbiBkYXRldGltZSBjaGFuZ2VzLFxuICAgICAgICAgKiB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBjb21wb25lbnQgdG8gcmUtcmVuZGVyXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGUgY29tcHV0ZWQgd2lkdGgvaGVpZ2h0IG9mIHRoZVxuICAgICAgICAgKiBwb3BvdmVyIGNvbnRlbnQgd2lsbCBiZSB3cm9uZywgY2F1c2luZ1xuICAgICAgICAgKiB0aGUgcG9wb3ZlciB0byBub3QgYWxpZ24gd2l0aCB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yRGF0ZXRpbWVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIHBhc3MgdGhlIHRyaWdnZXIgYnV0dG9uIGVsZW1lbnRcbiAgICAgICAgICogc28gdGhhdCB0aGUgcG9wb3ZlciBhbGlnbnMgd2l0aCB0aGUgaW5kaXZpZHVhbFxuICAgICAgICAgKiBidXR0b24gdGhhdCB3YXMgY2xpY2tlZCwgbm90IHRoZSBjb21wb25lbnQgY29udGFpbmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgb3ZlcmxheUVsLnByZXNlbnQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBldiksIHsgZGV0YWlsOiB7XG4gICAgICAgICAgICBpb25TaGFkb3dUYXJnZXQ6IHRyaWdnZXJFbCxcbiAgICAgICAgICB9IH0pKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvdmVybGF5RWwucHJlc2VudCgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgY29uc3QgeyBkYXRldGltZSB9ID0gdGhpcztcbiAgICBpZiAoIWRhdGV0aW1lKSB7XG4gICAgICBwcmludElvbkVycm9yKCdBbiBJRCBhc3NvY2lhdGVkIHdpdGggYW4gaW9uLWRhdGV0aW1lIGluc3RhbmNlIGlzIHJlcXVpcmVkIGZvciBpb24tZGF0ZXRpbWUtYnV0dG9uIHRvIGZ1bmN0aW9uIHByb3Blcmx5LicsIHRoaXMuZWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYXRldGltZUVsID0gKHRoaXMuZGF0ZXRpbWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGV0aW1lKSk7XG4gICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICBwcmludElvbkVycm9yKGBObyBpb24tZGF0ZXRpbWUgaW5zdGFuY2UgZm91bmQgZm9yIElEICcke2RhdGV0aW1lfScuYCwgdGhpcy5lbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbmNlIHRoZSBkYXRldGltZSBjYW4gYmUgdXNlZCBpbiBhbnkgY29udGV4dCAob3ZlcmxheXMsIGFjY29yZGlvbiwgZXRjKVxuICAgICAqIHdlIHRyYWNrIHdoZW4gaXQgaXMgdmlzaWJsZSB0byBkZXRlcm1pbmUgd2hlbiBpdCBpcyBhY3RpdmUuXG4gICAgICogVGhpcyBpbmZvcm1zIHdoaWNoIGJ1dHRvbiBpcyBoaWdobGlnaHRlZCBhcyB3ZWxsIGFzIHRoZVxuICAgICAqIGFyaWEtZXhwYW5kZWQgc3RhdGUuXG4gICAgICovXG4gICAgY29uc3QgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgIGNvbnN0IGV2ID0gZW50cmllc1swXTtcbiAgICAgIHRoaXMuZGF0ZXRpbWVBY3RpdmUgPSBldi5pc0ludGVyc2VjdGluZztcbiAgICB9LCB7XG4gICAgICB0aHJlc2hvbGQ6IDAuMDEsXG4gICAgfSk7XG4gICAgaW8ub2JzZXJ2ZShkYXRldGltZUVsKTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSByZWZlcmVuY2UgdG8gYW55IG1vZGFsL3BvcG92ZXJcbiAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgYmVpbmcgdXNlZCBpbiBzbyB3ZSBjYW5cbiAgICAgKiBjb3JyZWN0bHkgc2l6ZSBpdCB3aGVuIGl0IGlzIHByZXNlbnRlZC5cbiAgICAgKi9cbiAgICBjb25zdCBvdmVybGF5RWwgPSAodGhpcy5vdmVybGF5RWwgPSBkYXRldGltZUVsLmNsb3Nlc3QoJ2lvbi1tb2RhbCwgaW9uLXBvcG92ZXInKSk7XG4gICAgLyoqXG4gICAgICogVGhlIC5pb24tZGF0ZXRpbWUtYnV0dG9uLW92ZXJsYXkgY2xhc3MgY29udGFpbnNcbiAgICAgKiBzdHlsZXMgdGhhdCBhbGxvdyBhbnkgbW9kYWwvcG9wb3ZlciB0byBiZVxuICAgICAqIHNpemVkIGFjY29yZGluZyB0byB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGF0ZXRpbWUuXG4gICAgICogSWYgZGV2ZWxvcGVycyB3YW50IGEgc21hbGxlci9sYXJnZXIgb3ZlcmxheSBhbGwgdGhleSBuZWVkXG4gICAgICogdG8gZG8gaXMgY2hhbmdlIHRoZSB3aWR0aC9oZWlnaHQgb2YgdGhlIGRhdGV0aW1lLlxuICAgICAqIEFkZGl0aW9uYWxseSwgdGhpcyBsZXRzIHVzIGF2b2lkIGhhdmluZyB0byBzZXRcbiAgICAgKiBleHBsaWNpdCB3aWR0aHMgb24gZWFjaCB2YXJpYW50IG9mIGRhdGV0aW1lLlxuICAgICAqL1xuICAgIGlmIChvdmVybGF5RWwpIHtcbiAgICAgIG92ZXJsYXlFbC5jbGFzc0xpc3QuYWRkKCdpb24tZGF0ZXRpbWUtYnV0dG9uLW92ZXJsYXknKTtcbiAgICB9XG4gICAgY29tcG9uZW50T25SZWFkeShkYXRldGltZUVsLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRldGltZVByZXNlbnRhdGlvbiA9ICh0aGlzLmRhdGV0aW1lUHJlc2VudGF0aW9uID0gZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gfHwgJ2RhdGUtdGltZScpO1xuICAgICAgLyoqXG4gICAgICAgKiBTZXQgdGhlIGluaXRpYWwgZGlzcGxheVxuICAgICAgICogaW4gdGhlIHJlbmRlcmVkIGJ1dHRvbnMuXG4gICAgICAgKlxuICAgICAgICogRnJvbSB0aGVyZSwgd2UgbmVlZCB0byBsaXN0ZW5cbiAgICAgICAqIGZvciBpb25DaGFuZ2UgdG8gYmUgZW1pdHRlZFxuICAgICAgICogZnJvbSBkYXRldGltZSBzbyB3ZSBrbm93IHdoZW5cbiAgICAgICAqIHRvIHJlLXJlbmRlciB0aGUgZGlzcGxheWVkXG4gICAgICAgKiB0ZXh0IGluIHRoZSBidXR0b25zLlxuICAgICAgICovXG4gICAgICB0aGlzLnNldERhdGVUaW1lVGV4dCgpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihkYXRldGltZUVsLCAnaW9uQ2hhbmdlJywgdGhpcy5zZXREYXRlVGltZVRleHQpO1xuICAgICAgLyoqXG4gICAgICAgKiBDb25maWd1cmUgdGhlIGluaXRpYWwgc2VsZWN0ZWQgYnV0dG9uXG4gICAgICAgKiBpbiB0aGUgZXZlbnQgdGhhdCB0aGUgZGF0ZXRpbWUgaXMgZGlzcGxheWVkXG4gICAgICAgKiB3aXRob3V0IGNsaWNraW5nIG9uZSBvZiB0aGUgZGF0ZXRpbWUgYnV0dG9ucy5cbiAgICAgICAqIEZvciBleGFtcGxlLCBhIGRhdGV0aW1lIGNvdWxkIGJlIGV4cGFuZGVkXG4gICAgICAgKiBpbiBhbiBhY2NvcmRpb24uIEluIHRoaXMgY2FzZSB1c2VycyBvbmx5XG4gICAgICAgKiBuZWVkIHRvIGNsaWNrIHRoZSBhY2NvcmRpb24gaGVhZGVyIHRvIHNob3dcbiAgICAgICAqIHRoZSBkYXRldGltZS5cbiAgICAgICAqL1xuICAgICAgc3dpdGNoIChkYXRldGltZVByZXNlbnRhdGlvbikge1xuICAgICAgICBjYXNlICdkYXRlLXRpbWUnOlxuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgY2FzZSAnbW9udGgteWVhcic6XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEJ1dHRvbiA9ICdkYXRlJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGltZS1kYXRlJzpcbiAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEJ1dHRvbiA9ICd0aW1lJztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjb2xvciwgZGF0ZVRleHQsIHRpbWVUZXh0LCBzZWxlY3RlZEJ1dHRvbiwgZGF0ZXRpbWVBY3RpdmUsIGRpc2FibGVkIH0gPSB0aGlzO1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiBjcmVhdGVDb2xvckNsYXNzZXMoY29sb3IsIHtcbiAgICAgICAgW21vZGVdOiB0cnVlLFxuICAgICAgICBbYCR7c2VsZWN0ZWRCdXR0b259LWFjdGl2ZWBdOiBkYXRldGltZUFjdGl2ZSxcbiAgICAgICAgWydkYXRldGltZS1idXR0b24tZGlzYWJsZWQnXTogZGlzYWJsZWQsXG4gICAgICB9KSB9LCBkYXRlVGV4dCAmJiAoaChcImJ1dHRvblwiLCB7IGNsYXNzOiBcImlvbi1hY3RpdmF0YWJsZVwiLCBpZDogXCJkYXRlLWJ1dHRvblwiLCBcImFyaWEtZXhwYW5kZWRcIjogZGF0ZXRpbWVBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZURhdGVDbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkLCBwYXJ0OiBcIm5hdGl2ZVwiLCByZWY6IChlbCkgPT4gKHRoaXMuZGF0ZVRhcmdldEVsID0gZWwpIH0sIGgoXCJzbG90XCIsIHsgbmFtZTogXCJkYXRlLXRhcmdldFwiIH0sIGRhdGVUZXh0KSwgbW9kZSA9PT0gJ21kJyAmJiBoKFwiaW9uLXJpcHBsZS1lZmZlY3RcIiwgbnVsbCkpKSwgdGltZVRleHQgJiYgKGgoXCJidXR0b25cIiwgeyBjbGFzczogXCJpb24tYWN0aXZhdGFibGVcIiwgaWQ6IFwidGltZS1idXR0b25cIiwgXCJhcmlhLWV4cGFuZGVkXCI6IGRhdGV0aW1lQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJywgb25DbGljazogdGhpcy5oYW5kbGVUaW1lQ2xpY2ssIGRpc2FibGVkOiBkaXNhYmxlZCwgcGFydDogXCJuYXRpdmVcIiwgcmVmOiAoZWwpID0+ICh0aGlzLnRpbWVUYXJnZXRFbCA9IGVsKSB9LCBoKFwic2xvdFwiLCB7IG5hbWU6IFwidGltZS10YXJnZXRcIiB9LCB0aW1lVGV4dCksIG1vZGUgPT09ICdtZCcgJiYgaChcImlvbi1yaXBwbGUtZWZmZWN0XCIsIG51bGwpKSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuRGF0ZXRpbWVCdXR0b24uc3R5bGUgPSB7XG4gIGlvczogaW9zRGF0ZXRpbWVCdXR0b25Dc3MsXG4gIG1kOiBtZERhdGV0aW1lQnV0dG9uQ3NzXG59O1xuXG5leHBvcnQgeyBEYXRldGltZUJ1dHRvbiBhcyBpb25fZGF0ZXRpbWVfYnV0dG9uIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJoIiwiSCIsIkhvc3QiLCJpIiwiZ2V0RWxlbWVudCIsImIiLCJnZXRJb25Nb2RlIiwiYSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjIiwiY29tcG9uZW50T25SZWFkeSIsInByaW50SW9uRXJyb3IiLCJjcmVhdGVDb2xvckNsYXNzZXMiLCJxIiwicGFyc2VEYXRlIiwidCIsImdldFRvZGF5IiwiSiIsImlzMjRIb3VyIiwiUyIsImdldExvY2FsaXplZERhdGVUaW1lIiwiRyIsImdldE1vbnRoQW5kWWVhciIsIksiLCJnZXRMb2NhbGl6ZWRUaW1lIiwiVCIsImdldE1vbnRoRGF5QW5kWWVhciIsImlvc0RhdGV0aW1lQnV0dG9uQ3NzIiwibWREYXRldGltZUJ1dHRvbkNzcyIsIkRhdGV0aW1lQnV0dG9uIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwiZGF0ZXRpbWVFbCIsIm92ZXJsYXlFbCIsImRhdGV0aW1lUHJlc2VudGF0aW9uIiwiZGF0ZXRpbWVBY3RpdmUiLCJjb2xvciIsImRpc2FibGVkIiwiZ2V0UGFyc2VkRGF0ZVZhbHVlcyIsInZhbHVlIiwidW5kZWZpbmVkIiwiQXJyYXkiLCJpc0FycmF5Iiwic2V0RGF0ZVRpbWVUZXh0IiwibG9jYWxlIiwiaG91ckN5Y2xlIiwicHJlZmVyV2hlZWwiLCJtdWx0aXBsZSIsInRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlciIsInBhcnNlZFZhbHVlcyIsInBhcnNlZERhdGV0aW1lcyIsImxlbmd0aCIsImZpcnN0UGFyc2VkRGF0ZXRpbWUiLCJ1c2UyNEhvdXIiLCJmb3JFYWNoIiwicGFyc2VkRGF0ZXRpbWUiLCJ0ek9mZnNldCIsImRhdGVUZXh0IiwidGltZVRleHQiLCJoZWFkZXJUZXh0IiwiZSIsIm1vbnRoIiwieWVhciIsIndhaXRGb3JEYXRldGltZUNoYW5nZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9uY2UiLCJoYW5kbGVEYXRlQ2xpY2siLCJldiIsIm5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlIiwibmVlZHNDaGFuZ2UiLCJwcmVzZW50YXRpb24iLCJzZWxlY3RlZEJ1dHRvbiIsInByZXNlbnRPdmVybGF5IiwiZGF0ZVRhcmdldEVsIiwiaGFuZGxlVGltZUNsaWNrIiwidGltZVRhcmdldEVsIiwidHJpZ2dlckVsIiwidGFnTmFtZSIsInByZXNlbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJkZXRhaWwiLCJpb25TaGFkb3dUYXJnZXQiLCJjb21wb25lbnRXaWxsTG9hZCIsImRhdGV0aW1lIiwiZWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW8iLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJpc0ludGVyc2VjdGluZyIsInRocmVzaG9sZCIsIm9ic2VydmUiLCJjbG9zZXN0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVuZGVyIiwibW9kZSIsImNsYXNzIiwiaWQiLCJvbkNsaWNrIiwicGFydCIsInJlZiIsIm5hbWUiLCJzdHlsZSIsImlvcyIsIm1kIiwiaW9uX2RhdGV0aW1lX2J1dHRvbiJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8ifQ==